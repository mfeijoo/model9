<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Chapter 10. Data management</title>
    <link rel="stylesheet" type="text/css" href="debian-reference.css"/>
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="home" href="index.en.html" title="Debian Reference"/>
    <link rel="up" href="index.en.html" title="Debian Reference"/>
    <link rel="prev" href="ch09.en.html" title="Chapter 9. System tips"/>
    <link rel="next" href="ch11.en.html" title="Chapter 11. Data conversion"/>
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 10. Data management</th>
        </tr>
        <tr>
          <td align="left"><a accesskey="p" href="ch09.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <th width="60%" align="center"> </th>
          <td align="right"> <a accesskey="n" href="ch11.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
      </table>
      <hr/>
    </div>
    <div class="chapter">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="_data_management"/>Chapter 10. Data management</h1>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Table of Contents</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="ch10.en.html#_sharing_copying_and_archiving">10.1. Sharing, copying, and archiving</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_archive_and_compression_tools">10.1.1. Archive and compression tools</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_copy_and_synchronization_tools">10.1.2. Copy and synchronization tools</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_idioms_for_the_archive">10.1.3. Idioms for the archive</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_idioms_for_the_copy">10.1.4. Idioms for the copy</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_idioms_for_the_selection_of_files">10.1.5. Idioms for the selection of files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_archive_media">10.1.6. Archive media</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_removable_storage_device">10.1.7. Removable storage device</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_filesystem_choice_for_sharing_data">10.1.8. Filesystem choice for sharing data</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_sharing_data_via_network">10.1.9. Sharing data via network</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_backup_and_recovery">10.2. Backup and recovery</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_backup_utility_suites">10.2.1. Backup utility suites</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_an_example_script_for_the_system_backup">10.2.2. An example script for the system backup</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_a_copy_script_for_the_data_backup">10.2.3. A copy script for the data backup</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_data_security_infrastructure">10.3. Data security infrastructure</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_key_management_for_gnupg">10.3.1. Key management for GnuPG</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_using_gnupg_on_files">10.3.2. Using GnuPG on files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_using_gnupg_with_mutt">10.3.3. Using GnuPG with Mutt</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_using_gnupg_with_vim">10.3.4. Using GnuPG with Vim</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_the_md5_sum">10.3.5. The MD5 sum</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_source_code_merge_tools">10.4. Source code merge tools</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_extracting_differences_for_source_files">10.4.1. Extracting differences for source files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_merging_updates_for_source_files">10.4.2. Merging updates for source files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_updating_via_3_way_merge">10.4.3. Updating via 3-way-merge</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_version_control_systems">10.5. Version control systems</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_comparison_of_vcs_commands">10.5.1. Comparison of VCS commands</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_git">10.6. Git</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_configuration_of_git_client">10.6.1. Configuration of Git client</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_git_references">10.6.2. Git references</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_git_commands">10.6.3. Git commands</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_git_for_the_subversion_repository">10.6.4. Git for the Subversion repository</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_git_for_recording_configuration_history">10.6.5. Git for recording configuration history</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_cvs">10.7. CVS</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_configuration_of_cvs_repository">10.7.1. Configuration of CVS repository</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_local_access_to_cvs">10.7.2. Local access to CVS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_remote_access_to_cvs_with_pserver">10.7.3. Remote access to CVS with pserver</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_remote_access_to_cvs_with_ssh">10.7.4. Remote access to CVS with ssh</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_importing_a_new_source_to_cvs">10.7.5. Importing a new source to CVS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_file_permissions_in_cvs_repository">10.7.6. File permissions in CVS repository</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_work_flow_of_cvs">10.7.7. Work flow of CVS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_latest_files_from_cvs">10.7.8. Latest files from CVS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_administration_of_cvs">10.7.9. Administration of CVS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_execution_bit_for_cvs_checkout">10.7.10. Execution bit for CVS checkout</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch10.en.html#_subversion">10.8. Subversion</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_configuration_of_subversion_repository">10.8.1. Configuration of Subversion repository</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_access_to_subversion_via_apache2_server">10.8.2. Access to Subversion via Apache2 server</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_local_access_to_subversion_by_group">10.8.3. Local access to Subversion by group</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_remote_access_to_subversion_via_ssh">10.8.4. Remote access to Subversion via SSH</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_subversion_directory_structure">10.8.5. Subversion directory structure</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_importing_a_new_source_to_subversion">10.8.6. Importing a new source to Subversion</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch10.en.html#_work_flow_of_subversion">10.8.7. Work flow of Subversion</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <p>Tools and tips for managing binary and text data on the Debian system are described.</p>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_sharing_copying_and_archiving"/>10.1. Sharing, copying, and archiving</h2>
            </div>
          </div>
        </div>
        <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Warning">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Warning]" src="images/warning.png"/>
              </td>
              <th align="left">Warning</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>The uncoordinated write access to actively accessed devices and files from multiple processes must not be done to avoid the <a class="ulink" href="https://en.wikipedia.org/wiki/Race_condition">race condition</a>.  <a class="ulink" href="https://en.wikipedia.org/wiki/File_locking">File locking</a> mechanisms using <span class="citerefentry"><span class="refentrytitle">flock</span>(1)</span> may be used to avoid it.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>The security of the data and its controlled sharing have several aspects.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p>
The creation of data archive
</p>
            </li>
            <li class="listitem">
              <p>
The remote storage access
</p>
            </li>
            <li class="listitem">
              <p>
The duplication
</p>
            </li>
            <li class="listitem">
              <p>
The tracking of the modification history
</p>
            </li>
            <li class="listitem">
              <p>
The facilitation of data sharing
</p>
            </li>
            <li class="listitem">
              <p>
The prevention of unauthorized file access
</p>
            </li>
            <li class="listitem">
              <p>
The detection of unauthorized file modification
</p>
            </li>
          </ul>
        </div>
        <p>These can be realized by using some combination of tools.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p>
Archive and compression tools
</p>
            </li>
            <li class="listitem">
              <p>
Copy and synchronization tools
</p>
            </li>
            <li class="listitem">
              <p>
Network filesystems
</p>
            </li>
            <li class="listitem">
              <p>
Removable storage media
</p>
            </li>
            <li class="listitem">
              <p>
The secure shell
</p>
            </li>
            <li class="listitem">
              <p>
The authentication system
</p>
            </li>
            <li class="listitem">
              <p>
Version control system tools
</p>
            </li>
            <li class="listitem">
              <p>
Hash and cryptographic encryption tools
</p>
            </li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_archive_and_compression_tools"/>10.1.1. Archive and compression tools</h3>
              </div>
            </div>
          </div>
          <p>Here is a summary of archive and compression tools available on the Debian system.</p>
          <div class="table">
            <a id="listofarchiveandcompressiontools"/>
            <p class="title">
              <strong>Table 10.1. List of archive and compression tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of archive and compression tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    extension
    </th>
                    <th style="text-align: left">
    command
    </th>
                    <th style="text-align: left">
    comment
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/tar">
                  <code class="literal">tar</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tar">V:916, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/t/tar.html">2880</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.tar</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>
    </td>
                    <td style="text-align: left">
    the standard archiver (de facto standard)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/cpio">
                  <code class="literal">cpio</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cpio">V:464, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/cpio.html">989</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.cpio</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span>
    </td>
                    <td style="text-align: left">
    Unix System V style archiver, use with <span class="citerefentry"><span class="refentrytitle">find</span>(1)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/binutils">
                  <code class="literal">binutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=binutils">V:186, I:694</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/binutils.html">93</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.ar</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">ar</span>(1)</span>
    </td>
                    <td style="text-align: left">
    archiver for the creation of static libraries
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/fastjar">
                  <code class="literal">fastjar</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=fastjar">V:4, I:45</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/fastjar.html">172</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.jar</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">fastjar</span>(1)</span>
    </td>
                    <td style="text-align: left">
    archiver for Java (zip like)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pax">
                  <code class="literal">pax</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pax">V:14, I:36</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pax.html">164</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.pax</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">pax</span>(1)</span>
    </td>
                    <td style="text-align: left">
    new POSIX standard archiver, compromise between <code class="literal">tar</code> and <code class="literal">cpio</code>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gzip">
                  <code class="literal">gzip</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gzip">V:888, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gzip.html">243</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.gz</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">zcat</span>(1)</span>, …
    </td>
                    <td style="text-align: left">
    GNU <a class="ulink" href="https://en.wikipedia.org/wiki/LZ77_and_LZ78">LZ77</a> compression utility (de facto standard)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bzip2">
                  <code class="literal">bzip2</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bzip2">V:178, I:953</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bzip2.html">196</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.bz2</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">bzip2</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">bzcat</span>(1)</span>, …
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Burrows-Wheeler_transform">Burrows-Wheeler block-sorting compression</a> utility with higher compression ratio than <span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span> (slower than <code class="literal">gzip</code> with similar syntax)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/lzma">
                  <code class="literal">lzma</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=lzma">V:3, I:39</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/lzma.html">141</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.lzma</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">lzma</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Lempel-Ziv-Markov_chain_algorithm">LZMA</a> compression utility with higher compression ratio than <span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span>  (deprecated)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/xz-utils">
                  <code class="literal">xz-utils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xz-utils">V:434, I:964</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/xz-utils.html">442</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.xz</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">xz</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">xzdec</span>(1)</span>, …
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Xz">XZ</a> compression utility with higher compression ratio than <span class="citerefentry"><span class="refentrytitle">bzip2</span>(1)</span> (slower than <code class="literal">gzip</code> but faster than <code class="literal">bzip2</code>; replacement for <a class="ulink" href="https://en.wikipedia.org/wiki/Lempel-Ziv-Markov_chain_algorithm">LZMA</a> compression utility)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/p7zip">
                  <code class="literal">p7zip</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=p7zip">V:88, I:439</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/p7zip.html">986</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.7z</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">7zr</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">p7zip</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/7-Zip">7-Zip</a> file archiver with high compression ratio (<a class="ulink" href="https://en.wikipedia.org/wiki/Lempel-Ziv-Markov_chain_algorithm">LZMA</a> compression)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/p7zip-full">
                  <code class="literal">p7zip-full</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=p7zip-full">V:131, I:521</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/p7zip-full.html">4659</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.7z</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">7z</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">7za</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/7-Zip">7-Zip</a> file archiver with high compression ratio (<a class="ulink" href="https://en.wikipedia.org/wiki/Lempel-Ziv-Markov_chain_algorithm">LZMA</a> compression and others)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/lzop">
                  <code class="literal">lzop</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=lzop">V:6, I:51</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/lzop.html">97</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.lzo</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">lzop</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Lempel-Ziv-Oberhumer">LZO</a> compression utility with higher compression and decompression speed than <span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span> (lower compression ratio than <code class="literal">gzip</code> with similar syntax)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/zip">
                  <code class="literal">zip</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=zip">V:50, I:442</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/z/zip.html">608</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.zip</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">zip</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Info-ZIP">InfoZIP</a>: DOS archive and compression tool
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/unzip">
                  <code class="literal">unzip</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=unzip">V:250, I:804</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/u/unzip.html">554</a>
                    </td>
                    <td style="text-align: left">
                  <code class="literal">.zip</code>
                </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">unzip</span>(1)</span>
    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Info-ZIP">InfoZIP</a>: DOS unarchive and decompression tool
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Do not set the "<code class="literal">$TAPE</code>" variable unless you know what to expect.  It changes <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span> behavior.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The gzipped <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span> archive uses the file extension "<code class="literal">.tgz</code>" or "<code class="literal">.tar.gz</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The xz-compressed <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span> archive uses the file extension "<code class="literal">.txz</code>" or "<code class="literal">.tar.xz</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Popular compression method in <a class="ulink" href="https://en.wikipedia.org/wiki/Free_and_open_source_software">FOSS</a> tools such as <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span> has been moving as follows: <code class="literal">gzip</code> → <code class="literal">bzip2</code> → <code class="literal">xz</code></p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span> may have some limitation for special files.  <span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span> is most versatile.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span> is designed to be used with <span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> and other commands and suitable for creating backup scripts since the file selection part of the script can be tested independently.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Internal structure of Libreoffice data files are "<code class="literal">.jar</code>" file which can be opened also by <code class="literal">unzip</code>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The de-facto cross platform archive tool is <code class="literal">zip</code>.  Use it as "<code class="literal">zip -rX</code>" to attain the maximum compatibility.  Use also the "<code class="literal">-s</code>" option, if the maximum file size matters.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_copy_and_synchronization_tools"/>10.1.2. Copy and synchronization tools</h3>
              </div>
            </div>
          </div>
          <p>Here is a summary of simple copy and backup tools available on the Debian system.</p>
          <div class="table">
            <a id="listofcopyandsynhronizationtools"/>
            <p class="title">
              <strong>Table 10.2. List of copy and synchronization tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of copy and synchronization tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    tool
    </th>
                    <th style="text-align: left">
    function
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/coreutils">
                  <code class="literal">coreutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=coreutils">V:888, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html">15719</a>
                    </td>
                    <td style="text-align: left">
    GNU cp
    </td>
                    <td style="text-align: left">
    locally copy files and directories ("-a" for recursive)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/openssh-client">
                  <code class="literal">openssh-client</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=openssh-client">V:811, I:994</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/o/openssh-client.html">3545</a>
                    </td>
                    <td style="text-align: left">
    scp
    </td>
                    <td style="text-align: left">
    remotely copy files and directories (client, "<code class="literal">-r</code>" for recursive)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/openssh-server">
                  <code class="literal">openssh-server</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=openssh-server">V:686, I:813</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/o/openssh-server.html">1449</a>
                    </td>
                    <td style="text-align: left">
    sshd
    </td>
                    <td style="text-align: left">
    remotely copy files and directories (remote server)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/rsync">
                  <code class="literal">rsync</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=rsync">V:365, I:628</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/rsync.html">729</a>
                    </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    1-way remote synchronization and backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/unison">
                  <code class="literal">unison</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=unison">V:3, I:18</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/u/unison.html">3457</a>
                    </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    2-way remote synchronization and backup
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Copying files with <span class="citerefentry"><span class="refentrytitle">rsync</span>(8)</span> offers richer features than others.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
delta-transfer algorithm that sends only the differences between the source files and the existing files in the destination
</p>
              </li>
              <li class="listitem">
                <p>
quick check algorithm (by default) that looks for files that have changed in size or in last-modified time
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">--exclude</code>" and "<code class="literal">--exclude-from</code>" options similar to <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>
</p>
              </li>
              <li class="listitem">
                <p>
"a trailing slash on the source directory" syntax that avoids creating an additional directory level at the destination.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Execution of the <code class="literal">bkup</code> script mentioned in <a class="xref" href="ch10.en.html#_a_copy_script_for_the_data_backup" title="10.2.3. A copy script for the data backup">Section 10.2.3, “A copy script for the data backup”</a> with the "<code class="literal">-gl</code>" option under <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span> should provide very similar functionality as Plan9's <code class="literal">dumpfs</code> for the static data archive.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Version control system (VCS) tools in <a class="xref" href="ch10.en.html#list-of-vcs" title="Table 10.11. List of version control system tools">Table 10.11, “List of version control system tools”</a> can function as the multi-way copy and synchronization tools.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_idioms_for_the_archive"/>10.1.3. Idioms for the archive</h3>
              </div>
            </div>
          </div>
          <p>Here are several ways to archive and unarchive the entire content of the directory "<code class="literal">./source</code>" using different tools.</p>
          <p>GNU <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>:</p>
          <pre class="screen">$ tar -cvJf archive.tar.xz ./source
$ tar -xvJf archive.tar.xz</pre>
          <p>Alternatively, by the following.</p>
          <pre class="screen">$ find ./source -xdev -print0 | tar -cvJf archive.tar.xz --null -F -</pre>
          <p><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span>:</p>
          <pre class="screen">$ find ./source -xdev -print0 | cpio -ov --null &gt; archive.cpio; xz archive.cpio
$ zcat archive.cpio.xz | cpio -i</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_idioms_for_the_copy"/>10.1.4. Idioms for the copy</h3>
              </div>
            </div>
          </div>
          <p>Here are several ways to copy the entire content of the directory "<code class="literal">./source</code>" using different tools.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Local copy: "<code class="literal">./source</code>" directory →  "<code class="literal">/dest</code>" directory
</p>
              </li>
              <li class="listitem">
                <p>
Remote copy: "<code class="literal">./source</code>" directory at local host → "<code class="literal">/dest</code>" directory at "<code class="literal">user@host.dom</code>" host
</p>
              </li>
            </ul>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">rsync</span>(8)</span>:</p>
          <pre class="screen"># cd ./source; rsync -aHAXSv . /dest
# cd ./source; rsync -aHAXSv . user@host.dom:/dest</pre>
          <p>You can alternatively use "a trailing slash on the source directory" syntax.</p>
          <pre class="screen"># rsync -aHAXSv ./source/ /dest
# rsync -aHAXSv ./source/ user@host.dom:/dest</pre>
          <p>Alternatively, by the following.</p>
          <pre class="screen"># cd ./source; find . -print0 | rsync -aHAXSv0 --files-from=- . /dest
# cd ./source; find . -print0 | rsync -aHAXSv0 --files-from=- . user@host.dom:/dest</pre>
          <p>GNU <span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span> and openSSH <span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span>:</p>
          <pre class="screen"># cd ./source; cp -a . /dest
# cd ./source; scp -pr . user@host.dom:/dest</pre>
          <p>GNU <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>:</p>
          <pre class="screen"># (cd ./source &amp;&amp; tar cf - . ) | (cd /dest &amp;&amp; tar xvfp - )
# (cd ./source &amp;&amp; tar cf - . ) | ssh user@host.dom '(cd /dest &amp;&amp; tar xvfp - )'</pre>
          <p><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span>:</p>
          <pre class="screen"># cd ./source; find . -print0 | cpio -pvdm --null --sparse /dest</pre>
          <p>You can substitute "<code class="literal">.</code>" with "<code class="literal">foo</code>" for all examples containing "<code class="literal">.</code>" to copy files from "<code class="literal">./source/foo</code>" directory to "<code class="literal">/dest/foo</code>" directory.</p>
          <p>You can substitute "<code class="literal">.</code>" with the absolute path "<code class="literal">/path/to/source/foo</code>" for all examples containing "<code class="literal">.</code>" to drop "<code class="literal">cd ./source;</code>".  These copy files to different locations depending on tools used as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">/dest/foo</code>": <span class="citerefentry"><span class="refentrytitle">rsync</span>(8)</span>, GNU <span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span>, and <span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span>
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">/dest/path/to/source/foo</code>": GNU <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>, and <span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span>
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">rsync</span>(8)</span> and GNU <span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span> have option "<code class="literal">-u</code>" to skip files that are newer on the receiver.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_idioms_for_the_selection_of_files"/>10.1.5. Idioms for the selection of files</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> is used to select files for archive and copy commands (see <a class="xref" href="ch10.en.html#_idioms_for_the_archive" title="10.1.3. Idioms for the archive">Section 10.1.3, “Idioms for the archive”</a> and <a class="xref" href="ch10.en.html#_idioms_for_the_copy" title="10.1.4. Idioms for the copy">Section 10.1.4, “Idioms for the copy”</a>) or for <span class="citerefentry"><span class="refentrytitle">xargs</span>(1)</span> (see <a class="xref" href="ch09.en.html#_repeating_a_command_looping_over_files" title="9.3.9. Repeating a command looping over files">Section 9.3.9, “Repeating a command looping over files”</a>).  This can be enhanced by using its command arguments.</p>
          <p>Basic syntax of <span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> can be summarized as the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Its conditional arguments are evaluated from left to right.
</p>
              </li>
              <li class="listitem">
                <p>
This evaluation stops once its outcome is determined.
</p>
              </li>
              <li class="listitem">
                <p>
"Logical <span class="strong"><strong>OR</strong></span>" (specified by "<code class="literal">-o</code>" between conditionals) has lower precedence than "logical <span class="strong"><strong>AND</strong></span>" (specified by "<code class="literal">-a</code>" or nothing between conditionals).
</p>
              </li>
              <li class="listitem">
                <p>
"Logical <span class="strong"><strong>NOT</strong></span>" (specified by "<code class="literal">!</code>" before a conditional) has higher precedence than "logical <span class="strong"><strong>AND</strong></span>".
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-prune</code>" always returns logical <span class="strong"><strong>TRUE</strong></span> and, if it is a directory, searching of file is stopped beyond this point.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-name</code>" matches the base of the filename with shell glob (see <a class="xref" href="ch01.en.html#_shell_glob" title="1.5.6. Shell glob">Section 1.5.6, “Shell glob”</a>) but it also matches its initial "<code class="literal">.</code>" with metacharacters such as "<code class="literal">*</code>" and "<code class="literal">?</code>". (New <a class="ulink" href="https://en.wikipedia.org/wiki/POSIX">POSIX</a> feature)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-regex</code>" matches the full path with emacs style <span class="strong"><strong>BRE</strong></span> (see <a class="xref" href="ch01.en.html#_regular_expressions" title="1.6.2. Regular expressions">Section 1.6.2, “Regular expressions”</a>) as default.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-size</code>" matches the file based on the file size (value precedented with "<code class="literal">+</code>" for larger, precedented with "<code class="literal">-</code>" for smaller)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-newer</code>" matches the file newer than the one specified in its argument.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">-print0</code>" always returns logical <span class="strong"><strong>TRUE</strong></span> and print the full filename (<a class="ulink" href="https://en.wikipedia.org/wiki/Null_character">null terminated</a>) on the standard output.
</p>
              </li>
            </ul>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> is often used with an idiomatic style as the following.</p>
          <pre class="screen"># find /path/to \
    -xdev -regextype posix-extended \
    -type f -regex ".*\.cpio|.*~" -prune -o \
    -type d -regex ".*/\.git" -prune -o \
    -type f -size +99M -prune -o \
    -type f -newer /path/to/timestamp -print0</pre>
          <p>This means to do following actions.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
                <p>
Search all files starting from "<code class="literal">/path/to</code>"
</p>
              </li>
              <li class="listitem">
                <p>
Globally limit its search within its starting filesystem and uses <span class="strong"><strong>ERE</strong></span> (see <a class="xref" href="ch01.en.html#_regular_expressions" title="1.6.2. Regular expressions">Section 1.6.2, “Regular expressions”</a>) instead
</p>
              </li>
              <li class="listitem">
                <p>
Exclude files matching regex of "<code class="literal">.*\.cpio</code>" or "<code class="literal">.*~</code>" from search by stop processing
</p>
              </li>
              <li class="listitem">
                <p>
Exclude directories matching regex of "<code class="literal">.*/\.git</code>" from search by stop processing
</p>
              </li>
              <li class="listitem">
                <p>
Exclude files larger than 99 Megabytes (units of 1048576 bytes) from search by stop processing
</p>
              </li>
              <li class="listitem">
                <p>
Print filenames which satisfy above search conditions and are newer than "<code class="literal">/path/to/timestamp</code>"
</p>
              </li>
            </ol>
          </div>
          <p>Please note the idiomatic use of "<code class="literal">-prune -o</code>" to exclude files in the above example.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For non-Debian <a class="ulink" href="https://en.wikipedia.org/wiki/Unix-like">Unix-like</a> system, some options may not be supported by <span class="citerefentry"><span class="refentrytitle">find</span>(1)</span>. In such a case, please consider to adjust matching methods and replace "<code class="literal">-print0</code>" with "<code class="literal">-print</code>".  You may need to adjust related commands too.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_archive_media"/>10.1.6. Archive media</h3>
              </div>
            </div>
          </div>
          <p>When choosing <a class="ulink" href="https://en.wikipedia.org/wiki/Computer_data_storage">computer data storage media</a> for important data archive, you should be careful about their limitations.  For small personal data backup, I use CD-R and DVD-R by the brand name company and store in a cool, shaded, dry, clean environment.  (Tape archive media seem to be popular for professional use.)</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="https://en.wikipedia.org/wiki/Safe">A fire-resistant safe</a> are meant for paper documents.  Most of the computer data storage media have less temperature tolerance than paper. I usually rely on multiple secure encrypted copies stored in multiple secure locations.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Optimistic storage life of archive media seen on the net (mostly from vendor info).</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
100+ years : Acid free paper with ink
</p>
              </li>
              <li class="listitem">
                <p>
100  years : Optical storage  (CD/DVD, CD/DVD-R)
</p>
              </li>
              <li class="listitem">
                <p>
30  years : Magnetic storage (tape, floppy)
</p>
              </li>
              <li class="listitem">
                <p>
20  years : Phase change optical storage (CD-RW)
</p>
              </li>
            </ul>
          </div>
          <p>These do not count on the mechanical failures due to handling etc.</p>
          <p>Optimistic write cycle of archive media seen on the net (mostly from vendor info).</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
250,000+ cycles : Harddisk drive
</p>
              </li>
              <li class="listitem">
                <p>
10,000+ cycles : Flash memory
</p>
              </li>
              <li class="listitem">
                <p>
1,000  cycles : CD/DVD-RW
</p>
              </li>
              <li class="listitem">
                <p>
1  cycles : CD/DVD-R, paper
</p>
              </li>
            </ul>
          </div>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Figures of storage life and write cycle here should not be used for decisions on any critical data storage.   Please consult the specific product information provided by the manufacture.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Since CD/DVD-R and paper have only 1 write cycle, they inherently prevent accidental data loss by overwriting.  This is advantage!</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If you need fast and frequent backup of large amount of data, a hard disk on a remote host linked by a fast network connection, may be the only realistic option.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_removable_storage_device"/>10.1.7. Removable storage device</h3>
              </div>
            </div>
          </div>
          <p>Removable storage devices may be any one of the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/USB_flash_drive">USB flash drive</a>
            </p>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/Hard_disk_drive">Hard disk drive</a>
            </p>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/Optical_disc_drive">Optical disc drive</a>
            </p>
              </li>
              <li class="listitem">
                <p>
Digital camera
</p>
              </li>
              <li class="listitem">
                <p>
Digital music player
</p>
              </li>
            </ul>
          </div>
          <p>They may be connected via any one of the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/Universal_Serial_Bus">USB</a>
            </p>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/IEEE_1394">IEEE 1394 / FireWire</a>
            </p>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="https://en.wikipedia.org/wiki/PC_card">PC Card</a>
            </p>
              </li>
            </ul>
          </div>
          <p>Modern desktop environments such as GNOME and KDE can mount these removable devices automatically without a matching "<code class="literal">/etc/fstab</code>" entry.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><code class="literal">udisks</code> package provides a daemon and associated utilities to mount and unmount these devices.
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/D-Bus">D-bus</a> creates events to initiate automatic processes.
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/PolicyKit">PolicyKit</a> provides required privileges.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Automounted devices may have the "<code class="literal">uhelper=</code>" mount option which is used by <span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Automounting under modern desktop environment happens only when those removable media devices are not listed in "<code class="literal">/etc/fstab</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Mount point under modern desktop environment is chosen as "<code class="literal">/media/&lt;disk_label&gt;</code>" which can be customized by the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">mlabel</span>(1)</span> for FAT filesystem
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">genisoimage</span>(1)</span> with "<code class="literal">-V</code>" option for ISO9660 filesystem
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">tune2fs</span>(1)</span> with "<code class="literal">-L</code>" option for ext2/ext3/ext4 filesystem
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The choice of encoding may need to be provided as mount option (see <a class="xref" href="ch08.en.html#_filename_encoding" title="8.4.6. Filename encoding">Section 8.4.6, “Filename encoding”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The use of the GUI menu to unmount a filesystem may remove its dynamically generated device node such as "<code class="literal">/dev/sdc</code>".  If you wish to keep its device node, unmount it with the <span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span> command from the shell prompt.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_filesystem_choice_for_sharing_data"/>10.1.8. Filesystem choice for sharing data</h3>
              </div>
            </div>
          </div>
          <p>When sharing data with other system via removable storage device, you should format it with common <a class="ulink" href="https://en.wikipedia.org/wiki/File_system">filesystem</a> supported by both systems. Here is a list of filesystem choices.</p>
          <div class="table">
            <a id="listoffilesystemalusagescenarios"/>
            <p class="title">
              <strong>Table 10.3. List of filesystem choices for removable storage devices with typical usage scenarios</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of filesystem choices for removable storage devices with typical usage scenarios" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    filesystem
    </th>
                    <th style="text-align: left">
    description of typical usage scenario
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/File_Allocation_Table">FAT12</a>
                </td>
                    <td style="text-align: left">
    cross platform sharing of data on the floppy disk (&lt;32MiB)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/File_Allocation_Table">FAT16</a>
                </td>
                    <td style="text-align: left">
    cross platform sharing of data on the small hard disk like device (&lt;2GiB)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/File_Allocation_Table">FAT32</a>
                </td>
                    <td style="text-align: left">
    cross platform sharing of data on the large hard disk like device (&lt;8TiB, supported by newer than MS Windows95 OSR2)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/NTFS">NTFS</a>
                </td>
                    <td style="text-align: left">
    cross platform sharing of data on the large hard disk like device (supported natively on <a class="ulink" href="https://en.wikipedia.org/wiki/Windows_NT">MS Windows NT</a> and later version, and supported by <a class="ulink" href="https://en.wikipedia.org/wiki/NTFS-3G">NTFS-3G</a> via <a class="ulink" href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace">FUSE</a> on Linux)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/ISO_9660">ISO9660</a>
                </td>
                    <td style="text-align: left">
    cross platform sharing of static data on CD-R and DVD+/-R
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/Universal_Disk_Format">UDF</a>
                </td>
                    <td style="text-align: left">
    incremental data writing on CD-R and DVD+/-R (new)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/Minix_file_system">MINIX filesystem</a>
                </td>
                    <td style="text-align: left">
    space efficient unix file data storage on the floppy disk
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/Ext2">ext2 filesystem</a>
                </td>
                    <td style="text-align: left">
    sharing of data on the hard disk like device with older Linux systems
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3 filesystem</a>
                </td>
                    <td style="text-align: left">
    sharing of data on the hard disk like device with older Linux systems
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4 filesystem</a>
                </td>
                    <td style="text-align: left">
    sharing of data on the hard disk like device with current Linux systems
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>See <a class="xref" href="ch09.en.html#_removable_disk_encryption_with_dm_crypt_luks" title="9.8.1. Removable disk encryption with dm-crypt/LUKS">Section 9.8.1, “Removable disk encryption with dm-crypt/LUKS”</a> for cross platform sharing of data using device level encryption.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>The FAT filesystem is supported by almost all modern operating systems and is quite useful for the data exchange purpose via removable hard disk like media.</p>
          <p>When formatting removable hard disk like devices for cross platform sharing of data with the FAT filesystem, the following should be safe choices.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Partitioning them with <span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">cfdisk</span>(8)</span> or <span class="citerefentry"><span class="refentrytitle">parted</span>(8)</span> (see <a class="xref" href="ch09.en.html#_disk_partition_configuration" title="9.5.2. Disk partition configuration">Section 9.5.2, “Disk partition configuration”</a>) into a single primary partition and to mark it as the following.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Type "6" for FAT16 for media smaller than 2GB.
</p>
                    </li>
                    <li class="listitem">
                      <p>
Type "c" for FAT32 (LBA) for larger media.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Formatting the primary partition with <span class="citerefentry"><span class="refentrytitle">mkfs.vfat</span>(8)</span> with the following.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Just its device name, e.g. "<code class="literal">/dev/sda1</code>" for FAT16
</p>
                    </li>
                    <li class="listitem">
                      <p>
The explicit option and its device name, e.g. "<code class="literal">-F 32 /dev/sda1</code>" for FAT32
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <p>When using the FAT or ISO9660 filesystems for sharing data, the following should be the safe considerations.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Archiving files into an archive file first using <span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span>, or <span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span> to retain the long filename, the symbolic link, the original Unix file permission and the owner information.
</p>
              </li>
              <li class="listitem">
                <p>
Splitting the archive file into less than 2 GiB chunks with the <span class="citerefentry"><span class="refentrytitle">split</span>(1)</span> command to protect it from the file size limitation.
</p>
              </li>
              <li class="listitem">
                <p>
Encrypting the archive file to secure its contents from the unauthorized access.
</p>
              </li>
            </ul>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For FAT filesystems by its design, the maximum file size is <code class="literal">(2^32 - 1) bytes = (4GiB - 1 byte)</code>. For some applications on the older 32 bit OS, the maximum file size was even smaller <code class="literal">(2^31 - 1) bytes = (2GiB - 1 byte)</code>.  Debian does not suffer the latter problem.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Microsoft itself does not recommend to use FAT for drives or partitions of over 200 MB.  Microsoft highlights its short comings such as inefficient disk space usage in their "<a class="ulink" href="http://support.microsoft.com/kb/100108/">Overview of FAT, HPFS, and NTFS File Systems</a>".  Of course, we should normally use the ext4 filesystem for Linux.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For more on filesystems and accessing filesystems, please read "<a class="ulink" href="http://tldp.org/HOWTO/Filesystems-HOWTO.html">Filesystems HOWTO</a>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_sharing_data_via_network"/>10.1.9. Sharing data via network</h3>
              </div>
            </div>
          </div>
          <p>When sharing data with other system via network, you should use common service. Here are some hints.</p>
          <div class="table">
            <a id="listofthenetworkcalusagescenario"/>
            <p class="title">
              <strong>Table 10.4. List of the network service to chose with the typical usage scenario</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of the network service to chose with the typical usage scenario" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    network service
    </th>
                    <th style="text-align: left">
    description of typical usage scenario
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Server_Message_Block">SMB/CIFS</a> network mounted filesystem with <a class="ulink" href="https://en.wikipedia.org/wiki/Samba_(software)">Samba</a>
    </td>
                    <td style="text-align: left">
    sharing files via "Microsoft Windows Network", see <span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span> and <a class="ulink" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/">The Official Samba 3.x.x HOWTO and Reference Guide</a> or the <code class="literal">samba-doc</code> package
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Network_File_System_(protocol)">NFS</a> network mounted filesystem with the Linux kernel
    </td>
                    <td style="text-align: left">
    sharing files via "Unix/Linux Network", see <span class="citerefentry"><span class="refentrytitle">exports</span>(5)</span> and <a class="ulink" href="http://tldp.org/HOWTO/NFS-HOWTO/index.html">Linux NFS-HOWTO</a>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> service
    </td>
                    <td style="text-align: left">
    sharing file between the web server/client
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Https">HTTPS</a> service
    </td>
                    <td style="text-align: left">
    sharing file between the web server/client with encrypted Secure Sockets Layer (SSL) or <a class="ulink" href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</a> (TLS)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/File_Transfer_Protocol">FTP</a> service
    </td>
                    <td style="text-align: left">
    sharing file between the FTP server/client
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Although these filesystems mounted over network and file transfer methods over network are quite convenient for sharing data, these may be insecure.  Their network connection must be secured by the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Encrypt it with <a class="ulink" href="https://en.wikipedia.org/wiki/Transport_Layer_Security">SSL/TLS</a>
</p>
              </li>
              <li class="listitem">
                <p>
Tunnel it via <a class="ulink" href="https://en.wikipedia.org/wiki/Secure_Shell">SSH</a>
</p>
              </li>
              <li class="listitem">
                <p>
Tunnel it via <a class="ulink" href="https://en.wikipedia.org/wiki/Virtual_private_network">VPN</a>
</p>
              </li>
              <li class="listitem">
                <p>
Limit it behind the secure firewall
</p>
              </li>
            </ul>
          </div>
          <p>See also <a class="xref" href="ch06.en.html#_other_network_application_servers" title="6.10. Other network application servers">Section 6.10, “Other network application servers”</a> and <a class="xref" href="ch06.en.html#_other_network_application_clients" title="6.11. Other network application clients">Section 6.11, “Other network application clients”</a>.</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_backup_and_recovery"/>10.2. Backup and recovery</h2>
            </div>
          </div>
        </div>
        <p>We all know that computers fail sometime or human errors cause system and data damages.  Backup and recovery operations are the essential part of successful system administration.  All possible failure modes hit you some day.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Tip]" src="images/tip.png"/>
              </td>
              <th align="left">Tip</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Keep your backup system simple and backup your system often.  Having backup data is more important than how technically good your backup method is.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>There are 3 key factors which determine actual backup and recovery policy.</p>
        <div class="orderedlist">
          <ol class="orderedlist">
            <li class="listitem">
              <p>
Knowing what to backup and recover.
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <p>
Data files directly created by you: data in "<code class="literal">~/</code>"
</p>
                  </li>
                  <li class="listitem">
                    <p>
Data files created by applications used by you: data in "<code class="literal">/var/</code>" (except "<code class="literal">/var/cache/</code>", "<code class="literal">/var/run/</code>", and "<code class="literal">/var/tmp/</code>")
</p>
                  </li>
                  <li class="listitem">
                    <p>
System configuration files: data in "<code class="literal">/etc/</code>"
</p>
                  </li>
                  <li class="listitem">
                    <p>
Local softwares: data in "<code class="literal">/usr/local/</code>" or "<code class="literal">/opt/</code>"
</p>
                  </li>
                  <li class="listitem">
                    <p>
System installation information: a memo in plain text on key steps (partition, …)
</p>
                  </li>
                  <li class="listitem">
                    <p>
Proven set of data: confirmed by experimental recovery operations in advance
</p>
                  </li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p>
Knowing how to backup and recover.
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <p>
Secure storage of data: protection from overwrite and system failure
</p>
                  </li>
                  <li class="listitem">
                    <p>
Frequent backup: scheduled backup
</p>
                  </li>
                  <li class="listitem">
                    <p>
Redundant backup: data mirroring
</p>
                  </li>
                  <li class="listitem">
                    <p>
Fool proof process: easy single command backup
</p>
                  </li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p>
Assessing risks and costs involved.
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <p>
Value of data when lost
</p>
                  </li>
                  <li class="listitem">
                    <p>
Required resources for backup: human, hardware, software, …
</p>
                  </li>
                  <li class="listitem">
                    <p>
Failure mode and their possibility
</p>
                  </li>
                </ul>
              </div>
            </li>
          </ol>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Do not back up the pseudo-filesystem contents found on <code class="literal">/proc</code>, <code class="literal">/sys</code>, <code class="literal">/tmp</code>, and <code class="literal">/run</code> (see <a class="xref" href="ch01.en.html#_procfs_and_sysfs" title="1.2.12. procfs and sysfs">Section 1.2.12, “procfs and sysfs”</a> and <a class="xref" href="ch01.en.html#_tmpfs" title="1.2.13. tmpfs">Section 1.2.13, “tmpfs”</a>).   Unless you know exactly what you are doing, they are huge useless data.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>As for secure storage of data, data should be at least on different disk partitions preferably on different disks and machines to withstand the filesystem corruption.  Important data are best stored on a write-once media such as CD/DVD-R to prevent overwrite accidents.  (See <a class="xref" href="ch09.en.html#_the_binary_data" title="9.7. The binary data">Section 9.7, “The binary data”</a> for how to write to the storage media from the shell commandline.  GNOME desktop GUI environment gives you easy access via menu: "Places→CD/DVD Creator".)</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>You may wish to stop some application daemons such as MTA (see <a class="xref" href="ch06.en.html#_mail_transport_agent_mta" title="6.3. Mail transport agent (MTA)">Section 6.3, “Mail transport agent (MTA)”</a>) while backing up data.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>You should pay extra care to the backup and restoration of identity related data files such as "<code class="literal">/etc/ssh/ssh_host_dsa_key</code>", "<code class="literal">/etc/ssh/ssh_host_rsa_key</code>", "<code class="literal">~/.gnupg/*</code>", "<code class="literal">~/.ssh/*</code>", "<code class="literal">/etc/passwd</code>", "<code class="literal">/etc/shadow</code>", "<code class="literal">/etc/fetchmailrc</code>", "<code class="literal">popularity-contest.conf</code>", "<code class="literal">/etc/ppp/pap-secrets</code>", and "<code class="literal">/etc/exim4/passwd.client</code>".  Some of these data can not be regenerated by entering the same input string to the system.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>If you run a cron job as a user process, you must restore files in "<code class="literal">/var/spool/cron/crontabs</code>" directory and restart <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span>.  See <a class="xref" href="ch09.en.html#_scheduling_tasks_regularly" title="9.3.14. Scheduling tasks regularly">Section 9.3.14, “Scheduling tasks regularly”</a> for <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span>.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_backup_utility_suites"/>10.2.1. Backup utility suites</h3>
              </div>
            </div>
          </div>
          <p>Here is a select list of notable backup utility suites available on the Debian system.</p>
          <div class="table">
            <a id="listofbackupsuiteutilities"/>
            <p class="title">
              <strong>Table 10.5. List of backup suite utilities</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of backup suite utilities" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dump">
                  <code class="literal">dump</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dump">V:1, I:6</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dump.html">340</a>
                    </td>
                    <td style="text-align: left">
    4.4 <a class="ulink" href="https://en.wikipedia.org/wiki/Berkeley_Software_Distribution">BSD</a> <span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span> for <a class="ulink" href="https://en.wikipedia.org/wiki/Ext2">ext2</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystems
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/xfsdump">
                  <code class="literal">xfsdump</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xfsdump">V:0, I:10</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/xfsdump.html">834</a>
                    </td>
                    <td style="text-align: left">
    dump and restore with <span class="citerefentry"><span class="refentrytitle">xfsdump</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">xfsrestore</span>(8)</span> for <a class="ulink" href="https://en.wikipedia.org/wiki/XFS">XFS</a> filesystem on GNU/Linux and <a class="ulink" href="https://en.wikipedia.org/wiki/IRIX">IRIX</a>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/backupninja">
                  <code class="literal">backupninja</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=backupninja">V:4, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/backupninja.html">355</a>
                    </td>
                    <td style="text-align: left">
    lightweight, extensible <span class="strong"><strong>meta-backup</strong></span> system
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bacula-common">
                  <code class="literal">bacula-common</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bacula-common">V:10, I:17</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bacula-common.html">2369</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Bacula">Bacula</a>: network backup, recovery and verification - common support files
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bacula-client">
                  <code class="literal">bacula-client</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bacula-client">I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bacula-client.html">175</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Bacula">Bacula</a>: network backup, recovery and verification - client meta-package
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bacula-console">
                  <code class="literal">bacula-console</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bacula-console">V:1, I:6</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bacula-console.html">75</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Bacula">Bacula</a>: network backup, recovery and verification - text console
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bacula-server">
                  <code class="literal">bacula-server</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bacula-server">I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bacula-server.html">175</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Bacula">Bacula</a>: network backup, recovery and verification - server meta-package
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/amanda-common">
                  <code class="literal">amanda-common</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=amanda-common">V:1, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/amanda-common.html">9890</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver">Amanda</a>: Advanced Maryland Automatic Network Disk Archiver (Libs)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/amanda-client">
                  <code class="literal">amanda-client</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=amanda-client">V:1, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/amanda-client.html">1133</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver">Amanda</a>: Advanced Maryland Automatic Network Disk Archiver (Client)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/amanda-server">
                  <code class="literal">amanda-server</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=amanda-server">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/amanda-server.html">1089</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver">Amanda</a>: Advanced Maryland Automatic Network Disk Archiver (Server)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/backup-manager">
                  <code class="literal">backup-manager</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=backup-manager">V:1, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/backup-manager.html">571</a>
                    </td>
                    <td style="text-align: left">
    command-line backup tool
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/backup2l">
                  <code class="literal">backup2l</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=backup2l">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/backup2l.html">114</a>
                    </td>
                    <td style="text-align: left">
    low-maintenance backup/restore tool for mountable media (disk based)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/backuppc">
                  <code class="literal">backuppc</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=backuppc">V:4, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/backuppc.html">2284</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Backuppc">BackupPC</a> is a high-performance, enterprise-grade system for backing up PCs (disk based)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/duplicity">
                  <code class="literal">duplicity</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=duplicity">V:8, I:15</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/duplicity.html">1609</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/flexbackup">
                  <code class="literal">flexbackup</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=flexbackup">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/flexbackup.html">243</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/rdiff-backup">
                  <code class="literal">rdiff-backup</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=rdiff-backup">V:8, I:16</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/rdiff-backup.html">704</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/restic">
                  <code class="literal">restic</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=restic">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/restic.html">22182</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/rsnapshot">
                  <code class="literal">rsnapshot</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=rsnapshot">V:6, I:11</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/rsnapshot.html">452</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/slbackup">
                  <code class="literal">slbackup</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=slbackup">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/slbackup.html">152</a>
                    </td>
                    <td style="text-align: left">
    (remote) incremental backup
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Backup tools have their specialized focuses.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/Mondo_Rescue">Mondo Rescue</a> is a backup system to facilitate restoration of complete system quickly from backup CD/DVD etc. without going through normal system installation processes.
</p>
              </li>
              <li class="listitem">
                <p>
Regular backups of user data can be realized by a simple script (<a class="xref" href="ch10.en.html#_an_example_script_for_the_system_backup" title="10.2.2. An example script for the system backup">Section 10.2.2, “An example script for the system backup”</a>) and <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span>.
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/Bacula">Bacula</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver">Amanda</a>, and <a class="ulink" href="https://en.wikipedia.org/wiki/Backuppc">BackupPC</a> are full featured backup suite utilities which are focused on regular backups over network.
</p>
              </li>
            </ul>
          </div>
          <p>Basic tools described in <a class="xref" href="ch10.en.html#_archive_and_compression_tools" title="10.1.1. Archive and compression tools">Section 10.1.1, “Archive and compression tools”</a> and <a class="xref" href="ch10.en.html#_copy_and_synchronization_tools" title="10.1.2. Copy and synchronization tools">Section 10.1.2, “Copy and synchronization tools”</a> can be used to facilitate system backup via custom scripts.  Such script can be enhanced by the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
The <code class="literal">restic</code> package enables incremental (remote) backups.
</p>
              </li>
              <li class="listitem">
                <p>
The <code class="literal">rdiff-backup</code> package enables incremental (remote) backups.
</p>
              </li>
              <li class="listitem">
                <p>
The <code class="literal">dump</code> package helps to archive and restore the whole filesystem incrementally and efficiently.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>See files in "<code class="literal">/usr/share/doc/dump/</code>" and <a class="ulink" href="http://dump.sourceforge.net/isdumpdeprecated.html">"Is dump really deprecated?"</a> to learn about the <code class="literal">dump</code> package.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_an_example_script_for_the_system_backup"/>10.2.2. An example script for the system backup</h3>
              </div>
            </div>
          </div>
          <p>For a personal Debian desktop system running <code class="literal">unstable</code> suite, I only need to protect personal and critical data.  I reinstall system once a year anyway.  Thus I see no reason to backup the whole system or to install a full featured backup utility.</p>
          <p>I use a simple script to make a backup archive and burn it into CD/DVD using GUI.  Here is an example script for this.</p>
          <pre class="screen">#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
BUUID=1000; USER=osamu # UID and name of a user who accesses backup files
BUDIR="/var/backups"
XDIR0=".+/Mail|.+/Desktop"
XDIR1=".+/\.thumbnails|.+/\.?Trash|.+/\.?[cC]ache|.+/\.gvfs|.+/sessions"
XDIR2=".+/CVS|.+/\.git|.+/\.svn|.+/Downloads|.+/Archive|.+/Checkout|.+/tmp"
XSFX=".+\.iso|.+\.tgz|.+\.tar\.gz|.+\.tar\.bz2|.+\.cpio|.+\.tmp|.+\.swp|.+~"
SIZE="+99M"
DATE=$(date --utc +"%Y%m%d-%H%M")
[ -d "$BUDIR" ] || mkdir -p "BUDIR"
umask 077
dpkg --get-selections \* &gt; /var/lib/dpkg/dpkg-selections.list
debconf-get-selections &gt; /var/cache/debconf/debconf-selections

{
find /etc /usr/local /opt /var/lib/dpkg/dpkg-selections.list \
     /var/cache/debconf/debconf-selections -xdev -print0
find /home/$USER /root -xdev -regextype posix-extended \
  -type d -regex "$XDIR0|$XDIR1" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
find /home/$USER/Mail/Inbox /home/$USER/Mail/Outbox -print0
find /home/$USER/Desktop  -xdev -regextype posix-extended \
  -type d -regex "$XDIR2" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
} | cpio -ov --null -O $BUDIR/BU$DATE.cpio
chown $BUUID $BUDIR/BU$DATE.cpio
touch $BUDIR/backup.stamp</pre>
          <p>This is meant to be a script example executed from root.</p>
          <p>I expect you to change and execute this as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Edit this script to cover all your important data (see <a class="xref" href="ch10.en.html#_idioms_for_the_selection_of_files" title="10.1.5. Idioms for the selection of files">Section 10.1.5, “Idioms for the selection of files”</a> and <a class="xref" href="ch10.en.html#_backup_and_recovery" title="10.2. Backup and recovery">Section 10.2, “Backup and recovery”</a>).
</p>
              </li>
              <li class="listitem">
                <p>
Replace "<code class="literal">find … -print0</code>" with "<code class="literal">find … -newer $BUDIR/backup.stamp -print0</code>" to make a incremental backup.
</p>
              </li>
              <li class="listitem">
                <p>
Transfer backup files to the remote host using <span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span> or <span class="citerefentry"><span class="refentrytitle">rsync</span>(1)</span> or burn them to CD/DVD for extra data security.  (I use GNOME desktop GUI for burning CD/DVD. See <a class="xref" href="ch12.en.html#_shell_script_example_with_zenity" title="12.1.8. Shell script example with zenity">Section 12.1.8, “Shell script example with zenity”</a> for extra redundancy.)
</p>
              </li>
            </ul>
          </div>
          <p>Keep it simple!</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can recover debconf configuration data with "<code class="literal">debconf-set-selections debconf-selections</code>" and dpkg selection data with "<code class="literal">dpkg --set-selection &lt;dpkg-selections.list</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_a_copy_script_for_the_data_backup"/>10.2.3. A copy script for the data backup</h3>
              </div>
            </div>
          </div>
          <p>For the set of data under a directory tree, the copy with "<code class="literal">cp -a</code>" provides the normal backup.</p>
          <p>For the set of large non-overwritten static data under a directory tree such as the one under the "<code class="literal">/var/cache/apt/packages/</code>" directory, hardlinks with "<code class="literal">cp -al</code>" provide an alternative to the normal backup with efficient use of the disk space.</p>
          <p>Here is a copy script, which I named as <code class="literal">bkup</code>, for the data backup. This script copies all (non-VCS) files under the current directory to the dated directory on the parent directory or on a remote host.</p>
          <pre class="screen">#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
fdot(){ find . -type d \( -iname ".?*" -o -iname "CVS" \) -prune -o -print0;}
fall(){ find . -print0;}
mkdircd(){ mkdir -p "$1";chmod 700 "$1";cd "$1"&gt;/dev/null;}
FIND="fdot";OPT="-a";MODE="CPIOP";HOST="localhost";EXTP="$(hostname -f)"
BKUP="$(basename $(pwd)).bkup";TIME="$(date  +%Y%m%d-%H%M%S)";BU="$BKUP/$TIME"
while getopts gcCsStrlLaAxe:h:T f; do case $f in
g)  MODE="GNUCP";; # cp (GNU)
c)  MODE="CPIOP";; # cpio -p
C)  MODE="CPIOI";; # cpio -i
s)  MODE="CPIOSSH";; # cpio/ssh
t)  MODE="TARSSH";; # tar/ssh
r)  MODE="RSYNCSSH";; # rsync/ssh
l)  OPT="-alv";; # hardlink (GNU cp)
L)  OPT="-av";;  # copy (GNU cp)
a)  FIND="fall";; # find all
A)  FIND="fdot";; # find non CVS/ .???/
x)  set -x;; # trace
e)  EXTP="${OPTARG}";; # hostname -f
h)  HOST="${OPTARG}";; # user@remotehost.example.com
T)  MODE="TEST";; # test find mode
\?) echo "use -x for trace."
esac; done
shift $(expr $OPTIND - 1)
if [ $# -gt 0 ]; then
  for x in $@; do cp $OPT $x $x.$TIME; done
elif [ $MODE = GNUCP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU";cp $OPT . "../$BU/"
elif [ $MODE = CPIOP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU"
  $FIND|cpio --null --sparse -pvd ../$BU
elif [ $MODE = CPIOI ]; then
  $FIND|cpio -ov --null | ( mkdircd "../$BU"&amp;&amp;cpio -i )
elif [ $MODE = CPIOSSH ]; then
  $FIND|cpio -ov --null|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;cpio -i )"
elif [ $MODE = TARSSH ]; then
  (tar cvf - . )|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp; tar xvfp - )"
elif [ $MODE = RSYNCSSH ]; then
  rsync -aHAXSv ./ "${HOST}:${EXTP}-${BKUP}-${TIME}"
else
  echo "Any other idea to backup?"
  $FIND |xargs -0 -n 1 echo
fi</pre>
          <p>This is meant to be command examples.  Please read script and edit it by yourself before using it.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>I keep this <code class="literal">bkup</code> in my "<code class="literal">/usr/local/bin/</code>" directory.  I issue this <code class="literal">bkup</code> command without any option in the working directory whenever I need a temporary snapshot backup.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For making snapshot history of a source file tree or a configuration file tree, it is easier and space efficient to use <span class="citerefentry"><span class="refentrytitle">git</span>(7)</span> (see <a class="xref" href="ch10.en.html#_git_for_recording_configuration_history" title="10.6.5. Git for recording configuration history">Section 10.6.5, “Git for recording configuration history”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_data_security_infrastructure"/>10.3. Data security infrastructure</h2>
            </div>
          </div>
        </div>
        <p>The data security infrastructure is provided by the combination of data encryption tool, message digest tool, and signature tool.</p>
        <div class="table">
          <a id="listofdatasecurirastructuretools"/>
          <p class="title">
            <strong>Table 10.6. List of data security infrastructure tools</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of data security infrastructure tools" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    command
    </th>
                  <th style="text-align: left">
    description
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/gnupg">
                <code class="literal">gnupg</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gnupg">V:737, I:996</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/g/gnupg.html">727</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">gpg</span>(1)</span>
    </td>
                  <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU Privacy Guard</a> -  OpenPGP encryption and signing tool
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/gpgv">
                <code class="literal">gpgv</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gpgv">V:880, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/g/gpgv.html">840</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">gpgv</span>(1)</span>
    </td>
                  <td style="text-align: left">
    GNU Privacy Guard - signature verification tool
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/paperkey">
                <code class="literal">paperkey</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=paperkey">V:0, I:6</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/paperkey.html">58</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">paperkey</span>(1)</span>
    </td>
                  <td style="text-align: left">
    extract just the secret information out of OpenPGP secret keys
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cryptsetup">
                <code class="literal">cryptsetup</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cryptsetup">V:32, I:80</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cryptsetup.html">67</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">cryptsetup</span>(8)</span>, …
    </td>
                  <td style="text-align: left">
    utilities for <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypto</a> block device encryption supporting <a class="ulink" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a>
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/ecryptfs-utils">
                <code class="literal">ecryptfs-utils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ecryptfs-utils">V:5, I:8</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/e/ecryptfs-utils.html">396</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">ecryptfs</span>(7)</span>, …
    </td>
                  <td style="text-align: left">
    utilities for <a class="ulink" href="http://ecryptfs.sourceforge.net/">ecryptfs</a> stacked filesystem encryption
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/coreutils">
                <code class="literal">coreutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=coreutils">V:888, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html">15719</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">md5sum</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compute and check MD5 message digest
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/coreutils">
                <code class="literal">coreutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=coreutils">V:888, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html">15719</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">sha1sum</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compute and check SHA1 message digest
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/openssl">
                <code class="literal">openssl</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=openssl">V:808, I:992</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/o/openssl.html">1452</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">openssl</span>(1ssl)</span>
    </td>
                  <td style="text-align: left">
    compute message digest with "<code class="literal">openssl dgst</code>" (OpenSSL)
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <p>See <a class="xref" href="ch09.en.html#_data_encryption_tips" title="9.8. Data encryption tips">Section 9.8, “Data encryption tips”</a> on <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypto</a> and <a class="ulink" href="http://ecryptfs.sourceforge.net/">ecryptfs</a> which implement automatic data encryption infrastructure via Linux kernel modules.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_key_management_for_gnupg"/>10.3.1. Key management for GnuPG</h3>
              </div>
            </div>
          </div>
          <p>Here are <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU Privacy Guard</a> commands for the basic key management.</p>
          <div class="table">
            <a id="listofgnuprivacythekeymanagement"/>
            <p class="title">
              <strong>Table 10.7. List of GNU Privacy Guard commands for the key management</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of GNU Privacy Guard commands for the key management" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    command
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --gen-key</code>
                </td>
                    <td style="text-align: left">
    generate a new key
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --gen-revoke my_user_ID</code>
                </td>
                    <td style="text-align: left">
    generate revoke key for my_user_ID
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --edit-key user_ID</code>
                </td>
                    <td style="text-align: left">
    edit key interactively, "help" for help
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o file --export</code>
                </td>
                    <td style="text-align: left">
    export all keys to file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --import file</code>
                </td>
                    <td style="text-align: left">
    import all keys from file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --send-keys user_ID</code>
                </td>
                    <td style="text-align: left">
    send key of user_ID to keyserver
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --recv-keys user_ID</code>
                </td>
                    <td style="text-align: left">
    recv. key of user_ID from keyserver
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --list-keys user_ID</code>
                </td>
                    <td style="text-align: left">
    list keys of user_ID
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --list-sigs user_ID</code>
                </td>
                    <td style="text-align: left">
    list sig. of user_ID
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --check-sigs user_ID</code>
                </td>
                    <td style="text-align: left">
    check sig. of user_ID
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --fingerprint user_ID</code>
                </td>
                    <td style="text-align: left">
    check fingerprint of user_ID
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --refresh-keys</code>
                </td>
                    <td style="text-align: left">
    update local keyring
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Here is the meaning of the trust code.</p>
          <div class="table">
            <a id="listofthemeaningofthetrustcode"/>
            <p class="title">
              <strong>Table 10.8. List of the meaning of the trust code</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of the meaning of the trust code" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    code
    </th>
                    <th style="text-align: left">
    description of trust
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">-</code>
                </td>
                    <td style="text-align: left">
    no owner trust assigned / not yet calculated
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">e</code>
                </td>
                    <td style="text-align: left">
    trust calculation failed
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">q</code>
                </td>
                    <td style="text-align: left">
    not enough information for calculation
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">n</code>
                </td>
                    <td style="text-align: left">
    never trust this key
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">m</code>
                </td>
                    <td style="text-align: left">
    marginally trusted
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">f</code>
                </td>
                    <td style="text-align: left">
    fully trusted
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">u</code>
                </td>
                    <td style="text-align: left">
    ultimately trusted
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>The following uploads my key "<code class="literal">1DD8D791</code>" to the popular keyserver "<code class="literal">hkp://keys.gnupg.net</code>".</p>
          <pre class="screen">$ gpg --keyserver hkp://keys.gnupg.net --send-keys 1DD8D791</pre>
          <p>A good default keyserver set up in "<code class="literal">~/.gnupg/gpg.conf</code>" (or old location "<code class="literal">~/.gnupg/options</code>") contains the following.</p>
          <pre class="screen">keyserver hkp://keys.gnupg.net</pre>
          <p>The following obtains unknown keys from the keyserver.</p>
          <pre class="screen">$ gpg --list-sigs --with-colons | grep '^sig.*\[User ID not found\]' |\
  cut -d ':' -f 5| sort | uniq | xargs gpg --recv-keys</pre>
          <p>There was a bug in <a class="ulink" href="http://sourceforge.net/projects/pks/">OpenPGP Public Key Server</a> (pre version 0.9.6) which corrupted key with more than 2 sub-keys.  The newer <code class="literal">gnupg</code> (&gt;1.2.1-2) package can handle these corrupted subkeys.  See <span class="citerefentry"><span class="refentrytitle">gpg</span>(1)</span> under "<code class="literal">--repair-pks-subkey-bug</code>" option.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_using_gnupg_on_files"/>10.3.2. Using GnuPG on files</h3>
              </div>
            </div>
          </div>
          <p>Here are examples for using <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU Privacy Guard</a> commands on files.</p>
          <div class="table">
            <a id="listofgnuprivacydcommandsonfiles"/>
            <p class="title">
              <strong>Table 10.9. List of GNU Privacy Guard commands on files</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of GNU Privacy Guard commands on files" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    command
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -a -s file</code>
                </td>
                    <td style="text-align: left">
    sign file into <a class="ulink" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> armored file.asc
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --armor --sign file</code>
                </td>
                    <td style="text-align: left">
    , ,
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --clearsign file</code>
                </td>
                    <td style="text-align: left">
    clear-sign message
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --clearsign file|mail foo@example.org</code>
                </td>
                    <td style="text-align: left">
    mail a clear-signed message to <code class="literal">foo@example.org</code>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --clearsign --not-dash-escaped patchfile</code>
                </td>
                    <td style="text-align: left">
    clear-sign patchfile
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --verify file</code>
                </td>
                    <td style="text-align: left">
    verify clear-signed file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o file.sig -b file</code>
                </td>
                    <td style="text-align: left">
    create detached signature
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o file.sig --detach-sig file</code>
                </td>
                    <td style="text-align: left">
    , ,
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg --verify file.sig file</code>
                </td>
                    <td style="text-align: left">
    verify file with file.sig
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.gpg -r name -e file</code>
                </td>
                    <td style="text-align: left">
    public-key encryption intended for name from file to binary crypt_file.gpg
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.gpg --recipient name --encrypt file</code>
                </td>
                    <td style="text-align: left">
    , ,
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.asc -a -r name -e file</code>
                </td>
                    <td style="text-align: left">
    public-key encryption intended for name from file to <a class="ulink" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> armored crypt_file.asc
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.gpg -c file</code>
                </td>
                    <td style="text-align: left">
    symmetric encryption from file to crypt_file.gpg
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.gpg --symmetric file</code>
                </td>
                    <td style="text-align: left">
    , ,
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o crypt_file.asc -a -c file</code>
                </td>
                    <td style="text-align: left">
    symmetric encryption intended for name from file to <a class="ulink" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> armored crypt_file.asc
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o file -d crypt_file.gpg -r name</code>
                </td>
                    <td style="text-align: left">
    decryption
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gpg -o file --decrypt crypt_file.gpg</code>
                </td>
                    <td style="text-align: left">
    , ,
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_using_gnupg_with_mutt"/>10.3.3. Using GnuPG with Mutt</h3>
              </div>
            </div>
          </div>
          <p>Add the following to "<code class="literal">~/.muttrc</code>" to keep a slow GnuPG from automatically
starting, while allowing it to be used by typing "<code class="literal">S</code>" at the index menu.</p>
          <pre class="screen">macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_using_gnupg_with_vim"/>10.3.4. Using GnuPG with Vim</h3>
              </div>
            </div>
          </div>
          <p>The <code class="literal">gnupg</code> plugin let you run GnuPG transparently for files with extension "<code class="literal">.gpg</code>", "<code class="literal">.asc</code>", and "<code class="literal">.ppg</code>".</p>
          <pre class="screen"># aptitude install vim-scripts vim-addon-manager
$ vim-addons install gnupg</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_md5_sum"/>10.3.5. The MD5 sum</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">md5sum</span>(1)</span> provides utility to make a digest file using the method in <a class="ulink" href="http://tools.ietf.org/html/rfc1321">rfc1321</a> and verifying each file with it.</p>
          <pre class="screen">$ md5sum foo bar &gt;baz.md5
$ cat baz.md5
d3b07384d113edec49eaa6238ad5ff00  foo
c157a79031e1c40f85931829bc5fc552  bar
$ md5sum -c baz.md5
foo: OK
bar: OK</pre>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The computation for the <a class="ulink" href="https://en.wikipedia.org/wiki/MD5">MD5</a> sum is less CPU intensive than the one for the cryptographic signature by <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU Privacy Guard (GnuPG)</a>. Usually, only the top level digest file is cryptographically signed to ensure data integrity.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_source_code_merge_tools"/>10.4. Source code merge tools</h2>
            </div>
          </div>
        </div>
        <p>There are many merge tools for the source code.  Following commands caught my eyes.</p>
        <div class="table">
          <a id="listofsourcecodemergetools"/>
          <p class="title">
            <strong>Table 10.10. List of source code merge tools</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of source code merge tools" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    command
    </th>
                  <th style="text-align: left">
    description
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/diffutils">
                <code class="literal">diffutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=diffutils">V:874, I:987</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/diffutils.html">1574</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">diff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compare files line by line
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/diffutils">
                <code class="literal">diffutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=diffutils">V:874, I:987</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/diffutils.html">1574</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">diff3</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compare and merges three files line by line
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/vim">
                <code class="literal">vim</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=vim">V:119, I:395</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/v/vim.html">2799</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">vimdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compare 2 files side by side in vim
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patch">
                <code class="literal">patch</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patch">V:115, I:779</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patch.html">243</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">patch</span>(1)</span>
    </td>
                  <td style="text-align: left">
    apply a diff file to an original
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/dpatch">
                <code class="literal">dpatch</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dpatch">V:1, I:13</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/dpatch.html">191</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">dpatch</span>(1)</span>
    </td>
                  <td style="text-align: left">
    manage series of patches for Debian package
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/diffstat">
                <code class="literal">diffstat</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=diffstat">V:17, I:179</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/diffstat.html">69</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">diffstat</span>(1)</span>
    </td>
                  <td style="text-align: left">
    produce a histogram of changes by the diff
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">combinediff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    create a cumulative patch from two incremental patches
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">dehtmldiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    extract a diff from an HTML page
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">filterdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    extract or excludes diffs from a diff file
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">fixcvsdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    fix diff files created by CVS that <span class="citerefentry"><span class="refentrytitle">patch</span>(1)</span> mis-interprets
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">flipdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    exchange the order of two patches
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">grepdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    show which files are modified by a patch matching a regex
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">interdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    show differences between two unified diff files
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">lsdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    show which files are modified by a patch
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">recountdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    recompute counts and offsets in unified context diffs
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">rediff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    fix offsets and counts of a hand-edited diff
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">splitdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    separate out incremental patches
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/patchutils">
                <code class="literal">patchutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=patchutils">V:19, I:173</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html">223</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">unwrapdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    demangle patches that have been word-wrapped
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/wiggle">
                <code class="literal">wiggle</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=wiggle">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/w/wiggle.html">174</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">wiggle</span>(1)</span>
    </td>
                  <td style="text-align: left">
    apply rejected patches
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/quilt">
                <code class="literal">quilt</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=quilt">V:3, I:38</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/q/quilt.html">785</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">quilt</span>(1)</span>
    </td>
                  <td style="text-align: left">
    manage series of patches
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/meld">
                <code class="literal">meld</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=meld">V:17, I:42</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/m/meld.html">2942</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">meld</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compare and merge files (GTK)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/dirdiff">
                <code class="literal">dirdiff</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dirdiff">V:0, I:2</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/dirdiff.html">161</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">dirdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    display differences and merge changes between directory trees
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/docdiff">
                <code class="literal">docdiff</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=docdiff">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/docdiff.html">573</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">docdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    compare two files word by word / char by char
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/imediff">
                <code class="literal">imediff</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=imediff">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/i/imediff.html">157</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">imediff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    interactive full screen 2/3-way merge tool
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/makepatch">
                <code class="literal">makepatch</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=makepatch">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/m/makepatch.html">102</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">makepatch</span>(1)</span>
    </td>
                  <td style="text-align: left">
    generate extended patch files
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/makepatch">
                <code class="literal">makepatch</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=makepatch">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/m/makepatch.html">102</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">applypatch</span>(1)</span>
    </td>
                  <td style="text-align: left">
    apply extended patch files
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/wdiff">
                <code class="literal">wdiff</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=wdiff">V:8, I:77</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/w/wdiff.html">644</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">wdiff</span>(1)</span>
    </td>
                  <td style="text-align: left">
    display word differences between text files
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_extracting_differences_for_source_files"/>10.4.1. Extracting differences for source files</h3>
              </div>
            </div>
          </div>
          <p>The following procedures extract differences between two source files and create unified diff files "<code class="literal">file.patch0</code>" or "<code class="literal">file.patch1</code>" depending on the file location.</p>
          <pre class="screen">$ diff -u file.old file.new &gt; file.patch0
$ diff -u old/file new/file &gt; file.patch1</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_merging_updates_for_source_files"/>10.4.2. Merging updates for source files</h3>
              </div>
            </div>
          </div>
          <p>The diff file (alternatively called patch file) is used to send a program update.  The receiving party applies this update to another file by the following.</p>
          <pre class="screen">$ patch -p0 file &lt; file.patch0
$ patch -p1 file &lt; file.patch1</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_updating_via_3_way_merge"/>10.4.3. Updating via 3-way-merge</h3>
              </div>
            </div>
          </div>
          <p>If you have three versions of a source code, you can perform 3-way-merge effectively using <span class="citerefentry"><span class="refentrytitle">diff3</span>(1)</span> by the following.</p>
          <pre class="screen">$ diff3 -m file.mine file.old file.yours &gt; file</pre>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_version_control_systems"/>10.5. Version control systems</h2>
            </div>
          </div>
        </div>
        <p>Here is a summary of the <a class="ulink" href="https://en.wikipedia.org/wiki/Revision_control">version control systems (VCS)</a> on the Debian system.</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>If you are new to VCS systems, you should start learning with <span class="strong"><strong>Git</strong></span>, which is growing fast in popularity.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="table">
          <a id="list-of-vcs"/>
          <p class="title">
            <strong>Table 10.11. List of version control system tools</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of version control system tools" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    tool
    </th>
                  <th style="text-align: left">
    VCS type
    </th>
                  <th style="text-align: left">
    comment
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cssc">
                <code class="literal">cssc</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cssc">V:0, I:2</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cssc.html">2035</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="http://cssc.sourceforge.net/">CSSC</a>
              </td>
                  <td style="text-align: left">
    local
    </td>
                  <td style="text-align: left">
    clone of the <a class="ulink" href="https://en.wikipedia.org/wiki/Source_Code_Control_System">Unix SCCS</a> (deprecated)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/rcs">
                <code class="literal">rcs</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=rcs">V:3, I:21</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/r/rcs.html">555</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a>
              </td>
                  <td style="text-align: left">
    local
    </td>
                  <td style="text-align: left">
    "<a class="ulink" href="https://en.wikipedia.org/wiki/Source_Code_Control_System">Unix SCCS</a> done right"
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cvs">
                <code class="literal">cvs</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cvs">V:5, I:49</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cvs.html">4596</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Concurrent_Versions_System">CVS</a>
              </td>
                  <td style="text-align: left">
    remote
    </td>
                  <td style="text-align: left">
    previous standard remote VCS
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/subversion">
                <code class="literal">subversion</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=subversion">V:27, I:131</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/s/subversion.html">4809</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Subversion_(software)">Subversion</a>
              </td>
                  <td style="text-align: left">
    remote
    </td>
                  <td style="text-align: left">
    "CVS done right", the new de facto standard remote VCS
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/git">
                <code class="literal">git</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git">V:301, I:458</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/g/git.html">35266</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Git_(software)">Git</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    fast DVCS in C (used by the Linux kernel and others)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/mercurial">
                <code class="literal">mercurial</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=mercurial">V:11, I:56</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/m/mercurial.html">913</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Mercurial_(software)">Mercurial</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    DVCS in Python and some C
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/bzr">
                <code class="literal">bzr</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bzr">V:3, I:20</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/b/bzr.html">74</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Bazaar_(software)">Bazaar</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    DVCS influenced by <code class="literal">tla</code> written in Python (used by <a class="ulink" href="http://www.ubuntu.com/">Ubuntu</a>)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/darcs">
                <code class="literal">darcs</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=darcs">V:0, I:8</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/d/darcs.html">27950</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Darcs">Darcs</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    DVCS with smart algebra of patches (slow)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/tla">
                <code class="literal">tla</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tla">V:0, I:6</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/t/tla.html">1011</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_arch">GNU arch</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    DVCS mainly by Tom Lord (Historic)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/monotone">
                <code class="literal">monotone</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=monotone">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/m/monotone.html">5815</a>
                  </td>
                  <td style="text-align: left">
                <a class="ulink" href="https://en.wikipedia.org/wiki/Monotone_(software)">Monotone</a>
              </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    DVCS in C++
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/tkcvs">
                <code class="literal">tkcvs</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tkcvs">V:0, I:1</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/t/tkcvs.html">1498</a>
                  </td>
                  <td style="text-align: left">
    CVS, …
    </td>
                  <td style="text-align: left">
    remote
    </td>
                  <td style="text-align: left">
    GUI display of VCS (CVS, Subversion, RCS) repository tree
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/gitk">
                <code class="literal">gitk</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gitk">V:8, I:47</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/g/gitk.html">1539</a>
                  </td>
                  <td style="text-align: left">
    Git
    </td>
                  <td style="text-align: left">
    distributed
    </td>
                  <td style="text-align: left">
    GUI display of VCS (Git) repository tree
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <p>VCS is sometimes known as revision control system (RCS), or software configuration management (SCM).</p>
        <p>Distributed VCS such as Git is the tool of choice these days.  CVS and Subversion may still be useful to join some existing open source program activities.</p>
        <p>Debian provides free Git services via <a class="ulink" href="https://salsa.debian.org/">Debian Salsa service</a>.  Its documentation can be found at <a class="ulink" href="https://wiki.debian.org/Salsa">https://wiki.debian.org/Salsa</a> .</p>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Caution">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Caution]" src="images/caution.png"/>
              </td>
              <th align="left">Caution</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Debian has closed its old alioth services and the old alioth service data are available at <a class="ulink" href="https://alioth-archive.debian.org/">alioth-archive</a> as tarballs.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>There are few basics for creating a shared access VCS archive.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p>
Use "<code class="literal">umask 002</code>" (see <a class="xref" href="ch01.en.html#_control_of_permissions_for_newly_created_files_umask" title="1.2.4. Control of permissions for newly created files: umask">Section 1.2.4, “Control of permissions for newly created files: umask”</a>)
</p>
            </li>
            <li class="listitem">
              <p>
Make all VCS archive files belonging to a pertinent group
</p>
            </li>
            <li class="listitem">
              <p>
Enable set group ID on all VCS archive directories (BSD-like file creation scheme, see <a class="xref" href="ch01.en.html#_filesystem_permissions" title="1.2.3. Filesystem permissions">Section 1.2.3, “Filesystem permissions”</a>)
</p>
            </li>
            <li class="listitem">
              <p>
Make user sharing the VCS archive belonging to the group
</p>
            </li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_comparison_of_vcs_commands"/>10.5.1. Comparison of VCS commands</h3>
              </div>
            </div>
          </div>
          <p>Here is an oversimplified comparison of native VCS commands to provide the big picture. The typical command sequence may require options and arguments.</p>
          <div class="table">
            <a id="comparisonofnativevcscommands"/>
            <p class="title">
              <strong>Table 10.12. Comparison of native VCS commands</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Comparison of native VCS commands" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    Git
    </th>
                    <th style="text-align: left">
    CVS
    </th>
                    <th style="text-align: left">
    Subversion
    </th>
                    <th style="text-align: left">
    function
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git init</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs init</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn create</code>
                </td>
                    <td style="text-align: left">
    create the (local) repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
                  <code class="literal">cvs login</code>
                </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    login to the remote repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git clone</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs co</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn co</code>
                </td>
                    <td style="text-align: left">
    check out the remote repository as the working tree
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git pull</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs up</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn up</code>
                </td>
                    <td style="text-align: left">
    update the working tree by merging the remote repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git add .</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs add</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn add</code>
                </td>
                    <td style="text-align: left">
    add file(s) in the working tree to the VCS
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git rm</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs rm</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn rm</code>
                </td>
                    <td style="text-align: left">
    remove file(s) in working tree from the VCS
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
                  <code class="literal">cvs ci</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn ci</code>
                </td>
                    <td style="text-align: left">
    commit changes to the remote repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git commit -a</code>
                </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    commit changes to the local repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git push</code>
                </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    update the remote repository by the local repository
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git status</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs status</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn status</code>
                </td>
                    <td style="text-align: left">
    display the working tree status from the VCS
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git diff</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">cvs diff</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">svn diff</code>
                </td>
                    <td style="text-align: left">
    diff &lt;reference_repository&gt; &lt;working_tree&gt;
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">git repack -a -d; git prune</code>
                </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    -
    </td>
                    <td style="text-align: left">
    repack the local repository into single pack
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">gitk</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">tkcvs</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">tkcvs</code>
                </td>
                    <td style="text-align: left">
    GUI display of VCS repository tree
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Invoking a <code class="literal">git</code> subcommand directly as "<code class="literal">git-xyz</code>" from the command line has been deprecated since early 2006.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If there is a executable file <code class="literal">git-foo</code> in the path specified by <code class="literal">$PATH</code>, entring "<code class="literal">git foo</code>" without hyphen to the command line invokes this <code class="literal">git-foo</code>.  This is a feature of the <code class="literal">git</code> command.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>GUI tools such as <span class="citerefentry"><span class="refentrytitle">tkcvs</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">gitk</span>(1)</span> really help you with tracking revision history of files.  The web interface provided by many public archives for browsing their repositories is also quite useful, too.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Git can work directly with different VCS repositories such as ones provided by CVS and Subversion, and provides the local repository for local changes with <code class="literal">git-cvs</code> and <code class="literal">git-svn</code> packages.  See <a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gitcvs-migration.html">git for CVS users</a>, and <a class="xref" href="ch10.en.html#_git_for_the_subversion_repository" title="10.6.4. Git for the Subversion repository">Section 10.6.4, “Git for the Subversion repository”</a>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Git has commands which have no equivalents in CVS and Subversion: "fetch", "rebase", "cherry-pick", …</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_git"/>10.6. Git</h2>
            </div>
          </div>
        </div>
        <p>Git can do everything for both local and remote source code management.  This means that you can record the source code changes without needing network connectivity to the remote repository.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_configuration_of_git_client"/>10.6.1. Configuration of Git client</h3>
              </div>
            </div>
          </div>
          <p>You may wish to set several global configuration in "<code class="literal">~/.gitconfig</code>" such as your name and email address used by Git by the following.</p>
          <pre class="screen">$ git config --global user.name "Name Surname"
$ git config --global user.email yourname@example.com</pre>
          <p>If you are too used to CVS or Subversion commands, you may wish to set several command aliases  by the following.</p>
          <pre class="screen">$ git config --global alias.ci "commit -a"
$ git config --global alias.co checkout</pre>
          <p>You can check your global configuration by the following.</p>
          <pre class="screen">$ git config --global --list</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_git_references"/>10.6.2. Git references</h3>
              </div>
            </div>
          </div>
          <p>See the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/git.html">manpage: git(1)</a> (<code class="literal">/usr/share/doc/git-doc/git.html</code>)
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/user-manual.html">Git User's Manual</a> (<code class="literal">/usr/share/doc/git-doc/user-manual.html</code>)
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gittutorial.html">A tutorial introduction to git</a> (<code class="literal">/usr/share/doc/git-doc/gittutorial.html</code>)
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gittutorial-2.html">A tutorial introduction to git: part two</a> (<code class="literal">/usr/share/doc/git-doc/gittutorial-2.html</code>)
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/everyday.html">Everyday GIT With 20 Commands Or So</a> (<code class="literal">/usr/share/doc/git-doc/everyday.html</code>)
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gitcvs-migration.html">git for CVS users</a> (<code class="literal">/usr/share/doc/git-doc/gitcvs-migration.html</code>)
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
This also describes  how to set up server like CVS and extract old data from CVS into Git.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="http://git-scm.com/documentation">Other git resources available on the web</a>
            </p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
                  <a class="ulink" href="http://git-scm.com/course/svn.html">Git - SVN Crash Course</a>
                </p>
                    </li>
                    <li class="listitem">
                      <p><a class="ulink" href="http://www-cs-students.stanford.edu/~blynn/gitmagic/">Git Magic</a> (<code class="literal">/usr/share/doc/gitmagic/html/index.html</code>)
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">git-gui</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">gitk</span>(1)</span> commands make using Git very easy.</p>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Do not use the tag string with spaces in it even if some tools such as <span class="citerefentry"><span class="refentrytitle">gitk</span>(1)</span> allow you to use it.  It may choke some other <code class="literal">git</code> commands.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_git_commands"/>10.6.3. Git commands</h3>
              </div>
            </div>
          </div>
          <p>Even if your upstream uses different VCS, it may be a good idea to use <span class="citerefentry"><span class="refentrytitle">git</span>(1)</span> for local activity since you can manage your local copy of source tree without the network connection to the upstream.  Here are some packages and commands used with <span class="citerefentry"><span class="refentrytitle">git</span>(1)</span>.</p>
          <div class="table">
            <a id="listofgitrelatedkagesandcommands"/>
            <p class="title">
              <strong>Table 10.13. List of git related packages and commands</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of git related packages and commands" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    command
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-doc">
                  <code class="literal">git-doc</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-doc">I:18</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-doc.html">11118</a>
                    </td>
                    <td style="text-align: left">
    N/A
    </td>
                    <td style="text-align: left">
    official documentation for Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gitmagic">
                  <code class="literal">gitmagic</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gitmagic">I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gitmagic.html">719</a>
                    </td>
                    <td style="text-align: left">
    N/A
    </td>
                    <td style="text-align: left">
    "Git Magic", easier to understand guide for Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git">
                  <code class="literal">git</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git">V:301, I:458</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git.html">35266</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git</span>(7)</span>
    </td>
                    <td style="text-align: left">
    Git, the fast, scalable, distributed revision control system
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gitk">
                  <code class="literal">gitk</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gitk">V:8, I:47</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gitk.html">1539</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">gitk</span>(1)</span>
    </td>
                    <td style="text-align: left">
    GUI Git repository browser with history
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-gui">
                  <code class="literal">git-gui</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-gui">V:2, I:27</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-gui.html">2266</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-gui</span>(1)</span>
    </td>
                    <td style="text-align: left">
    GUI for Git (No history)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-svn">
                  <code class="literal">git-svn</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-svn">V:2, I:26</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-svn.html">1037</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-svnimport</span>(1)</span>
    </td>
                    <td style="text-align: left">
    import the data out of Subversion into Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-svn">
                  <code class="literal">git-svn</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-svn">V:2, I:26</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-svn.html">1037</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-svn</span>(1)</span>
    </td>
                    <td style="text-align: left">
    provide bidirectional operation between the Subversion and Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-cvs">
                  <code class="literal">git-cvs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-cvs">V:0, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html">1172</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-cvsimport</span>(1)</span>
    </td>
                    <td style="text-align: left">
    import the data out of CVS into Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-cvs">
                  <code class="literal">git-cvs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-cvs">V:0, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html">1172</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-cvsexportcommit</span>(1)</span>
    </td>
                    <td style="text-align: left">
    export a commit to a CVS checkout from Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-cvs">
                  <code class="literal">git-cvs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-cvs">V:0, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html">1172</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-cvsserver</span>(1)</span>
    </td>
                    <td style="text-align: left">
    CVS server emulator for Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-email">
                  <code class="literal">git-email</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-email">V:0, I:13</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-email.html">860</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-send-email</span>(1)</span>
    </td>
                    <td style="text-align: left">
    send a collection of patches as email from the Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/stgit">
                  <code class="literal">stgit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=stgit">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/stgit.html">1535</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">stg</span>(1)</span>
    </td>
                    <td style="text-align: left">
    quilt on top of git (Python)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git-buildpackage">
                  <code class="literal">git-buildpackage</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git-buildpackage">V:2, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git-buildpackage.html">3928</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">git-buildpackage</span>(1)</span>
    </td>
                    <td style="text-align: left">
    automate the Debian packaging with the Git
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/guilt">
                  <code class="literal">guilt</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=guilt">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/guilt.html">146</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">guilt</span>(7)</span>
    </td>
                    <td style="text-align: left">
    quilt on top of git (SH/AWK/SED/…)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>With <span class="citerefentry"><span class="refentrytitle">git</span>(1)</span>, you work on a local branch with many commits and use something like "<code class="literal">git rebase -i master</code>" to reorganize change history later. This enables you to make clean change history.  See <span class="citerefentry"><span class="refentrytitle">git-rebase</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">git-cherry-pick</span>(1)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>When you want to go back to a clean working directory without loosing the current state of the working directory, you can use "<code class="literal">git stash</code>".  See <span class="citerefentry"><span class="refentrytitle">git-stash</span>(1)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_git_for_the_subversion_repository"/>10.6.4. Git for the Subversion repository</h3>
              </div>
            </div>
          </div>
          <p>You can check out a Subversion repository at "<code class="literal">svn+ssh://svn.example.org/project/module/trunk</code>" to a local Git repository at "<code class="literal">./dest</code>" and commit back to the Subversion repository.  E.g.:</p>
          <pre class="screen">$ git svn clone -s -rHEAD svn+ssh://svn.example.org/project dest
$ cd dest
... make changes
$ git commit -a
... keep working locally with git
$ git svn dcommit</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The use of "<code class="literal">-rHEAD</code>" enables us to avoid cloning entire historical contents from the Subversion repository.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_git_for_recording_configuration_history"/>10.6.5. Git for recording configuration history</h3>
              </div>
            </div>
          </div>
          <p>You can manually record chronological history of configuration using <a class="ulink" href="https://en.wikipedia.org/wiki/Git_(software)">Git</a> tools.  Here is a simple example for your practice to record "<code class="literal">/etc/apt/</code>" contents.</p>
          <pre class="screen">$ cd /etc/apt/
$ sudo git init
$ sudo chmod 700 .git
$ sudo git add .
$ sudo git commit -a</pre>
          <p>Commit configuration with description.</p>
          <p>Make modification to the configuration files.</p>
          <pre class="screen">$ cd /etc/apt/
$ sudo git commit -a</pre>
          <p>Commit configuration with description and continue your life.</p>
          <pre class="screen">$ cd /etc/apt/
$ sudo gitk --all</pre>
          <p>You have full configuration history with you.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">sudo</span>(8)</span> is needed to work with any file permissions of configuration data.  For user configuration data, you may skip <code class="literal">sudo</code>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The "<code class="literal">chmod 700 .git</code>" command in the above example is needed to protect archive data from unauthorized read access.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For more complete setup for recording configuration history, please look for the <code class="literal">etckeeper</code> package: <a class="xref" href="ch09.en.html#_recording_changes_in_configuration_files" title="9.2.10. Recording changes in configuration files">Section 9.2.10, “Recording changes in configuration files”</a>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_cvs"/>10.7. CVS</h2>
            </div>
          </div>
        </div>
        <p>CVS is an <span class="strong"><strong>older</strong></span> version control system before Subversion and Git.</p>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Caution">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Caution]" src="images/caution.png"/>
              </td>
              <th align="left">Caution</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Many URLs found in the below examples for CVS don't exist any more.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>See the following.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p><span class="citerefentry"><span class="refentrytitle">cvs</span>(1)</span>
</p>
            </li>
            <li class="listitem">
              <p>
"<code class="literal">/usr/share/doc/cvs/html-cvsclient</code>"
</p>
            </li>
            <li class="listitem">
              <p>
"<code class="literal">/usr/share/doc/cvs/html-info</code>"
</p>
            </li>
            <li class="listitem">
              <p>
"<code class="literal">/usr/share/doc/cvsbook</code>"
</p>
            </li>
            <li class="listitem">
              <p>
"<code class="literal">info cvs</code>"
</p>
            </li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_configuration_of_cvs_repository"/>10.7.1. Configuration of CVS repository</h3>
              </div>
            </div>
          </div>
          <p>The following configuration allows commits to the CVS repository only by a member of the "<code class="literal">src</code>" group, and administration of CVS only by a member of the "<code class="literal">staff</code>" group, thus reducing the chance of shooting oneself.</p>
          <pre class="screen"># cd /var/lib; umask 002; mkdir cvs
# export CVSROOT=/srv/cvs/project
# cd $CVSROOT
# chown root:src .
# chmod 2775 .
# cvs -d $CVSROOT init
# cd CVSROOT
# chown -R root:staff .
# chmod 2775 .
# touch val-tags
# chmod 664 history val-tags
# chown root:src history val-tags</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You may restrict creation of new project by changing the owner of "<code class="literal">$CVSROOT</code>" directory to "<code class="literal">root:staff</code>"  and its permission to "<code class="literal">3775</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_local_access_to_cvs"/>10.7.2. Local access to CVS</h3>
              </div>
            </div>
          </div>
          <p>The default CVS repository is pointed by "<code class="literal">$CVSROOT</code>".  The following sets up "<code class="literal">$CVSROOT</code>" for the local access.</p>
          <pre class="screen">$ export CVSROOT=/srv/cvs/project</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_remote_access_to_cvs_with_pserver"/>10.7.3. Remote access to CVS with pserver</h3>
              </div>
            </div>
          </div>
          <p>Many public CVS servers provide read-only remote access to them with account name "<code class="literal">anonymous</code>" via pserver service.  For example, Debian web site contents were maintained by <a class="ulink" href="http://alioth.debian.org/projects/webwml/">webwml project</a> via CVS at Debian alioth service.  The following was used to set up "<code class="literal">$CVSROOT</code>" for the remote access to this old CVS repository.</p>
          <pre class="screen">$ export CVSROOT=:pserver:anonymous@anonscm.debian.org:/cvs/webwml
$ cvs login</pre>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Since pserver is prone to eavesdropping attack and insecure, write access is usually disable by server administrators.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_remote_access_to_cvs_with_ssh"/>10.7.4. Remote access to CVS with ssh</h3>
              </div>
            </div>
          </div>
          <p>The following was used to set up "<code class="literal">$CVS_RSH</code>" and "<code class="literal">$CVSROOT</code>" for the remote access to the old CVS repository by <a class="ulink" href="http://alioth.debian.org/projects/webwml/">webwml project</a> with SSH.</p>
          <pre class="screen">$ export CVS_RSH=ssh
$ export CVSROOT=:ext:account@cvs.alioth.debian.org:/cvs/webwml</pre>
          <p>You can also use public key authentication for SSH which eliminates the remote password prompt.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_importing_a_new_source_to_cvs"/>10.7.5. Importing a new source to CVS</h3>
              </div>
            </div>
          </div>
          <p>Create a new local source tree location at "<code class="literal">~/path/to/module1</code>" by the following.</p>
          <pre class="screen">$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</pre>
          <p>Populate a new local source tree under "<code class="literal">~/path/to/module1</code>" with files.</p>
          <p>Import it to CVS with the following parameters.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Module name: "<code class="literal">module1</code>"
</p>
              </li>
              <li class="listitem">
                <p>
Vendor tag: "<code class="literal">Main-branch</code>" (tag for the entire branch)
</p>
              </li>
              <li class="listitem">
                <p>
Release tag: "<code class="literal">Release-initial</code>" (tag for a specific release)
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">$ cd ~/path/to/module1
$ cvs import -m "Start module1" module1 Main-branch Release-initial
$ rm -Rf . # optional</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_file_permissions_in_cvs_repository"/>10.7.6. File permissions in CVS repository</h3>
              </div>
            </div>
          </div>
          <p>CVS does not overwrite the current repository file but replaces it with another one.  Thus, write permission to the repository directory is critical.  For every new module for "<code class="literal">module1</code>" in repository at "<code class="literal">/srv/cvs/project</code>", run the following to ensure this condition if needed.</p>
          <pre class="screen"># cd /srv/cvs/project
# chown -R root:src module1
# chmod -R ug+rwX   module1
# chmod    2775     module1</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_work_flow_of_cvs"/>10.7.7. Work flow of CVS</h3>
              </div>
            </div>
          </div>
          <p>Here is an example of typical work flow using CVS.</p>
          <p>Check all available modules from CVS project pointed by "<code class="literal">$CVSROOT</code>" by the following.</p>
          <pre class="screen">$ cvs rls
CVSROOT
module1
module2
...</pre>
          <p>Checkout "<code class="literal">module1</code>" to its default directory "<code class="literal">./module1</code>" by the following.</p>
          <pre class="screen">$ cd ~/path/to
$ cvs co module1
$ cd module1</pre>
          <p>Make changes to the content as needed.</p>
          <p>Check changes by making "<code class="literal">diff -u [repository] [local]</code>" equivalent by the following.</p>
          <pre class="screen">$ cvs diff -u</pre>
          <p>You find that you broke some file "<code class="literal">file_to_undo</code>" severely but other files are fine.</p>
          <p>Overwrite "<code class="literal">file_to_undo</code>" file with the clean copy from CVS by the following.</p>
          <pre class="screen">$ cvs up -C file_to_undo</pre>
          <p>Save the updated local source tree to CVS by the following.</p>
          <pre class="screen">$ cvs ci -m "Describe change"</pre>
          <p>Create and add "<code class="literal">file_to_add</code>" file to CVS by the following.</p>
          <pre class="screen">$ vi file_to_add
$ cvs add file_to_add
$ cvs ci -m "Added file_to_add"</pre>
          <p>Merge the latest version from CVS by the following.</p>
          <pre class="screen">$ cvs up -d</pre>
          <p>Watch out for lines starting with "<code class="literal">C filename</code>" which indicates conflicting changes.</p>
          <p>Look for unmodified code in "<code class="literal">.#filename.version</code>".</p>
          <p>Search for "<code class="literal">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>" and "<code class="literal">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>" in files for conflicting changes.</p>
          <p>Edit files to fix conflicts as needed.</p>
          <p>Add a release tag "<code class="literal">Release-1</code>" by the following.</p>
          <pre class="screen">$ cvs ci -m "last commit for Release-1"
$ cvs tag Release-1</pre>
          <p>Edit further.</p>
          <p>Remove the release tag "<code class="literal">Release-1</code>" by the following.</p>
          <pre class="screen">$ cvs tag -d Release-1</pre>
          <p>Check in changes to CVS by the following.</p>
          <pre class="screen">$ cvs ci -m "real last commit for Release-1"</pre>
          <p>Re-add the release tag "<code class="literal">Release-1</code>" to updated CVS HEAD of main by the following.</p>
          <pre class="screen">$ cvs tag Release-1</pre>
          <p>Create a branch with a sticky branch tag "<code class="literal">Release-initial-bugfixes</code>" from the original version pointed by the tag "<code class="literal">Release-initial</code>" and check it out to "<code class="literal">~/path/to/old</code>" directory by the following.</p>
          <pre class="screen">$ cvs rtag -b -r Release-initial Release-initial-bugfixes module1
$ cd ~/path/to
$ cvs co -r Release-initial-bugfixes -d old module1
$ cd old</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Use "<code class="literal">-D 2005-12-20</code>" (<a class="ulink" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> date format) instead of "<code class="literal">-r Release-initial</code>" to specify particular date as the branch point.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Work on this local source tree having the sticky tag "<code class="literal">Release-initial-bugfixes</code>" which is based on the original version.</p>
          <p>Work on this branch by yourself … until someone else joins to this "<code class="literal">Release-initial-bugfixes</code>" branch.</p>
          <p>Sync with files modified by others on this branch while creating new directories as needed by the following.</p>
          <pre class="screen">$ cvs up -d</pre>
          <p>Edit files to fix conflicts as needed.</p>
          <p>Check in changes to CVS by the following.</p>
          <pre class="screen">$ cvs ci -m "checked into this branch"</pre>
          <p>Update the local tree by HEAD of main while removing sticky tag ("<code class="literal">-A</code>") and without keyword expansion ("<code class="literal">-kk</code>") by the following.</p>
          <pre class="screen">$ cvs up -d -kk -A</pre>
          <p>Update the local tree (content = HEAD of main) by merging from the "<code class="literal">Release-initial-bugfixes</code>" branch and without keyword expansion by the following.</p>
          <pre class="screen">$ cvs up -d -kk -j Release-initial-bugfixes</pre>
          <p>Fix conflicts with editor.</p>
          <p>Check in changes to CVS by the following.</p>
          <pre class="screen">$ cvs ci -m "merged Release-initial-bugfixes"</pre>
          <p>Make archive by the following.</p>
          <pre class="screen">$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>"<code class="literal">cvs up</code>" command can take "<code class="literal">-d</code>" option to create new directories and "<code class="literal">-P</code>" option to prune empty directories.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can checkout only a sub directory of "<code class="literal">module1</code>" by providing its name as "<code class="literal">cvs co module1/subdir</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="table">
            <a id="notableoptionsfotargumentstocvsb"/>
            <p class="title">
              <strong>Table 10.14. Notable options for CVS commands (use as first argument(s) to <span class="citerefentry"><span class="refentrytitle">cvs</span>(1)</span>)</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Notable options for CVS commands (use as first argument(s) to cvs1)" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    option
    </th>
                    <th style="text-align: left">
    meaning
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">-n</code>
                </td>
                    <td style="text-align: left">
    dry run, no effect
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">-t</code>
                </td>
                    <td style="text-align: left">
    display messages showing steps of cvs activity
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_latest_files_from_cvs"/>10.7.8. Latest files from CVS</h3>
              </div>
            </div>
          </div>
          <p>To get the latest files from CVS, use "<code class="literal">tomorrow</code>" by the following.</p>
          <pre class="screen">$ cvs ex -D tomorrow module_name</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_administration_of_cvs"/>10.7.9. Administration of CVS</h3>
              </div>
            </div>
          </div>
          <p>Add module alias "<code class="literal">mx</code>" to a CVS project (local server) by the following.</p>
          <pre class="screen">$ export CVSROOT=/srv/cvs/project
$ cvs co CVSROOT/modules
$ cd CVSROOT
$ echo "mx -a module1" &gt;&gt;modules
$ cvs ci -m "Now mx is an alias for module1"
$ cvs release -d .</pre>
          <p>Now, you can check out "<code class="literal">module1</code>" (alias: "<code class="literal">mx</code>") from CVS to "<code class="literal">new</code>" directory by the following.</p>
          <pre class="screen">$ cvs co -d new mx
$ cd new</pre>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>In order to perform above procedure, you should have appropriate file permissions.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_execution_bit_for_cvs_checkout"/>10.7.10. Execution bit for CVS checkout</h3>
              </div>
            </div>
          </div>
          <p>When you checkout files from CVS, their execution permission bit is retained.</p>
          <p>Whenever you see execution permission problems in a checked out file, e.g. "<code class="literal">filename</code>", change its permission in the corresponding CVS repository by the following to fix it.</p>
          <pre class="screen"># chmod ugo-x filename</pre>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_subversion"/>10.8. Subversion</h2>
            </div>
          </div>
        </div>
        <p>Subversion is an <span class="strong"><strong>older</strong></span> version control system before Git but after CVS.  It lacks tagging and branching features found in CVS and Git.</p>
        <p>You need to install <code class="literal">subversion</code>, <code class="literal">libapache2-mod-svn</code> and <code class="literal">subversion-tools</code> packages to set up a Subversion server.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_configuration_of_subversion_repository"/>10.8.1. Configuration of Subversion repository</h3>
              </div>
            </div>
          </div>
          <p>Currently, the <code class="literal">subversion</code> package does not set up a repository, so one must set it up manually.  One possible location for a repository is in "<code class="literal">/srv/svn/project</code>".</p>
          <p>Create a directory by the following.</p>
          <pre class="screen"># mkdir -p        /srv/svn/project</pre>
          <p>Create the repository database by the following.</p>
          <pre class="screen"># svnadmin create /srv/svn/project</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_access_to_subversion_via_apache2_server"/>10.8.2. Access to Subversion via Apache2 server</h3>
              </div>
            </div>
          </div>
          <p>If you only access Subversion repository via Apache2 server, you just need to make the repository only writable by the WWW server by the following.</p>
          <pre class="screen"># chown -R www-data:www-data /srv/svn/project</pre>
          <p>Add (or uncomment) the following in "<code class="literal">/etc/apache2/mods-available/dav_svn.conf</code>" to allow access to the repository via user authentication.</p>
          <pre class="screen">&lt;Location /project&gt;
  DAV svn
  SVNPath /srv/svn/project
  AuthType Basic
  AuthName "Subversion repository"
  AuthUserFile /etc/subversion/passwd
&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
    Require valid-user
&lt;/LimitExcept&gt;
&lt;/Location&gt;</pre>
          <p>Create a user authentication file with the command by the following.</p>
          <pre class="screen"># htpasswd2 -c /etc/subversion/passwd some-username</pre>
          <p>Restart Apache2.</p>
          <p>Your new Subversion repository is accessible at URL "<code class="literal">http://localhost/project</code>" and "<code class="literal">http://example.com/project</code>" from <span class="citerefentry"><span class="refentrytitle">svn</span>(1)</span> (assuming your URL of web server is "<code class="literal">http://example.com/</code>").</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_local_access_to_subversion_by_group"/>10.8.3. Local access to Subversion by group</h3>
              </div>
            </div>
          </div>
          <p>The following sets up Subversion repository for the local access by a group, e.g. <code class="literal">project</code>.</p>
          <pre class="screen"># chmod  2775     /srv/svn/project
# chown -R root:src /srv/svn/project
# chmod -R ug+rwX   /srv/svn/project</pre>
          <p>Your new Subversion repository is group accessible at URL "<code class="literal">file:///localhost/srv/svn/project</code>" or "<code class="literal">file:///srv/svn/project</code>" from <span class="citerefentry"><span class="refentrytitle">svn</span>(1)</span> for local users belonging to <code class="literal">project</code> group.  You must run commands, such as <code class="literal">svn</code>, <code class="literal">svnserve</code>, <code class="literal">svnlook</code>, and <code class="literal">svnadmin</code> under "<code class="literal">umask 002</code>" to ensure group access.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_remote_access_to_subversion_via_ssh"/>10.8.4. Remote access to Subversion via SSH</h3>
              </div>
            </div>
          </div>
          <p>A group accessible Subversion repository is at URL "<code class="literal">example.com:/srv/svn/project</code>" for SSH, you can access it from <span class="citerefentry"><span class="refentrytitle">svn</span>(1)</span> at URL "<code class="literal">svn+ssh://example.com:/srv/svn/project</code>".</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_subversion_directory_structure"/>10.8.5. Subversion directory structure</h3>
              </div>
            </div>
          </div>
          <p>Many projects uses directory tree similar to the following for Subversion to compensate its lack of branches and tags.</p>
          <pre class="screen">  ----- module1
    |   |-- branches
    |   |-- tags
    |   |   |-- release-1.0
    |   |   `-- release-2.0
    |   |
    |   `-- trunk
    |       |-- file1
    |       |-- file2
    |       `-- file3
    |
    `-- module2</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You must use "<code class="literal">svn copy …</code>" command to mark branches and tags.  This ensures Subversion to record modification history of files properly and saves storage spaces.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_importing_a_new_source_to_subversion"/>10.8.6. Importing a new source to Subversion</h3>
              </div>
            </div>
          </div>
          <p>Create a new local source tree location at "<code class="literal">~/path/to/module1</code>" by the following.</p>
          <pre class="screen">$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</pre>
          <p>Populate a new local source tree under "<code class="literal">~/path/to/module1</code>" with files.</p>
          <p>Import it to Subversion with the following parameters.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Module name: "<code class="literal">module1</code>"
</p>
              </li>
              <li class="listitem">
                <p>
Subversion site URL: "<code class="literal">file:///srv/svn/project</code>"
</p>
              </li>
              <li class="listitem">
                <p>
Subversion directory: "<code class="literal">module1/trunk</code>"
</p>
              </li>
              <li class="listitem">
                <p>
Subversion tag: "<code class="literal">module1/tags/Release-initial</code>"
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">$ cd ~/path/to/module1
$ svn import file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</pre>
          <p>Alternatively, by the following.</p>
          <pre class="screen">$ svn import ~/path/to/module1 file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can replace URLs such as "<code class="literal">file:///…</code>" by any other URL formats such as "<code class="literal">http://…</code>" and "<code class="literal">svn+ssh://…</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_work_flow_of_subversion"/>10.8.7. Work flow of Subversion</h3>
              </div>
            </div>
          </div>
          <p>Here is an example of typical work flow using Subversion with its native client.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Client commands offered by the <code class="literal">git-svn</code> package may offer alternative work flow of Subversion using the <code class="literal">git</code> command.  See <a class="xref" href="ch10.en.html#_git_for_the_subversion_repository" title="10.6.4. Git for the Subversion repository">Section 10.6.4, “Git for the Subversion repository”</a>.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Check all available modules from Subversion project pointed by URL "<code class="literal">file:///srv/svn/project</code>" by the following.</p>
          <pre class="screen">$ svn list file:///srv/svn/project
module1
module2
...</pre>
          <p>Checkout "<code class="literal">module1/trunk</code>" to a directory "<code class="literal">module1</code>" by the following.</p>
          <pre class="screen">$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/trunk module1
$ cd module1</pre>
          <p>Make changes to the content as needed.</p>
          <p>Check changes by making "<code class="literal">diff -u [repository] [local]</code>" equivalent by the following.</p>
          <pre class="screen">$ svn diff</pre>
          <p>You find that you broke some file "<code class="literal">file_to_undo</code>" severely but other files are fine.</p>
          <p>Overwrite "<code class="literal">file_to_undo</code>" file with the clean copy from Subversion by the following.</p>
          <pre class="screen">$ svn revert file_to_undo</pre>
          <p>Save the updated local source tree to Subversion by the following.</p>
          <pre class="screen">$ svn ci -m "Describe change"</pre>
          <p>Create and add "<code class="literal">file_to_add</code>" file to Subversion by the following.</p>
          <pre class="screen">$ vi file_to_add
$ svn add file_to_add
$ svn ci -m "Added file_to_add"</pre>
          <p>Merge the latest version from Subversion by the following.</p>
          <pre class="screen">$ svn up</pre>
          <p>Watch out for lines starting with "<code class="literal">C filename</code>" which indicates conflicting changes.</p>
          <p>Look for unmodified code in, e.g., "<code class="literal">filename.r6</code>", "<code class="literal">filename.r9</code>", and "<code class="literal">filename.mine</code>".</p>
          <p>Search for "<code class="literal">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>" and "<code class="literal">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>" in files for conflicting changes.</p>
          <p>Edit files to fix conflicts as needed.</p>
          <p>Add a release tag "<code class="literal">Release-1</code>" by the following.</p>
          <pre class="screen">$ svn ci -m "last commit for Release-1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</pre>
          <p>Edit further.</p>
          <p>Remove the release tag "<code class="literal">Release-1</code>" by the following.</p>
          <pre class="screen">$ svn rm file:///srv/svn/project/module1/tags/Release-1</pre>
          <p>Check in changes to Subversion by the following.</p>
          <pre class="screen">$ svn ci -m "real last commit for Release-1"</pre>
          <p>Re-add the release tag "<code class="literal">Release-1</code>" from updated Subversion HEAD of trunk by the following.</p>
          <pre class="screen">$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</pre>
          <p>Create a branch with a path "<code class="literal">module1/branches/Release-initial-bugfixes</code>" from the original version pointed by the path "<code class="literal">module1/tags/Release-initial</code>" and check it out to "<code class="literal">~/path/to/old</code>" directory by the following.</p>
          <pre class="screen">$ svn cp file:///srv/svn/project/module1/tags/Release-initial file:///srv/svn/project/module1/branches/Release-initial-bugfixes
$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/branches/Release-initial-bugfixes old
$ cd old</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Use "<code class="literal">module1/trunk@{2005-12-20}</code>" (<a class="ulink" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> date format) instead of "<code class="literal">module1/tags/Release-initial</code>" to specify particular date as the branch point.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Work on this local source tree pointing to branch "<code class="literal">Release-initial-bugfixes</code>" which is based on the original version.</p>
          <p>Work on this branch by yourself … until someone else joins to this "<code class="literal">Release-initial-bugfixes</code>" branch.</p>
          <p>Sync with files modified by others on this branch by the following.</p>
          <pre class="screen">$ svn up</pre>
          <p>Edit files to fix conflicts as needed.</p>
          <p>Check in changes to Subversion by the following.</p>
          <pre class="screen">$ svn ci -m "checked into this branch"</pre>
          <p>Update the local tree with HEAD of trunk by the following.</p>
          <pre class="screen">$ svn switch file:///srv/svn/project/module1/trunk</pre>
          <p>Update the local tree (content = HEAD of trunk) by merging from the "<code class="literal">Release-initial-bugfixes</code>" branch by the following.</p>
          <pre class="screen">$ svn merge file:///srv/svn/project/module1/branches/Release-initial-bugfixes</pre>
          <p>Fix conflicts with editor.</p>
          <p>Check in changes to Subversion by the following.</p>
          <pre class="screen">$ svn ci -m "merged Release-initial-bugfixes"</pre>
          <p>Make archive by the following.</p>
          <pre class="screen">$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can replace URLs such as "<code class="literal">file:///…</code>" by any other URL formats such as "<code class="literal">http://…</code>" and "<code class="literal">svn+ssh://…</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can checkout only a sub directory of "<code class="literal">module1</code>" by providing its name as "<code class="literal">svn co file:///srv/svn/project/module1/trunk/subdir module1/subdir</code>", etc.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="table">
            <a id="notableoptionsfotargumentstosvnb"/>
            <p class="title">
              <strong>Table 10.15. Notable options for Subversion commands (use as first argument(s) to <span class="citerefentry"><span class="refentrytitle">svn</span>(1)</span>)</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Notable options for Subversion commands (use as first argument(s) to svn1)" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    option
    </th>
                    <th style="text-align: left">
    meaning
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">--dry-run</code>
                </td>
                    <td style="text-align: left">
    dry run, no effect
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">-v</code>
                </td>
                    <td style="text-align: left">
    display detail messages of svn activity
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr/>
      <table width="100%" summary="Navigation footer">
        <tr>
          <td align="left"><a accesskey="p" href="ch09.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <td align="center"> </td>
          <td align="right"> <a accesskey="n" href="ch11.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
        <tr>
          <td align="left" valign="top">Chapter 9. System tips </td>
          <td align="center">
            <a accesskey="h" href="index.en.html">
              <img src="images/home.png" alt="Home"/>
            </a>
          </td>
          <td align="right" valign="top"> Chapter 11. Data conversion</td>
        </tr>
      </table>
    </div>
  </body>
</html>
