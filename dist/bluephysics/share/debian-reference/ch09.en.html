<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Chapter 9. System tips</title>
    <link rel="stylesheet" type="text/css" href="debian-reference.css"/>
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="home" href="index.en.html" title="Debian Reference"/>
    <link rel="up" href="index.en.html" title="Debian Reference"/>
    <link rel="prev" href="ch08.en.html" title="Chapter 8. I18N and L10N"/>
    <link rel="next" href="ch10.en.html" title="Chapter 10. Data management"/>
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 9. System tips</th>
        </tr>
        <tr>
          <td align="left"><a accesskey="p" href="ch08.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <th width="60%" align="center"> </th>
          <td align="right"> <a accesskey="n" href="ch10.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
      </table>
      <hr/>
    </div>
    <div class="chapter">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="_system_tips"/>Chapter 9. System tips</h1>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Table of Contents</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="ch09.en.html#_the_screen_program">9.1. The screen program</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_use_scenario_for_screen_1">9.1.1. The use scenario for screen(1)</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_key_bindings_for_the_screen_command">9.1.2. Key bindings for the screen command</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_data_recording_and_presentation">9.2. Data recording and presentation</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_log_daemon">9.2.1. The log daemon</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_log_analyzer">9.2.2. Log analyzer</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_recording_the_shell_activities_cleanly">9.2.3. Recording the shell activities cleanly</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_customized_display_of_text_data">9.2.4. Customized display of text data</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_customized_display_of_time_and_date">9.2.5. Customized display of time and date</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_colorized_shell_echo">9.2.6. Colorized shell echo</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_colorized_commands">9.2.7. Colorized commands</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_recording_the_editor_activities_for_complex_repeats">9.2.8. Recording the editor activities for complex repeats</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_recording_the_graphic_image_of_an_x_application">9.2.9. Recording the graphic image of an X application</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_recording_changes_in_configuration_files">9.2.10. Recording changes in configuration files</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_monitoring_controlling_and_starting_program_activities">9.3. Monitoring, controlling, and starting program activities</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_timing_a_process">9.3.1. Timing a process</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_scheduling_priority">9.3.2. The scheduling priority</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_ps_command">9.3.3. The ps command</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_top_command">9.3.4. The top command</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_listing_files_opened_by_a_process">9.3.5. Listing files opened by a process</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_tracing_program_activities">9.3.6. Tracing program activities</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_identification_of_processes_using_files_or_sockets">9.3.7. Identification of processes using files or sockets</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_repeating_a_command_with_a_constant_interval">9.3.8. Repeating a command with a constant interval</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_repeating_a_command_looping_over_files">9.3.9. Repeating a command looping over files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_starting_a_program_from_gui">9.3.10. Starting a program from GUI</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_customizing_program_to_be_started">9.3.11. Customizing program to be started</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_killing_a_process">9.3.12. Killing a process</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_scheduling_tasks_once">9.3.13. Scheduling tasks once</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_scheduling_tasks_regularly">9.3.14. Scheduling tasks regularly</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_alt_sysrq_key">9.3.15. Alt-SysRq key</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_system_maintenance_tips">9.4. System maintenance tips</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_who_is_on_the_system">9.4.1. Who is on the system?</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_warning_everyone">9.4.2. Warning everyone</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_hardware_identification">9.4.3. Hardware identification</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_hardware_configuration">9.4.4. Hardware configuration</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_system_and_hardware_time">9.4.5. System and hardware time</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_terminal_configuration">9.4.6. The terminal configuration</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_the_sound_infrastructure">9.4.7. The sound infrastructure</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_disabling_the_screen_saver">9.4.8. Disabling the screen saver</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_disabling_beep_sounds">9.4.9. Disabling beep sounds</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_memory_usage">9.4.10. Memory usage</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_system_security_and_integrity_check">9.4.11. System security and integrity check</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_data_storage_tips">9.5. Data storage tips</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_disk_space_usage">9.5.1. Disk space usage</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_disk_partition_configuration">9.5.2. Disk partition configuration</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_accessing_partition_using_uuid">9.5.3. Accessing partition using UUID</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_lvm2">9.5.4. LVM2</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_filesystem_configuration">9.5.5. Filesystem configuration</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_filesystem_creation_and_integrity_check">9.5.6. Filesystem creation and integrity check</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_optimization_of_filesystem_by_mount_options">9.5.7. Optimization of filesystem by mount options</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_optimization_of_filesystem_via_superblock">9.5.8. Optimization of filesystem via superblock</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_optimization_of_hard_disk">9.5.9. Optimization of hard disk</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_optimization_of_solid_state_drive">9.5.10. Optimization of solid state drive</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_using_smart_to_predict_hard_disk_failure">9.5.11. Using SMART to predict hard disk failure</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_specify_temporary_storage_directory_via_tmpdir">9.5.12. Specify temporary storage directory via $TMPDIR</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_expansion_of_usable_storage_space_via_lvm">9.5.13. Expansion of usable storage space via LVM</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_expansion_of_usable_storage_space_by_mounting_another_partition">9.5.14. Expansion of usable storage space by mounting another partition</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_expansion_of_usable_storage_space_by_bind_mounting_another_directory">9.5.15. Expansion of usable storage space by bind-mounting another directory</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_expansion_of_usable_storage_space_by_overlay_mounting_another_directory">9.5.16. Expansion of usable storage space by overlay-mounting another directory</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_expansion_of_usable_storage_space_using_symlink">9.5.17. Expansion of usable storage space using symlink</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_the_disk_image">9.6. The disk image</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_making_the_disk_image_file">9.6.1. Making the disk image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_writing_directly_to_the_disk">9.6.2. Writing directly to the disk</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_mounting_the_disk_image_file">9.6.3. Mounting the disk image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_cleaning_a_disk_image_file">9.6.4. Cleaning a disk image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_making_the_empty_disk_image_file">9.6.5. Making the empty disk image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_making_the_iso9660_image_file">9.6.6. Making the ISO9660 image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_writing_directly_to_the_cd_dvd_r_rw">9.6.7. Writing directly to the CD/DVD-R/RW</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_mounting_the_iso9660_image_file">9.6.8. Mounting the ISO9660 image file</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_the_binary_data">9.7. The binary data</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_viewing_and_editing_binary_data">9.7.1. Viewing and editing binary data</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_manipulating_files_without_mounting_disk">9.7.2. Manipulating files without mounting disk</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_data_redundancy">9.7.3. Data redundancy</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_data_file_recovery_and_forensic_analysis">9.7.4. Data file recovery and forensic analysis</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_splitting_a_large_file_into_small_files">9.7.5. Splitting a large file into small files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_clearing_file_contents">9.7.6. Clearing file contents</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_dummy_files">9.7.7. Dummy files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_erasing_an_entire_hard_disk">9.7.8. Erasing an entire hard disk</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_erasing_unused_area_of_an_hard_disk">9.7.9. Erasing unused area of an hard disk</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_undeleting_deleted_but_still_open_files">9.7.10. Undeleting deleted but still open files</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_searching_all_hardlinks">9.7.11. Searching all hardlinks</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_invisible_disk_space_consumption">9.7.12. Invisible disk space consumption</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_data_encryption_tips">9.8. Data encryption tips</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_removable_disk_encryption_with_dm_crypt_luks">9.8.1. Removable disk encryption with dm-crypt/LUKS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_encrypted_swap_partition_with_dm_crypt">9.8.2. Encrypted swap partition with dm-crypt</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_mounting_encrypted_disk_with_dm_crypt_luks">9.8.3. Mounting encrypted disk with dm-crypt/LUKS</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_automatically_encrypting_files_with_ecryptfs">9.8.4. Automatically encrypting files with eCryptfs</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_automatically_mounting_ecryptfs">9.8.5. Automatically mounting eCryptfs</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_the_kernel">9.9. The kernel</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_linux_kernel_2_6_3_x">9.9.1. Linux kernel 2.6/3.x</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_kernel_parameters">9.9.2. Kernel parameters</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_kernel_headers">9.9.3. Kernel headers</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_compiling_the_kernel_and_related_modules">9.9.4. Compiling the kernel and related modules</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_compiling_the_kernel_source_debian_kernel_team_recommendation">9.9.5. Compiling the kernel source: Debian Kernel Team recommendation</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_hardware_drivers_and_firmware">9.9.6. Hardware drivers and firmware</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch09.en.html#_virtualized_system">9.10. Virtualized system</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_virtualization_tools">9.10.1. Virtualization tools</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_virtualization_work_flow">9.10.2. Virtualization work flow</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_mounting_the_virtual_disk_image_file">9.10.3. Mounting the virtual disk image file</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_chroot_system">9.10.4. Chroot system</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch09.en.html#_multiple_desktop_systems">9.10.5. Multiple desktop systems</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <p>Here, I describe basic tips to configure and manage systems, mostly from the console.</p>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_the_screen_program"/>9.1. The screen program</h2>
            </div>
          </div>
        </div>
        <p><span class="citerefentry"><span class="refentrytitle">screen</span>(1)</span> is a very useful tool for people to access remote sites via unreliable or intermittent connections since it supports interrupted network connections.</p>
        <div class="table">
          <a id="listofprogramstotworkconnections"/>
          <p class="title">
            <strong>Table 9.1. List of programs to support interrupted network connections</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of programs to support interrupted network connections" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    description
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/screen">
                <code class="literal">screen</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=screen">V:195, I:283</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/s/screen.html">995</a>
                  </td>
                  <td style="text-align: left">
    terminal multiplexer with VT100/ANSI terminal emulation
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/tmux">
                <code class="literal">tmux</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tmux">V:31, I:118</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/t/tmux.html">681</a>
                  </td>
                  <td style="text-align: left">
    terminal multiplexer alternative (Use "Control-B" instead)
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_use_scenario_for_screen_1"/>9.1.1. The use scenario for screen(1)</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">screen</span>(1)</span> not only allows one terminal window to work with multiple processes, but also allows <span class="strong"><strong>remote shell process to survive interrupted connections</strong></span>.  Here is a typical use scenario of <span class="citerefentry"><span class="refentrytitle">screen</span>(1)</span>.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
                <p>
You login to a remote machine.
</p>
              </li>
              <li class="listitem">
                <p>
You start <code class="literal">screen</code> on a single console.
</p>
              </li>
              <li class="listitem">
                <p>
You execute multiple programs in <code class="literal">screen</code> windows created with <code class="literal">^A c</code> ("Control-A" followed by "c").
</p>
              </li>
              <li class="listitem">
                <p>
You switch among the multiple <code class="literal">screen</code> windows by <code class="literal">^A n</code> ("Control-A" followed by "n").
</p>
              </li>
              <li class="listitem">
                <p>
Suddenly you need to leave your terminal, but you don't want to lose your active work by keeping the connection.
</p>
              </li>
              <li class="listitem">
                <p>
You may <span class="strong"><strong>detach</strong></span> the <code class="literal">screen</code> session by any methods.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Brutally unplug your network connection
</p>
                    </li>
                    <li class="listitem">
                      <p>
Type <code class="literal">^A d</code> ("Control-A" followed by "d") and manually logging out from the remote connection
</p>
                    </li>
                    <li class="listitem">
                      <p>
Type <code class="literal">^A DD</code> ("Control-A" followed by "DD") to have <code class="literal">screen</code> detach and log you out
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
You log in again to the same remote machine (even from a different terminal).
</p>
              </li>
              <li class="listitem">
                <p>
You start <code class="literal">screen</code> as "<code class="literal">screen -r</code>".
</p>
              </li>
              <li class="listitem">
                <p><code class="literal">screen</code> magically <span class="strong"><strong>reattaches</strong></span> all previous <code class="literal">screen</code> windows with all actively running programs.
</p>
              </li>
            </ol>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can save connection fees with <code class="literal">screen</code> for metered network connections such as dial-up and packet ones, because you can leave a process active while disconnected, and then re-attach it later when you connect again.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_key_bindings_for_the_screen_command"/>9.1.2. Key bindings for the screen command</h3>
              </div>
            </div>
          </div>
          <p>In a <code class="literal">screen</code> session, all keyboard inputs are sent to your current window except for the command keystroke.  All <code class="literal">screen</code> command keystrokes are entered by typing <code class="literal">^A</code> ("Control-A") plus a single key [plus any parameters].  Here are important ones to remember.</p>
          <div class="table">
            <a id="listofkeybindingsforscreen"/>
            <p class="title">
              <strong>Table 9.2. List of key bindings for screen</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of key bindings for screen" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    key binding
    </th>
                    <th style="text-align: left">
    meaning
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A ?</code>
                </td>
                    <td style="text-align: left">
    show a help screen (display key bindings)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A c</code>
                </td>
                    <td style="text-align: left">
    create a new window and switch to it
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A n</code>
                </td>
                    <td style="text-align: left">
    go to next window
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A p</code>
                </td>
                    <td style="text-align: left">
    go to previous window
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A 0</code>
                </td>
                    <td style="text-align: left">
    go to window number 0
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A 1</code>
                </td>
                    <td style="text-align: left">
    go to window number 1
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A w</code>
                </td>
                    <td style="text-align: left">
    show a list of windows
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A a</code>
                </td>
                    <td style="text-align: left">
    send a Ctrl-A to current window as keyboard input
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A h</code>
                </td>
                    <td style="text-align: left">
    write a hardcopy of current window to file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A H</code>
                </td>
                    <td style="text-align: left">
    begin/end logging current window to file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A ^X</code>
                </td>
                    <td style="text-align: left">
    lock the terminal (password protected)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A d</code>
                </td>
                    <td style="text-align: left">
    detach screen session from the terminal
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">^A DD</code>
                </td>
                    <td style="text-align: left">
    detach screen session and log out
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>See <span class="citerefentry"><span class="refentrytitle">screen</span>(1)</span> for details.</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_data_recording_and_presentation"/>9.2. Data recording and presentation</h2>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_log_daemon"/>9.2.1. The log daemon</h3>
              </div>
            </div>
          </div>
          <p>Many programs record their activities under the "<code class="literal">/var/log/</code>" directory.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
The system log daemon: <span class="citerefentry"><span class="refentrytitle">rsyslogd</span>(8)</span>
</p>
              </li>
            </ul>
          </div>
          <p>See <a class="xref" href="ch03.en.html#_the_system_message" title="3.2.5. The system message">Section 3.2.5, “The system message”</a> and <a class="xref" href="ch03.en.html#_the_kernel_message" title="3.2.4. The kernel message">Section 3.2.4, “The kernel message”</a>.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_log_analyzer"/>9.2.2. Log analyzer</h3>
              </div>
            </div>
          </div>
          <p>Here are notable log analyzers ("<code class="literal">~Gsecurity::log-analyzer</code>" in <span class="citerefentry"><span class="refentrytitle">aptitude</span>(8)</span>).</p>
          <div class="table">
            <a id="listofsystemloganalyzers"/>
            <p class="title">
              <strong>Table 9.3. List of system log analyzers</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of system log analyzers" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/logwatch">
                  <code class="literal">logwatch</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=logwatch">V:17, I:19</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/logwatch.html">2251</a>
                    </td>
                    <td style="text-align: left">
    log analyzer with nice output written in Perl
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/fail2ban">
                  <code class="literal">fail2ban</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=fail2ban">V:103, I:114</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/fail2ban.html">1735</a>
                    </td>
                    <td style="text-align: left">
    ban IPs that cause multiple authentication errors
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/analog">
                  <code class="literal">analog</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=analog">V:4, I:123</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/analog.html">3529</a>
                    </td>
                    <td style="text-align: left">
    web server log analyzer
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/awstats">
                  <code class="literal">awstats</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=awstats">V:11, I:17</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/awstats.html">6799</a>
                    </td>
                    <td style="text-align: left">
    powerful and featureful web server log analyzer
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/sarg">
                  <code class="literal">sarg</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=sarg">V:4, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/sarg.html">429</a>
                    </td>
                    <td style="text-align: left">
    squid analysis report generator
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pflogsumm">
                  <code class="literal">pflogsumm</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pflogsumm">V:1, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pflogsumm.html">111</a>
                    </td>
                    <td style="text-align: left">
    Postfix log entry summarizer
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/syslog-summary">
                  <code class="literal">syslog-summary</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=syslog-summary">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/syslog-summary.html">30</a>
                    </td>
                    <td style="text-align: left">
    summarize the contents of a syslog log file
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/fwlogwatch">
                  <code class="literal">fwlogwatch</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=fwlogwatch">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/fwlogwatch.html">474</a>
                    </td>
                    <td style="text-align: left">
    firewall log analyzer
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/squidview">
                  <code class="literal">squidview</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=squidview">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/squidview.html">189</a>
                    </td>
                    <td style="text-align: left">
    monitor and analyze squid access.log files
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/swatch">
                  <code class="literal">swatch</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=swatch">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/swatch.html">101</a>
                    </td>
                    <td style="text-align: left">
    log file viewer with regexp matching, highlighting, and hooks
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/crm114">
                  <code class="literal">crm114</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=crm114">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/crm114.html">1119</a>
                    </td>
                    <td style="text-align: left">
    Controllable Regex Mutilator and Spam Filter (CRM114)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/icmpinfo">
                  <code class="literal">icmpinfo</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=icmpinfo">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/i/icmpinfo.html">39</a>
                    </td>
                    <td style="text-align: left">
    interpret ICMP messages
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="http://crm114.sourceforge.net/">CRM114</a> provides language infrastructure to write <span class="strong"><strong>fuzzy</strong></span> filters with the <a class="ulink" href="http://www.laurikari.net/tre/">TRE regex library</a>.  Its popular use is spam mail filter but it can be used as log analyzer.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_recording_the_shell_activities_cleanly"/>9.2.3. Recording the shell activities cleanly</h3>
              </div>
            </div>
          </div>
          <p>The simple use of <span class="citerefentry"><span class="refentrytitle">script</span>(1)</span> (see <a class="xref" href="ch01.en.html#_recording_the_shell_activities" title="1.4.9. Recording the shell activities">Section 1.4.9, “Recording the shell activities”</a>) to record shell activity produces a file with control characters.  This can be avoided by using <span class="citerefentry"><span class="refentrytitle">col</span>(1)</span> as the following.</p>
          <pre class="screen">$ script
Script started, file is typescript</pre>
          <p>Do whatever … and press <code class="literal">Ctrl-D</code> to exit <code class="literal">script</code>.</p>
          <pre class="screen">$ col -bx &lt;typescript &gt;cleanedfile
$ vim cleanedfile</pre>
          <p>If you don't have <code class="literal">script</code> (for example, during the boot process in the initramfs), you can use the following instead.</p>
          <pre class="screen">$ sh -i 2&gt;&amp;1 | tee typescript</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Some <code class="literal">x-terminal-emulator</code> such as <code class="literal">gnome-terminal</code> can record.  You may wish to extend line buffer for scrollback.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You may use <span class="citerefentry"><span class="refentrytitle">screen</span>(1)</span> with "<code class="literal">^A H</code>" (see <a class="xref" href="ch09.en.html#_key_bindings_for_the_screen_command" title="9.1.2. Key bindings for the screen command">Section 9.1.2, “Key bindings for the screen command”</a>) to perform recording of console.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You may use <span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span> with "<code class="literal">M-x shell</code>", "<code class="literal">M-x eshell</code>", or "<code class="literal">M-x term</code>" to perform recording of console.  You may later use "<code class="literal">C-x C-w</code>" to write the buffer to a file.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_customized_display_of_text_data"/>9.2.4. Customized display of text data</h3>
              </div>
            </div>
          </div>
          <p>Although pager tools such as <span class="citerefentry"><span class="refentrytitle">more</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">less</span>(1)</span> (see <a class="xref" href="ch01.en.html#_the_pager" title="1.4.5. The pager">Section 1.4.5, “The pager”</a>) and custom tools for highlighting and formatting (see <a class="xref" href="ch11.en.html#_highlighting_and_formatting_plain_text_data" title="11.1.8. Highlighting and formatting plain text data">Section 11.1.8, “Highlighting and formatting plain text data”</a>) can display text data nicely, general purpose editors (see <a class="xref" href="ch01.en.html#_the_text_editor" title="1.4.6. The text editor">Section 1.4.6, “The text editor”</a>) are most versatile and customizable.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For <span class="citerefentry"><span class="refentrytitle">vim</span>(1)</span> and its pager mode alias <span class="citerefentry"><span class="refentrytitle">view</span>(1)</span>, "<code class="literal">:set hls</code>" enables highlighted search.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_customized_display_of_time_and_date"/>9.2.5. Customized display of time and date</h3>
              </div>
            </div>
          </div>
          <p>The default display format of time and date by the "<code class="literal">ls -l</code>" command depends on the <span class="strong"><strong>locale</strong></span> (see <a class="xref" href="ch01.en.html#_timestamps" title="1.2.6. Timestamps">Section 1.2.6, “Timestamps”</a> for value).  The "<code class="literal">$LANG</code>" variable is referred first and it can be overridden by the "<code class="literal">$LC_TIME</code>" variable.</p>
          <p>The actual default display format for each locale depends on the version of  the standard C library (the <code class="literal">libc6</code> package) used.  I.e., different releases of Debian had different defaults.</p>
          <p>If you really wish to customize this display format of time and date beyond the <span class="strong"><strong>locale</strong></span>, you should set the <span class="strong"><strong>time style value</strong></span> by the "<code class="literal">--time-style</code>" argument or by the "<code class="literal">$TIME_STYLE</code>" value (see <span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">date</span>(1)</span>, "<code class="literal">info coreutils 'ls invocation'</code>").</p>
          <div class="table">
            <a id="displayexamplesocommandforwheezy"/>
            <p class="title">
              <strong>Table 9.4. Display examples of time and date for the "<code class="literal">ls -l</code>" command for <code class="literal">wheezy</code></strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Display examples of time and date for the &quot;ls -l&quot; command for wheezy" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    time style value
    </th>
                    <th style="text-align: left">
    locale
    </th>
                    <th style="text-align: left">
    display of time and date
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">iso</code>
                </td>
                    <td style="text-align: left">
    any
    </td>
                    <td style="text-align: left">
                  <code class="literal">01-19 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">long-iso</code>
                </td>
                    <td style="text-align: left">
    any
    </td>
                    <td style="text-align: left">
                  <code class="literal">2009-01-19 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">full-iso</code>
                </td>
                    <td style="text-align: left">
    any
    </td>
                    <td style="text-align: left">
                  <code class="literal">2009-01-19 00:15:16.000000000 +0900</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">locale</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">C</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">Jan 19 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">locale</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">en_US.UTF-8</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">Jan 19 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">locale</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">es_ES.UTF-8</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">ene 19 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">+%d.%m.%y %H:%M</code>
                </td>
                    <td style="text-align: left">
    any
    </td>
                    <td style="text-align: left">
                  <code class="literal">19.01.09 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">+%d.%b.%y %H:%M</code>
                </td>
                    <td style="text-align: left"><code class="literal">C</code> or <code class="literal">en_US.UTF-8</code>
    </td>
                    <td style="text-align: left">
                  <code class="literal">19.Jan.09 00:15</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">+%d.%b.%y %H:%M</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">es_ES.UTF-8</code>
                </td>
                    <td style="text-align: left">
                  <code class="literal">19.ene.09 00:15</code>
                </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can eliminate typing long option on commandline using command alias, e.g. "<code class="literal">alias ls='ls --time-style=+%d.%m.%y\ %H:%M'</code>" (see <a class="xref" href="ch01.en.html#_command_alias" title="1.5.9. Command alias">Section 1.5.9, “Command alias”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> is followed for these iso-formats.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_colorized_shell_echo"/>9.2.6. Colorized shell echo</h3>
              </div>
            </div>
          </div>
          <p>Shell echo to most modern terminals can be colorized using <a class="ulink" href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape code</a> (see "<code class="literal">/usr/share/doc/xterm/ctlseqs.txt.gz</code>").</p>
          <p>For example, try the following</p>
          <pre class="screen">$ RED=$(printf "\x1b[31m")
$ NORMAL=$(printf "\x1b[0m")
$ REVERSE=$(printf "\x1b[7m")
$ echo "${RED}RED-TEXT${NORMAL} ${REVERSE}REVERSE-TEXT${NORMAL}"</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_colorized_commands"/>9.2.7. Colorized commands</h3>
              </div>
            </div>
          </div>
          <p>Colorized commands are handy for inspecting their output in the interactive environment.  I include the following in my "<code class="literal">~/.bashrc</code>".</p>
          <pre class="screen">if [ "$TERM" != "dumb" ]; then
    eval "`dircolors -b`"
    alias ls='ls --color=always'
    alias ll='ls --color=always -l'
    alias la='ls --color=always -A'
    alias less='less -R'
    alias ls='ls --color=always'
    alias grep='grep --color=always'
    alias egrep='egrep --color=always'
    alias fgrep='fgrep --color=always'
    alias zgrep='zgrep --color=always'
else
    alias ll='ls -l'
    alias la='ls -A'
fi</pre>
          <p>The use of alias limits color effects to the interactive command usage.  It has advantage over exporting environment variable "<code class="literal">export GREP_OPTIONS='--color=auto'</code>" since color can be seen under pager programs such as <span class="citerefentry"><span class="refentrytitle">less</span>(1)</span>.  If you wish to suppress color when piping to other programs, use "<code class="literal">--color=auto</code>" instead in the above example for "<code class="literal">~/.bashrc</code>".</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can turn off these colorizing aliases in the interactive environment by invoking shell with "<code class="literal">TERM=dumb bash</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_recording_the_editor_activities_for_complex_repeats"/>9.2.8. Recording the editor activities for complex repeats</h3>
              </div>
            </div>
          </div>
          <p>You can record the editor activities for complex repeats.</p>
          <p>For <a class="ulink" href="https://en.wikipedia.org/wiki/Vim_(text_editor)">Vim</a>, as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">qa</code>": start recording typed characters into named register "<code class="literal">a</code>".
</p>
              </li>
              <li class="listitem">
                <p>
… editor activities
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">q</code>": end recording typed characters.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">@a</code>": execute the contents of register "<code class="literal">a</code>".
</p>
              </li>
            </ul>
          </div>
          <p>For <a class="ulink" href="https://en.wikipedia.org/wiki/Emacs">Emacs</a>, as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">C-x (</code>": start defining a keyboard macro.
</p>
              </li>
              <li class="listitem">
                <p>
… editor activities
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">C-x )</code>": end defining a keyboard macro.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">C-x e</code>": execute a keyboard macro.
</p>
              </li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_recording_the_graphic_image_of_an_x_application"/>9.2.9. Recording the graphic image of an X application</h3>
              </div>
            </div>
          </div>
          <p>There are few ways to record the graphic image of an X application, including an <code class="literal">xterm</code> display.</p>
          <div class="table">
            <a id="listofgraphicimaanipulationtools"/>
            <p class="title">
              <strong>Table 9.5. List of graphic image manipulation tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of graphic image manipulation tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    command
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/xbase-clients">
                  <code class="literal">xbase-clients</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xbase-clients">I:38</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/xbase-clients.html">46</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">xwd</span>(1)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gimp">
                  <code class="literal">gimp</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gimp">V:85, I:489</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gimp.html">19016</a>
                    </td>
                    <td style="text-align: left">
    GUI menu
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/imagemagick">
                  <code class="literal">imagemagick</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=imagemagick">V:43, I:549</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/i/imagemagick.html">209</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">import</span>(1)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/scrot">
                  <code class="literal">scrot</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=scrot">V:8, I:92</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/scrot.html">54</a>
                    </td>
                    <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">scrot</span>(1)</span>
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_recording_changes_in_configuration_files"/>9.2.10. Recording changes in configuration files</h3>
              </div>
            </div>
          </div>
          <p>There are specialized tools to record changes in configuration files with help of DVCS system.</p>
          <div class="table">
            <a id="listofpackagestotionhistoryinvcs"/>
            <p class="title">
              <strong>Table 9.6. List of packages to record configuration history in VCS</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of packages to record configuration history in VCS" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/etckeeper">
                  <code class="literal">etckeeper</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=etckeeper">V:26, I:31</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/e/etckeeper.html">158</a>
                    </td>
                    <td style="text-align: left">
    store configuration files and their metadata with <a class="ulink" href="https://en.wikipedia.org/wiki/Git_(software)">Git</a> (default), <a class="ulink" href="https://en.wikipedia.org/wiki/Mercurial_(software)">Mercurial</a>, or <a class="ulink" href="https://en.wikipedia.org/wiki/Bazaar_(software)">Bazaar</a> (new)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/changetrack">
                  <code class="literal">changetrack</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=changetrack">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/changetrack.html">63</a>
                    </td>
                    <td style="text-align: left">
    store configuration files with <a class="ulink" href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a> (old)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>I recommend to use the <code class="literal">etckeeper</code> package with <span class="citerefentry"><span class="refentrytitle">git</span>(1)</span> which put entire "<code class="literal">/etc</code>" under VCS control.  Its installation guide and tutorial are found in "<code class="literal">/usr/share/doc/etckeeper/README.gz</code>".</p>
          <p>Essentially, running "<code class="literal">sudo etckeeper init</code>" initializes the git repository for "<code class="literal">/etc</code>" just like the process explained in <a class="xref" href="ch10.en.html#_git_for_recording_configuration_history" title="10.6.5. Git for recording configuration history">Section 10.6.5, “Git for recording configuration history”</a> but with special hook scripts for more thorough setups.</p>
          <p>As you change your configuration, you can use <span class="citerefentry"><span class="refentrytitle">git</span>(1)</span> normally to record them.  It automatically records changes nicely every time you run package management commands, too.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can browse the change history of "<code class="literal">/etc</code>" by executing "<code class="literal">sudo GIT_DIR=/etc/.git gitk</code>" with clear view for new installed packages, removed packages, and version changes of packages.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_monitoring_controlling_and_starting_program_activities"/>9.3. Monitoring, controlling, and starting program activities</h2>
            </div>
          </div>
        </div>
        <p>Program activities can be monitored and controlled using specialized tools.</p>
        <div class="table">
          <a id="listoftoolsformorogramactivities"/>
          <p class="title">
            <strong>Table 9.7. List of tools for monitoring and controlling program activities</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of tools for monitoring and controlling program activities" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    description
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/coreutils">
                <code class="literal">coreutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=coreutils">V:888, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html">15719</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">nice</span>(1)</span>: run a program with modified scheduling priority
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/bsdutils">
                <code class="literal">bsdutils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bsdutils">V:866, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/b/bsdutils.html">293</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">renice</span>(1)</span>: modify the scheduling priority of a running process
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/procps">
                <code class="literal">procps</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=procps">V:793, I:999</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/procps.html">729</a>
                  </td>
                  <td style="text-align: left">
    "<code class="literal">/proc</code>" filesystem utilities: <span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">top</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">watch</span>(1)</span>, …
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/psmisc">
                <code class="literal">psmisc</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=psmisc">V:473, I:895</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/psmisc.html">637</a>
                  </td>
                  <td style="text-align: left">
    "<code class="literal">/proc</code>" filesystem utilities: <span class="citerefentry"><span class="refentrytitle">killall</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">fuser</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">peekfd</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">pstree</span>(1)</span>
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/time">
                <code class="literal">time</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=time">V:22, I:428</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/t/time.html">82</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">time</span>(1)</span>: run a program to report system resource usages with respect to time
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/sysstat">
                <code class="literal">sysstat</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=sysstat">V:144, I:165</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/s/sysstat.html">1684</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">sar</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">iostat</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">mpstat</span>(1)</span>, …: system performance tools for Linux
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/isag">
                <code class="literal">isag</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=isag">V:0, I:4</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/i/isag.html">111</a>
                  </td>
                  <td style="text-align: left">
    Interactive System Activity Grapher for sysstat
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/lsof">
                <code class="literal">lsof</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=lsof">V:464, I:946</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/l/lsof.html">454</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">lsof</span>(8)</span>: list files opened by a running process using "<code class="literal">-p</code>" option
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/strace">
                <code class="literal">strace</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=strace">V:19, I:159</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/s/strace.html">2051</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">strace</span>(1)</span>: trace system calls and signals
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/ltrace">
                <code class="literal">ltrace</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ltrace">V:1, I:21</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/l/ltrace.html">363</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">ltrace</span>(1)</span>: trace library calls
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/xtrace">
                <code class="literal">xtrace</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xtrace">V:0, I:0</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/x/xtrace.html">352</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">xtrace</span>(1)</span>: trace communication between X11 client and server
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/powertop">
                <code class="literal">powertop</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=powertop">V:6, I:231</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/p/powertop.html">604</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">powertop</span>(1)</span>: information about system power use
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cron">
                <code class="literal">cron</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cron">V:878, I:997</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cron.html">263</a>
                  </td>
                  <td style="text-align: left">
    run processes according to a schedule in background from <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span> daemon
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/anacron">
                <code class="literal">anacron</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=anacron">V:447, I:521</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/a/anacron.html">99</a>
                  </td>
                  <td style="text-align: left">
    cron-like command scheduler for systems that don't run 24 hours a day
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/at">
                <code class="literal">at</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=at">V:260, I:453</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/a/at.html">157</a>
                  </td>
                  <td style="text-align: left"><span class="citerefentry"><span class="refentrytitle">at</span>(1)</span> or <span class="citerefentry"><span class="refentrytitle">batch</span>(1)</span>: run a job at a specified time or below certain load level
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Tip]" src="images/tip.png"/>
              </td>
              <th align="left">Tip</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>The <code class="literal">procps</code> packages provide very basics of monitoring, controlling, and starting program activities.  You should learn all of them.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_timing_a_process"/>9.3.1. Timing a process</h3>
              </div>
            </div>
          </div>
          <p>Display time used by the process invoked by the command.</p>
          <pre class="screen"># time some_command &gt;/dev/null
real    0m0.035s       # time on wall clock (elapsed real time)
user    0m0.000s       # time in user mode
sys     0m0.020s       # time in kernel mode</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_scheduling_priority"/>9.3.2. The scheduling priority</h3>
              </div>
            </div>
          </div>
          <p>A nice value is used to control the scheduling priority for the process.</p>
          <div class="table">
            <a id="listofnicevalueshedulingpriority"/>
            <p class="title">
              <strong>Table 9.8. List of nice values for the scheduling priority</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of nice values for the scheduling priority" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    nice value
    </th>
                    <th style="text-align: left">
    scheduling priority
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
    19
    </td>
                    <td style="text-align: left">
    lowest priority process (nice)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    0
    </td>
                    <td style="text-align: left">
    very high priority process for user
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    -20
    </td>
                    <td style="text-align: left">
    very high priority process for root (not-nice)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <pre class="screen"># nice  -19 top                                      # very nice
# nice --20 wodim -v -eject speed=2 dev=0,0 disk.img # very fast</pre>
          <p>Sometimes an extreme nice value does more harm than good to the system.  Use this command carefully.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_ps_command"/>9.3.3. The ps command</h3>
              </div>
            </div>
          </div>
          <p>The <span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span> command on a Debian system support both BSD and SystemV features and helps to identify the process activity statically.</p>
          <div class="table">
            <a id="listofpscommandstyles"/>
            <p class="title">
              <strong>Table 9.9. List of ps command styles</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of ps command styles" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    style
    </th>
                    <th style="text-align: left">
    typical command
    </th>
                    <th style="text-align: left">
    feature
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
    BSD
    </td>
                    <td style="text-align: left">
                  <code class="literal">ps aux</code>
                </td>
                    <td style="text-align: left">
    display %CPU %MEM
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    System V
    </td>
                    <td style="text-align: left">
                  <code class="literal">ps -efH</code>
                </td>
                    <td style="text-align: left">
    display PPID
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>For the zombie (defunct) children process, you can kill them by the parent process ID identified in the "<code class="literal">PPID</code>" field.</p>
          <p>The <span class="citerefentry"><span class="refentrytitle">pstree</span>(1)</span> command display a tree of processes.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_top_command"/>9.3.4. The top command</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span> on the Debian system has rich features and helps to identify what process is acting funny dynamically.</p>
          <p>It is an interactive full screen program.  You can get its usage help press by pressing the "h"-key and terminate it by pressing the "q"-key.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_listing_files_opened_by_a_process"/>9.3.5. Listing files opened by a process</h3>
              </div>
            </div>
          </div>
          <p>You can list all files opened by a process with a process ID (PID), e.g. 1, by the following.</p>
          <pre class="screen">$ sudo lsof -p 1</pre>
          <p>PID=1 is usually the <code class="literal">init</code> program.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_tracing_program_activities"/>9.3.6. Tracing program activities</h3>
              </div>
            </div>
          </div>
          <p>You can trace program activity with <span class="citerefentry"><span class="refentrytitle">strace</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">ltrace</span>(1)</span>, or <span class="citerefentry"><span class="refentrytitle">xtrace</span>(1)</span> for system calls and signals, library calls, or communication between X11 client and server.</p>
          <p>You can trace system calls of the <code class="literal">ls</code> command as the following.</p>
          <pre class="screen">$ sudo strace ls</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_identification_of_processes_using_files_or_sockets"/>9.3.7. Identification of processes using files or sockets</h3>
              </div>
            </div>
          </div>
          <p>You can also identify processes using files by <span class="citerefentry"><span class="refentrytitle">fuser</span>(1)</span>, e.g. for "<code class="literal">/var/log/mail.log</code>" by the following.</p>
          <pre class="screen">$ sudo fuser -v /var/log/mail.log
                     USER        PID ACCESS COMMAND
/var/log/mail.log:   root       2946 F.... rsyslogd</pre>
          <p>You see that file "<code class="literal">/var/log/mail.log</code>" is open for writing by the <span class="citerefentry"><span class="refentrytitle">rsyslogd</span>(8)</span> command.</p>
          <p>You can also identify processes using sockets by <span class="citerefentry"><span class="refentrytitle">fuser</span>(1)</span>, e.g. for "<code class="literal">smtp/tcp</code>" by the following.</p>
          <pre class="screen">$ sudo fuser -v smtp/tcp
                     USER        PID ACCESS COMMAND
smtp/tcp:            Debian-exim   3379 F.... exim4</pre>
          <p>Now you know your system runs <span class="citerefentry"><span class="refentrytitle">exim4</span>(8)</span> to handle <a class="ulink" href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a> connections to <a class="ulink" href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a> port (25).</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_repeating_a_command_with_a_constant_interval"/>9.3.8. Repeating a command with a constant interval</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">watch</span>(1)</span> executes a program repeatedly with a constant interval while showing its output in fullscreen.</p>
          <pre class="screen">$ watch w</pre>
          <p>This displays who is logged on to the system updated every 2 seconds.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_repeating_a_command_looping_over_files"/>9.3.9. Repeating a command looping over files</h3>
              </div>
            </div>
          </div>
          <p>There are several ways to repeat a command looping over files matching some condition, e.g. matching glob pattern "<code class="literal">*.ext</code>".</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Shell for-loop method (see <a class="xref" href="ch12.en.html#_shell_loops" title="12.1.4. Shell loops">Section 12.1.4, “Shell loops”</a>):
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">for x in *.ext; do if [ -f "$x"]; then command "$x" ; fi; done</pre>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">xargs</span>(1)</span> combination:
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -print0 | xargs -0 -n 1 command</pre>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> with "<code class="literal">-exec</code>" option with a command:
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -exec command '{}' \;</pre>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span> with "<code class="literal">-exec</code>" option with a short shell script:
</p>
              </li>
            </ul>
          </div>
          <pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -exec sh -c "command '{}' &amp;&amp; echo 'successful'" \;</pre>
          <p>The above examples are written to ensure proper handling of funny file names such as ones containing spaces.  See <a class="xref" href="ch10.en.html#_idioms_for_the_selection_of_files" title="10.1.5. Idioms for the selection of files">Section 10.1.5, “Idioms for the selection of files”</a> for more advance uses of <span class="citerefentry"><span class="refentrytitle">find</span>(1)</span>.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_starting_a_program_from_gui"/>9.3.10. Starting a program from GUI</h3>
              </div>
            </div>
          </div>
          <p>For the <a class="ulink" href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface (CLI)</a>, the first program with the matching name found in the directories specified in the <code class="literal">$PATH</code> environment variable is executed. See <a class="xref" href="ch01.en.html#_the_literal_path_literal_variable" title="1.5.3. The &quot;$PATH&quot; variable">Section 1.5.3, “The "<code class="literal">$PATH</code>" variable”</a>.</p>
          <p>For the <a class="ulink" href="https://en.wikipedia.org/wiki/Graphical_user_interface">graphical user interface (GUI)</a> compliant to the <a class="ulink" href="http://www.freedesktop.org/">freedesktop.org</a> standards, the <code class="literal">*.desktop</code> files in the <code class="literal">/usr/share/applications/</code> directory provide necessary attributes for the GUI menu display of each program. See <a class="xref" href="ch07.en.html#_freedesktop_org_menu" title="7.2.2. Freedesktop.org menu">Section 7.2.2, “Freedesktop.org menu”</a>.</p>
          <p>For example, the <code class="literal">chromium.desktop</code> file defines attributes for the "Chromium Web Browser" such as "Name" for the program name, "Exec" for the program execution path and arguments, "Icon" for the icon used, etc. (see the <a class="ulink" href="http://standards.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html">Desktop Entry Specification</a>) as follows:</p>
          <pre class="screen">[Desktop Entry]
Version=1.0
Name=Chromium Web Browser
GenericName=Web Browser
Comment=Access the Internet
Comment[fr]=Explorer le Web
Exec=/usr/bin/chromium %U
Terminal=false
X-MultipleArgs=false
Type=Application
Icon=chromium
Categories=Network;WebBrowser;
MimeType=text/html;text/xml;application/xhtml_xml;x-scheme-handler/http;x-scheme-handler/https;
StartupWMClass=Chromium
StartupNotify=true</pre>
          <p>This is an oversimplified description. The <code class="literal">*.desktop</code> files are scanned as follows.</p>
          <p>The desktop environment sets <code class="literal">$XDG_DATA_HOME</code> and <code class="literal">$XDG_DATA_DIR</code> environment variables.  For example, under the GNOME 3:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><code class="literal">$XDG_DATA_HOME</code> is unset. (The default value of <code class="literal">$HOME/.local/share</code> is used.)
</p>
              </li>
              <li class="listitem">
                <p><code class="literal">$XDG_DATA_DIRS</code> is set to <code class="literal">/usr/share/gnome:/usr/local/share/:/usr/share/</code>.
</p>
              </li>
            </ul>
          </div>
          <p>So the base directories (see <a class="ulink" href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>) and the <code class="literal">applications</code> directories are as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><code class="literal">$HOME/.local/share/</code> → <code class="literal">$HOME/.local/share/applications/</code>
</p>
              </li>
              <li class="listitem">
                <p><code class="literal">/usr/share/gnome/</code> → <code class="literal">/usr/share/gnome/applications/</code>
</p>
              </li>
              <li class="listitem">
                <p><code class="literal">/usr/local/share/</code> → <code class="literal">/usr/local/share/applications/</code>
</p>
              </li>
              <li class="listitem">
                <p><code class="literal">/usr/share/</code> → <code class="literal">/usr/share/applications/</code>
</p>
              </li>
            </ul>
          </div>
          <p>The <code class="literal">*.desktop</code> files are scanned in these <code class="literal">applications</code> directories in this order.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>A user custom GUI menu entry can be created by adding a <code class="literal">*.desktop</code> file in the <code class="literal">$HOME/.local/share/applications/</code> directory.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Similarly, if a <code class="literal">*.desktop</code> file is created in the <code class="literal">autostart</code> directory under these base directories, the specified program in the <code class="literal">*.desktop</code> file is executed automatically when the desktop environment is started. See <a class="ulink" href="http://standards.freedesktop.org/autostart-spec/autostart-spec-latest.html">Desktop Application Autostart Specification</a>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Similarly, if a <code class="literal">*.desktop</code> file is created in the <code class="literal">$HOME/Desktop</code> directory and the Desktop environment is configured to support the desktop icon launcher feature, the specified program in it is executed upon clicking the icon. Please note that the actual name of the <code class="literal">$HOME/Desktop</code> directory is locale dependent.  See <span class="citerefentry"><span class="refentrytitle">xdg-user-dirs-update</span>(1)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_customizing_program_to_be_started"/>9.3.11. Customizing program to be started</h3>
              </div>
            </div>
          </div>
          <p>Some programs start another program automatically.  Here are check points for customizing this process.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Application configuration menu:
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
GNOME3 desktop: "Settings" → "System" → "Details" → "Default Applications"
</p>
                    </li>
                    <li class="listitem">
                      <p>
KDE desktop: "K" → "Control Center" → "KDE Components" → "Component Chooser"
</p>
                    </li>
                    <li class="listitem">
                      <p>
Iceweasel browser: "Edit" → "Preferences" → "Applications"
</p>
                    </li>
                    <li class="listitem">
                      <p><span class="citerefentry"><span class="refentrytitle">mc</span>(1)</span>: "<code class="literal">/etc/mc/mc.ext</code>"
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Environment variables such as "<code class="literal">$BROWSER</code>", "<code class="literal">$EDITOR</code>", "<code class="literal">$VISUAL</code>", and "<code class="literal">$PAGER</code>" (see <span class="citerefentry"><span class="refentrytitle">eviron</span>(7)</span>)
</p>
              </li>
              <li class="listitem">
                <p>
The <span class="citerefentry"><span class="refentrytitle">update-alternatives</span>(1)</span> system for programs such as "<code class="literal">editor</code>", "<code class="literal">view</code>", "<code class="literal">x-www-browser</code>", "<code class="literal">gnome-www-browser</code>", and "<code class="literal">www-browser</code>" (see <a class="xref" href="ch01.en.html#_setting_a_default_text_editor" title="1.4.7. Setting a default text editor">Section 1.4.7, “Setting a default text editor”</a>)
</p>
              </li>
              <li class="listitem">
                <p>
the "<code class="literal">~/.mailcap</code>" and "<code class="literal">/etc/mailcap</code>" file contents which associate <a class="ulink" href="https://en.wikipedia.org/wiki/MIME">MIME</a> type with program (see <span class="citerefentry"><span class="refentrytitle">mailcap</span>(5)</span>)
</p>
              </li>
              <li class="listitem">
                <p>
The "<code class="literal">~/.mime.types</code>" and "<code class="literal">/etc/mime.types</code>" file contents which associate file name extension with <a class="ulink" href="https://en.wikipedia.org/wiki/MIME">MIME</a> type (see <span class="citerefentry"><span class="refentrytitle">run-mailcap</span>(1)</span>)
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">update-mime</span>(8)</span> updates the "<code class="literal">/etc/mailcap</code>" file using "<code class="literal">/etc/mailcap.order</code>" file (see <span class="citerefentry"><span class="refentrytitle">mailcap.order</span>(5)</span>).</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The <code class="literal">debianutils</code> package provides <span class="citerefentry"><span class="refentrytitle">sensible-browser</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">sensible-editor</span>(1)</span>, and <span class="citerefentry"><span class="refentrytitle">sensible-pager</span>(1)</span> which make sensible decisions on which editor, pager, and web browser to call, respectively.  I recommend you to read these shell scripts.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>In order to run a console application such as <code class="literal">mutt</code> under X as your preferred application, you should create an X application as following and set "<code class="literal">/usr/local/bin/mutt-term</code>" as your preferred application to be started as described.</p>
                </td>
              </tr>
            </table>
          </div>
          <pre class="screen"># cat /usr/local/bin/mutt-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mutt \$@"
EOF
chmod 755 /usr/local/bin/mutt-term</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_killing_a_process"/>9.3.12. Killing a process</h3>
              </div>
            </div>
          </div>
          <p>Use <span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span> to kill (or send a signal to) a process by the process ID.</p>
          <p>Use <span class="citerefentry"><span class="refentrytitle">killall</span>(1)</span> or <span class="citerefentry"><span class="refentrytitle">pkill</span>(1)</span> to do the same by the process command name and other attributes.</p>
          <div class="table">
            <a id="listoffrequentlylsforkillcommand"/>
            <p class="title">
              <strong>Table 9.10. List of frequently used signals for kill command</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of frequently used signals for kill command" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    signal value
    </th>
                    <th style="text-align: left">
    signal name
    </th>
                    <th style="text-align: left">
    function
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
    1
    </td>
                    <td style="text-align: left">
    HUP
    </td>
                    <td style="text-align: left">
    restart daemon
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    15
    </td>
                    <td style="text-align: left">
    TERM
    </td>
                    <td style="text-align: left">
    normal kill
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    9
    </td>
                    <td style="text-align: left">
    KILL
    </td>
                    <td style="text-align: left">
    kill hard
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_scheduling_tasks_once"/>9.3.13. Scheduling tasks once</h3>
              </div>
            </div>
          </div>
          <p>Run the <span class="citerefentry"><span class="refentrytitle">at</span>(1)</span> command to schedule a one-time job by the following.</p>
          <pre class="screen">$ echo 'command -args'| at 3:40 monday</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_scheduling_tasks_regularly"/>9.3.14. Scheduling tasks regularly</h3>
              </div>
            </div>
          </div>
          <p>Use <span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span> to schedule tasks regularly.  See <span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">crontab</span>(5)</span>.</p>
          <p>You can schedule to run processes as a normal user, e.g. <code class="literal">foo</code> by creating a <span class="citerefentry"><span class="refentrytitle">crontab</span>(5)</span> file as "<code class="literal">/var/spool/cron/crontabs/foo</code>" with "<code class="literal">crontab -e</code>" command.</p>
          <p>Here is an example of a <span class="citerefentry"><span class="refentrytitle">crontab</span>(5)</span> file.</p>
          <pre class="screen"># use /bin/sh to run commands, no matter what /etc/passwd says
SHELL=/bin/sh
# mail any output to paul, no matter whose crontab this is
MAILTO=paul
# Min Hour DayOfMonth Month DayOfWeek command (Day... are OR'ed)
# run at 00:05, every day
5  0  *  * *   $HOME/bin/daily.job &gt;&gt; $HOME/tmp/out 2&gt;&amp;1
# run at 14:15 on the first of every month -- output mailed to paul
15 14 1  * *   $HOME/bin/monthly
# run at 22:00 on weekdays(1-5), annoy Joe. % for newline, last % for cc:
0 22 *   * 1-5 mail -s "It's 10pm" joe%Joe,%%Where are your kids?%.%%
23 */2 1 2 *   echo "run 23 minutes after 0am, 2am, 4am ..., on Feb 1"
5  4 *   * sun echo "run at 04:05 every Sunday"
# run at 03:40 on the first Monday of each month
40 3 1-7 * *   [ "$(date +%a)" == "Mon" ] &amp;&amp; command -args</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For the system not running continuously, install the <code class="literal">anacron</code> package to schedule periodic commands at the specified intervals as closely as machine-uptime permits.  See <span class="citerefentry"><span class="refentrytitle">anacron</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">anacrontab</span>(5)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For scheduled system maintenance scripts, you can run them periodically from root account by placing such scripts in "<code class="literal">/etc/cron.hourly/</code>", "<code class="literal">/etc/cron.daily/</code>", "<code class="literal">/etc/cron.weekly/</code>", or "<code class="literal">/etc/cron.monthly/</code>".  Execution timings of these scripts can be customized by "<code class="literal">/etc/crontab</code>" and "<code class="literal">/etc/anacrontab</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_alt_sysrq_key"/>9.3.15. Alt-SysRq key</h3>
              </div>
            </div>
          </div>
          <p>Insurance against system malfunction is provided by the kernel compile option "Magic SysRq key" (<a class="ulink" href="https://en.wikipedia.org/wiki/Secure_attention_key">SAK</a> key) which is now the default for the Debian kernel.  Pressing Alt-SysRq followed by one of the following keys does the magic of rescuing control of the system.</p>
          <div class="table">
            <a id="listofsakcommandkeys"/>
            <p class="title">
              <strong>Table 9.11. List of SAK command keys</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of SAK command keys" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    key following Alt-SysRq
    </th>
                    <th style="text-align: left">
    description of action
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">r</code>
                </td>
                    <td style="text-align: left">
    restore the keyboard from <span class="strong"><strong>r</strong></span>aw mode after X crashes
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">0</code>
                </td>
                    <td style="text-align: left">
    change the console loglevel to <span class="strong"><strong>0</strong></span> to reduce error messages
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">k</code>
                </td>
                    <td style="text-align: left"><span class="strong"><strong>k</strong></span>ill all processes on the <span class="strong"><strong>current virtual console</strong></span></td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">e</code>
                </td>
                    <td style="text-align: left">
    send a SIGT<span class="strong"><strong>E</strong></span>RM to all processes, except for <span class="citerefentry"><span class="refentrytitle">init</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">i</code>
                </td>
                    <td style="text-align: left">
    send a SIGK<span class="strong"><strong>I</strong></span>LL to all processes, except for <span class="citerefentry"><span class="refentrytitle">init</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">s</code>
                </td>
                    <td style="text-align: left"><span class="strong"><strong>s</strong></span>ync all mounted filesystems to avoid data corruption
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">u</code>
                </td>
                    <td style="text-align: left">
    remount all mounted filesystems read-only (<span class="strong"><strong>u</strong></span>mount)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                  <code class="literal">b</code>
                </td>
                    <td style="text-align: left">
    re<span class="strong"><strong>b</strong></span>oot the system without syncing or unmounting
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Read the <span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span>, <span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span>, and <span class="citerefentry"><span class="refentrytitle">sync</span>(1)</span> manpages to understand the description above.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>The combination of "Alt-SysRq s", "Alt-SysRq u", and "Alt-SysRq r" is good for getting out of really bad situations and gaining usable keyboard access without stopping the system.</p>
          <p>See "<code class="literal">/usr/share/doc/linux-doc-3.*/Documentation/sysrq.txt.gz</code>".</p>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The Alt-SysRq feature may be considered a security risk by allowing users access to root-privileged functions.  Placing "<code class="literal">echo 0 &gt;/proc/sys/kernel/sysrq</code>" in "<code class="literal">/etc/rc.local</code>" or "<code class="literal">kernel.sysrq = 0</code>" in "<code class="literal">/etc/sysctl.conf</code>" disables the Alt-SysRq feature.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>From SSH terminal etc., you can use the Alt-SysRq feature by writing to the "<code class="literal">/proc/sysrq-trigger</code>". For example, "<code class="literal">echo s &gt; /proc/sysrq-trigger; echo u &gt; /proc/sysrq-trigger</code>" from the root shell prompt <span class="strong"><strong>s</strong></span>yncs and <span class="strong"><strong>u</strong></span>mounts all mounted filesystems.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_system_maintenance_tips"/>9.4. System maintenance tips</h2>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_who_is_on_the_system"/>9.4.1. Who is on the system?</h3>
              </div>
            </div>
          </div>
          <p>You can check who is on the system by the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">who</span>(1)</span>   shows who is logged on.
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">w</span>(1)</span>     shows who is logged on and what they are doing.
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">last</span>(1)</span>  shows listing of last logged in user.
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">lastb</span>(1)</span> shows listing of last bad logged in users.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>"<code class="literal">/var/run/utmp</code>", and "<code class="literal">/var/log/wtmp</code>" hold such user information.  See <span class="citerefentry"><span class="refentrytitle">login</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">utmp</span>(5)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_warning_everyone"/>9.4.2. Warning everyone</h3>
              </div>
            </div>
          </div>
          <p>You can send message to everyone who is logged on to the system with <span class="citerefentry"><span class="refentrytitle">wall</span>(1)</span> by the following.</p>
          <pre class="screen">$ echo "We are shutting down in 1 hour" | wall</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_hardware_identification"/>9.4.3. Hardware identification</h3>
              </div>
            </div>
          </div>
          <p>For the <a class="ulink" href="https://en.wikipedia.org/wiki/Peripheral_Component_Interconnect">PCI</a>-like devices (<a class="ulink" href="https://en.wikipedia.org/wiki/Accelerated_Graphics_Port">AGP</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/PCI_Express">PCI-Express</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/PC_Card#CardBus">CardBus</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/ExpressCard">ExpressCard</a>, etc.), <span class="citerefentry"><span class="refentrytitle">lspci</span>(8)</span> (probably with "<code class="literal">-nn</code>" option) is a good start for the hardware identification.</p>
          <p>Alternatively, you can identify the hardware by reading contents of "<code class="literal">/proc/bus/pci/devices</code>" or browsing directory tree under "<code class="literal">/sys/bus/pci</code>" (see <a class="xref" href="ch01.en.html#_procfs_and_sysfs" title="1.2.12. procfs and sysfs">Section 1.2.12, “procfs and sysfs”</a>).</p>
          <div class="table">
            <a id="listofhardwareidntificationtools"/>
            <p class="title">
              <strong>Table 9.12. List of hardware identification tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of hardware identification tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pciutils">
                  <code class="literal">pciutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pciutils">V:158, I:994</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pciutils.html">1220</a>
                    </td>
                    <td style="text-align: left">
    Linux PCI Utilities: <span class="citerefentry"><span class="refentrytitle">lspci</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/usbutils">
                  <code class="literal">usbutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=usbutils">V:94, I:866</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/u/usbutils.html">312</a>
                    </td>
                    <td style="text-align: left">
    Linux USB utilities: <span class="citerefentry"><span class="refentrytitle">lsusb</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pcmciautils">
                  <code class="literal">pcmciautils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pcmciautils">V:18, I:30</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pcmciautils.html">105</a>
                    </td>
                    <td style="text-align: left">
    PCMCIA utilities for Linux: <span class="citerefentry"><span class="refentrytitle">pccardctl</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/scsitools">
                  <code class="literal">scsitools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=scsitools">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/scsitools.html">365</a>
                    </td>
                    <td style="text-align: left">
    collection of tools for SCSI hardware management: <span class="citerefentry"><span class="refentrytitle">lsscsi</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/procinfo">
                  <code class="literal">procinfo</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=procinfo">V:0, I:15</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/procinfo.html">123</a>
                    </td>
                    <td style="text-align: left">
    system information obtained from "<code class="literal">/proc</code>": <span class="citerefentry"><span class="refentrytitle">lsdev</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/lshw">
                  <code class="literal">lshw</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=lshw">V:10, I:89</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/lshw.html">763</a>
                    </td>
                    <td style="text-align: left">
    information about hardware configuration: <span class="citerefentry"><span class="refentrytitle">lshw</span>(1)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/discover">
                  <code class="literal">discover</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=discover">V:39, I:945</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/discover.html">90</a>
                    </td>
                    <td style="text-align: left">
    hardware identification system: <span class="citerefentry"><span class="refentrytitle">discover</span>(8)</span>
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_hardware_configuration"/>9.4.4. Hardware configuration</h3>
              </div>
            </div>
          </div>
          <p>Although most of the hardware configuration on modern GUI desktop systems such as GNOME and KDE can be managed through accompanying GUI configuration tools, it is a good idea to know some basics methods to configure them.</p>
          <div class="table">
            <a id="listofhardwareconfigurationtools"/>
            <p class="title">
              <strong>Table 9.13. List of hardware configuration tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of hardware configuration tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/console-setup">
                  <code class="literal">console-setup</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=console-setup">V:280, I:951</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/console-setup.html">417</a>
                    </td>
                    <td style="text-align: left">
    Linux console font and keytable utilities
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/x11-xserver-utils">
                  <code class="literal">x11-xserver-utils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=x11-xserver-utils">V:354, I:575</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/x11-xserver-utils.html">511</a>
                    </td>
                    <td style="text-align: left">
    X server utilities: <span class="citerefentry"><span class="refentrytitle">xset</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">xmodmap</span>(1)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/acpid">
                  <code class="literal">acpid</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=acpid">V:262, I:484</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/acpid.html">146</a>
                    </td>
                    <td style="text-align: left">
    daemon to manage events delivered by the Advanced Configuration and Power Interface (ACPI)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/acpi">
                  <code class="literal">acpi</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=acpi">V:23, I:463</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/acpi.html">45</a>
                    </td>
                    <td style="text-align: left">
    utility to display information on ACPI devices
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/sleepd">
                  <code class="literal">sleepd</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=sleepd">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/sleepd.html">86</a>
                    </td>
                    <td style="text-align: left">
    daemon to put a laptop to sleep during inactivity
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/hdparm">
                  <code class="literal">hdparm</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=hdparm">V:435, I:653</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/h/hdparm.html">255</a>
                    </td>
                    <td style="text-align: left">
    hard disk access optimization (see <a class="xref" href="ch09.en.html#_optimization_of_hard_disk" title="9.5.9. Optimization of hard disk">Section 9.5.9, “Optimization of hard disk”</a>)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/smartmontools">
                  <code class="literal">smartmontools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=smartmontools">V:127, I:191</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/smartmontools.html">1846</a>
                    </td>
                    <td style="text-align: left">
    control and monitor storage systems using <a class="ulink" href="https://en.wikipedia.org/wiki/S.M.A.R.T.">S.M.A.R.T.</a>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/setserial">
                  <code class="literal">setserial</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=setserial">V:5, I:10</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/setserial.html">117</a>
                    </td>
                    <td style="text-align: left">
    collection of tools for serial port management
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/memtest86+">
                  <code class="literal">memtest86+</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=memtest86+">V:1, I:33</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/m/memtest86+.html">2391</a>
                    </td>
                    <td style="text-align: left">
    collection of tools for memory hardware management
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/scsitools">
                  <code class="literal">scsitools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=scsitools">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/scsitools.html">365</a>
                    </td>
                    <td style="text-align: left">
    collection of tools for <a class="ulink" href="https://en.wikipedia.org/wiki/SCSI">SCSI</a> hardware management
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/setcd">
                  <code class="literal">setcd</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=setcd">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/setcd.html">35</a>
                    </td>
                    <td style="text-align: left">
    compact disc drive access optimization
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/big-cursor">
                  <code class="literal">big-cursor</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=big-cursor">I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/big-cursor.html">27</a>
                    </td>
                    <td style="text-align: left">
    larger mouse cursors for X
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Here, <a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface">ACPI</a> is a newer framework for the power management system than <a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Power_Management">APM</a>.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>CPU frequency scaling on modern system is governed by kernel modules such as <code class="literal">acpi_cpufreq</code>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_system_and_hardware_time"/>9.4.5. System and hardware time</h3>
              </div>
            </div>
          </div>
          <p>The following sets system and hardware time to MM/DD hh:mm, CCYY.</p>
          <pre class="screen"># date MMDDhhmmCCYY
# hwclock --utc --systohc
# hwclock --show</pre>
          <p>Times are normally displayed in the local time on the Debian system but the hardware and system time usually use <a class="ulink" href="https://en.wikipedia.org/wiki/UTC">UTC(GMT)</a>.</p>
          <p>If the hardware (BIOS) time is set to UTC, change the setting to "<code class="literal">UTC=yes</code>" in the "<code class="literal">/etc/default/rcS</code>".</p>
          <p>The following reconfigure the timezone used by the Debian system.</p>
          <pre class="screen"># dpkg-reconfigure tzdata</pre>
          <p>If you wish to update system time via network, consider to use the <a class="ulink" href="https://en.wikipedia.org/wiki/Network_Time_Protocol">NTP</a> service with the packages such as <code class="literal">ntp</code>, <code class="literal">ntpdate</code>, and <code class="literal">chrony</code>.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Under <a class="ulink" href="https://en.wikipedia.org/wiki/Systemd">systemd</a>, use <code class="literal">systemd-timesyncd</code> for the network time synchronization instead.  See <span class="citerefentry"><span class="refentrytitle">systemd-timesyncd</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>See the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
              <a class="ulink" href="http://www.tldp.org/HOWTO/TimePrecision-HOWTO/index.html">Managing Accurate Date and Time HOWTO</a>
            </p>
              </li>
              <li class="listitem">
                <p>
              <a class="ulink" href="http://www.ntp.org/">NTP Public Services Project</a>
            </p>
              </li>
              <li class="listitem">
                <p>
The <code class="literal">ntp-doc</code> package
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><span class="citerefentry"><span class="refentrytitle">ntptrace</span>(8)</span> in the <code class="literal">ntp</code> package can trace a chain of NTP servers back to the primary source.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_terminal_configuration"/>9.4.6. The terminal configuration</h3>
              </div>
            </div>
          </div>
          <p>There are several components to configure character console and <span class="citerefentry"><span class="refentrytitle">ncurses</span>(3)</span> system features.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
The "<code class="literal">/etc/terminfo/*/*</code>" file (<span class="citerefentry"><span class="refentrytitle">terminfo</span>(5)</span>)
</p>
              </li>
              <li class="listitem">
                <p>
The "<code class="literal">$TERM</code>" environment variable (<span class="citerefentry"><span class="refentrytitle">term</span>(7)</span>)
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">setterm</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">tic</span>(1)</span>, and <span class="citerefentry"><span class="refentrytitle">toe</span>(1)</span>
</p>
              </li>
            </ul>
          </div>
          <p>If the <code class="literal">terminfo</code> entry for <code class="literal">xterm</code> doesn't work with a non-Debian <code class="literal">xterm</code>, change your terminal type, "<code class="literal">$TERM</code>", from "<code class="literal">xterm</code>" to one of the feature-limited versions such as "<code class="literal">xterm-r6</code>" when you log in to a Debian system remotely.  See "<code class="literal">/usr/share/doc/libncurses5/FAQ</code>" for more.  "<code class="literal">dumb</code>" is the lowest common denominator for "<code class="literal">$TERM</code>".</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_sound_infrastructure"/>9.4.7. The sound infrastructure</h3>
              </div>
            </div>
          </div>
          <p>Device drivers for sound cards for current Linux are provided by <a class="ulink" href="https://en.wikipedia.org/wiki/Advanced_Linux_Sound_Architecture">Advanced Linux Sound Architecture (ALSA)</a>.  ALSA provides emulation mode for previous <a class="ulink" href="https://en.wikipedia.org/wiki/Open_Sound_System">Open Sound System (OSS)</a> for compatibility.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Use "<code class="literal">cat /dev/urandom &gt; /dev/audio</code>" or <span class="citerefentry"><span class="refentrytitle">speaker-test</span>(1)</span> to test speaker (^C to stop).</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If you can not get sound, your speaker may be connected to a muted output.  Modern sound system has many outputs.  <span class="citerefentry"><span class="refentrytitle">alsamixer</span>(1)</span> in the <code class="literal">alsa-utils</code> package is useful to configure volume and mute settings.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Application softwares may be configured not only to access sound devices directly but also to access them via some standardized sound server system.</p>
          <div class="table">
            <a id="listofsoundpackages"/>
            <p class="title">
              <strong>Table 9.14. List of sound packages</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of sound packages" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/alsa-utils">
                  <code class="literal">alsa-utils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=alsa-utils">V:393, I:519</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/alsa-utils.html">2253</a>
                    </td>
                    <td style="text-align: left">
    utilities for configuring and using ALSA
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/oss-compat">
                  <code class="literal">oss-compat</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=oss-compat">V:2, I:35</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/o/oss-compat.html">20</a>
                    </td>
                    <td style="text-align: left">
    OSS compatibility under ALSA preventing "<code class="literal">/dev/dsp not found</code>" errors
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/jackd">
                  <code class="literal">jackd</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=jackd">V:3, I:27</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/j/jackd.html">9</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/JACK_Audio_Connection_Kit">JACK Audio Connection Kit. (JACK)</a> server (low latency)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libjack0">
                  <code class="literal">libjack0</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libjack0">V:0, I:14</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libj/libjack0.html">337</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/JACK_Audio_Connection_Kit">JACK Audio Connection Kit. (JACK)</a> library (low latency)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/nas">
                  <code class="literal">nas</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=nas">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/n/nas.html">239</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Network_Audio_System">Network Audio System (NAS)</a> server
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libaudio2">
                  <code class="literal">libaudio2</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libaudio2">I:541</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/liba/libaudio2.html">161</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Network_Audio_System">Network Audio System (NAS)</a>  library
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pulseaudio">
                  <code class="literal">pulseaudio</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pulseaudio">V:387, I:504</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pulseaudio.html">6411</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/PulseAudio">PulseAudio</a> server, replacement for ESD
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libpulse0">
                  <code class="literal">libpulse0</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libpulse0">V:278, I:646</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libp/libpulse0.html">968</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/PulseAudio">PulseAudio</a> client library, replacement for ESD
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libgstreamer1.0-0">
                  <code class="literal">libgstreamer1.0-0</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libgstreamer1.0-0">V:256, I:549</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libg/libgstreamer1.0-0.html">5063</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/GStreamer">GStreamer</a>: GNOME sound engine
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libphonon4">
                  <code class="literal">libphonon4</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libphonon4">I:192</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libp/libphonon4.html">680</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Phonon_(KDE)">Phonon</a>: KDE sound engine
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>There is usually a common sound engine for each popular desktop environment. Each sound engine used by the application can choose to connect to different sound servers.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_disabling_the_screen_saver"/>9.4.8. Disabling the screen saver</h3>
              </div>
            </div>
          </div>
          <p>For disabling the screen saver, use following commands.</p>
          <div class="table">
            <a id="listofcommandsfongthescreensaver"/>
            <p class="title">
              <strong>Table 9.15. List of commands for disabling the screen saver</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of commands for disabling the screen saver" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    environment
    </th>
                    <th style="text-align: left">
    command
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
    The Linux console
    </td>
                    <td style="text-align: left">
                  <code class="literal">setterm -powersave off</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    The X Window (turning off screensaver)
    </td>
                    <td style="text-align: left">
                  <code class="literal">xset s off</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    The X Window (disabling dpms)
    </td>
                    <td style="text-align: left">
                  <code class="literal">xset -dpms</code>
                </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    The X Window (GUI configuration of screen saver)
    </td>
                    <td style="text-align: left">
                  <code class="literal">xscreensaver-command -prefs</code>
                </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_disabling_beep_sounds"/>9.4.9. Disabling beep sounds</h3>
              </div>
            </div>
          </div>
          <p>One can always unplug the PC speaker to disable beep sounds.  Removing <code class="literal">pcspkr</code> kernel module does this for you.</p>
          <p>The following prevents the <span class="citerefentry"><span class="refentrytitle">readline</span>(3)</span> program used by <span class="citerefentry"><span class="refentrytitle">bash</span>(1)</span> to beep when encountering an alert character (ASCII=7).</p>
          <pre class="screen">$ echo "set bell-style none"&gt;&gt; ~/.inputrc</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_memory_usage"/>9.4.10. Memory usage</h3>
              </div>
            </div>
          </div>
          <p>There are 2 resources available for you to get the memory usage situation.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
The kernel boot message in the "<code class="literal">/var/log/dmesg</code>" contains the total exact size of available memory.
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">free</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">top</span>(1)</span> display information on memory resources on the running system.
</p>
              </li>
            </ul>
          </div>
          <p>Here is an example.</p>
          <pre class="screen"># grep '\] Memory' /var/log/dmesg
[    0.004000] Memory: 990528k/1016784k available (1975k kernel code, 25868k reserved, 931k data, 296k init)
$ free -k
             total       used       free     shared    buffers     cached
Mem:        997184     976928      20256          0     129592     171932
-/+ buffers/cache:     675404     321780
Swap:      4545576          4    4545572</pre>
          <p>You may be wondering "dmesg tells me a free of 990 MB, and free -k says 320 MB is free. More than 600 MB missing …".</p>
          <p>Do not worry about the large size of "<code class="literal">used</code>" and the small size of "<code class="literal">free</code>" in the "<code class="literal">Mem:</code>" line, but read the one under them (675404 and 321780 in the example above) and relax.</p>
          <p>For my MacBook with 1GB=1048576k DRAM (video system steals some of this), I see the following.</p>
          <div class="table">
            <a id="listofmemorysizesreported"/>
            <p class="title">
              <strong>Table 9.16. List of memory sizes reported</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of memory sizes reported" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    report
    </th>
                    <th style="text-align: left">
    size
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
    Total size in dmesg
    </td>
                    <td style="text-align: left">
    1016784k = 1GB - 31792k
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    Free in dmesg
    </td>
                    <td style="text-align: left">
    990528k
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    Total under shell
    </td>
                    <td style="text-align: left">
    997184k
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
    Free under shell
    </td>
                    <td style="text-align: left">
    20256k (but effectively 321780k)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_system_security_and_integrity_check"/>9.4.11. System security and integrity check</h3>
              </div>
            </div>
          </div>
          <p>Poor system maintenance may expose your system to external exploitation.</p>
          <p>For system security and integrity check, you should start with the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
The <code class="literal">debsums</code> package, see <span class="citerefentry"><span class="refentrytitle">debsums</span>(1)</span> and <a class="xref" href="ch02.en.html#_top_level_release_file_and_authenticity" title="2.5.2. Top level &quot;Release&quot; file and authenticity">Section 2.5.2, “Top level "Release" file and authenticity”</a>.
</p>
              </li>
              <li class="listitem">
                <p>
The <code class="literal">chkrootkit</code> package, see <span class="citerefentry"><span class="refentrytitle">chkrootkit</span>(1)</span>.
</p>
              </li>
              <li class="listitem">
                <p>
The <code class="literal">clamav</code> package family, see <span class="citerefentry"><span class="refentrytitle">clamscan</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">freshclam</span>(1)</span>.
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://www.debian.org/security/faq">Debian security FAQ</a>.
</p>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://www.debian.org/doc/manuals/securing-debian-howto/">Securing Debian Manual</a>.
</p>
              </li>
            </ul>
          </div>
          <div class="table">
            <a id="listoftoolsforsyndintegritycheck"/>
            <p class="title">
              <strong>Table 9.17. List of tools for system security and integrity check</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of tools for system security and integrity check" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/logcheck">
                  <code class="literal">logcheck</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=logcheck">V:10, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/logcheck.html">102</a>
                    </td>
                    <td style="text-align: left">
    daemon to mail anomalies in the system logfiles to the administrator
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/debsums">
                  <code class="literal">debsums</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=debsums">V:6, I:40</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/debsums.html">120</a>
                    </td>
                    <td style="text-align: left">
    utility to verify installed package files against MD5 checksums
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/chkrootkit">
                  <code class="literal">chkrootkit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=chkrootkit">V:6, I:26</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/chkrootkit.html">934</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Rootkit">rootkit</a> detector
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/clamav">
                  <code class="literal">clamav</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=clamav">V:14, I:65</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/clamav.html">727</a>
                    </td>
                    <td style="text-align: left">
    anti-virus utility for Unix - command-line interface
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/tiger">
                  <code class="literal">tiger</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tiger">V:3, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/t/tiger.html">2485</a>
                    </td>
                    <td style="text-align: left">
    report system security vulnerabilities
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/tripwire">
                  <code class="literal">tripwire</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=tripwire">V:2, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/t/tripwire.html">12055</a>
                    </td>
                    <td style="text-align: left">
    file and directory integrity checker
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/john">
                  <code class="literal">john</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=john">V:2, I:13</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/j/john.html">449</a>
                    </td>
                    <td style="text-align: left">
    active password cracking tool
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/aide">
                  <code class="literal">aide</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=aide">V:2, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/aide.html">2063</a>
                    </td>
                    <td style="text-align: left">
    Advanced Intrusion Detection Environment - static binary
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/integrit">
                  <code class="literal">integrit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=integrit">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/i/integrit.html">329</a>
                    </td>
                    <td style="text-align: left">
    file integrity verification program
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/crack">
                  <code class="literal">crack</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=crack">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/crack.html">128</a>
                    </td>
                    <td style="text-align: left">
    password guessing program
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Here is a simple script to check for typical world writable incorrect file permissions.</p>
          <pre class="screen"># find / -perm 777 -a \! -type s -a \! -type l -a \! \( -type d -a -perm 1777 \)</pre>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Since the <code class="literal">debsums</code> package uses <a class="ulink" href="https://en.wikipedia.org/wiki/MD5">MD5</a> checksums stored locally, it can not be fully trusted as the system security audit tool against malicious attacks.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_data_storage_tips"/>9.5. Data storage tips</h2>
            </div>
          </div>
        </div>
        <p>Booting your system with Linux <a class="ulink" href="https://en.wikipedia.org/wiki/Live_CD">live CDs</a> or <a class="ulink" href="https://www.debian.org/releases/stable/debian-installer/">debian-installer CDs</a> in rescue mode makes it easy for you to reconfigure data storage on your boot device.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_disk_space_usage"/>9.5.1. Disk space usage</h3>
              </div>
            </div>
          </div>
          <p>The disk space usage can be evaluated by programs provided by the <code class="literal">mount</code>, <code class="literal">coreutils</code>, and <code class="literal">xdu</code> packages:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span> reports all mounted filesystems (= disks).
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">df</span>(1)</span> reports the disk space usage for the file system.
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">du</span>(1)</span> reports the disk space usage for the directory tree.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can feed the output of <span class="citerefentry"><span class="refentrytitle">du</span>(8)</span> to <span class="citerefentry"><span class="refentrytitle">xdu</span>(1x)</span> to produce its graphical and interactive presentation with "<code class="literal">du -k . |xdu</code>", "<code class="literal">sudo du -k -x / |xdu</code>", etc.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_disk_partition_configuration"/>9.5.2. Disk partition configuration</h3>
              </div>
            </div>
          </div>
          <p>For <a class="ulink" href="https://en.wikipedia.org/wiki/Disk_partitioning">disk partition</a> configuration, although <span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span> has been considered standard, <span class="citerefentry"><span class="refentrytitle">parted</span>(8)</span> deserves some attention.  "Disk partitioning data", "partition table", "partition map", and "disk label" are all synonyms.</p>
          <p>Most PCs use the classic <a class="ulink" href="https://en.wikipedia.org/wiki/Master_boot_record">Master Boot Record (MBR)</a> scheme to hold <a class="ulink" href="https://en.wikipedia.org/wiki/Disk_partitioning">disk partitioning</a> data in the first sector, i.e., <a class="ulink" href="https://en.wikipedia.org/wiki/Logical_block_addressing">LBA</a> sector 0 (512 bytes).</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Some new PCs with <a class="ulink" href="https://en.wikipedia.org/wiki/Extensible_Firmware_Interface">Extensible Firmware Interface (EFI)</a>, including Intel-based Macs, use <a class="ulink" href="https://en.wikipedia.org/wiki/GUID_Partition_Table">GUID Partition Table (GPT)</a> scheme to hold <a class="ulink" href="https://en.wikipedia.org/wiki/Disk_partitioning">disk partitioning</a> data not in the first sector.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Although <span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span> has been standard for the disk partitioning tool, <span class="citerefentry"><span class="refentrytitle">parted</span>(8)</span> is replacing it.</p>
          <div class="table">
            <a id="listofdiskpartitnagementpackages"/>
            <p class="title">
              <strong>Table 9.18. List of disk partition management packages</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of disk partition management packages" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    GPT
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/util-linux">
                  <code class="literal">util-linux</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=util-linux">V:891, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/u/util-linux.html">4327</a>
                    </td>
                    <td style="text-align: left">
    Not supported
    </td>
                    <td style="text-align: left">
    miscellaneous system utilities including <span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">cfdisk</span>(8)</span>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/parted">
                  <code class="literal">parted</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=parted">V:391, I:579</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/parted.html">286</a>
                    </td>
                    <td style="text-align: left">
    Supported
    </td>
                    <td style="text-align: left">
    GNU Parted disk partition resizing program
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gparted">
                  <code class="literal">gparted</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gparted">V:22, I:144</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gparted.html">7537</a>
                    </td>
                    <td style="text-align: left">
    Supported
    </td>
                    <td style="text-align: left">
    GNOME partition editor based on <code class="literal">libparted</code>
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gdisk">
                  <code class="literal">gdisk</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gdisk">V:71, I:515</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gdisk.html">811</a>
                    </td>
                    <td style="text-align: left">
    Supported
    </td>
                    <td style="text-align: left">
    partition editor for the GPT disk
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/kpartx">
                  <code class="literal">kpartx</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=kpartx">V:15, I:26</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/k/kpartx.html">89</a>
                    </td>
                    <td style="text-align: left">
    Supported
    </td>
                    <td style="text-align: left">
    program to create device mappings for partitions
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Although <span class="citerefentry"><span class="refentrytitle">parted</span>(8)</span> claims to create and to resize filesystem too, it is safer to do such things using best maintained specialized tools such as <span class="citerefentry"><span class="refentrytitle">mkfs</span>(8)</span> (<span class="citerefentry"><span class="refentrytitle">mkfs.msdos</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">mkfs.ext2</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">mkfs.ext3</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">mkfs.ext4</span>(8)</span>, …) and <span class="citerefentry"><span class="refentrytitle">resize2fs</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>In order to switch between <a class="ulink" href="https://en.wikipedia.org/wiki/GUID_Partition_Table">GPT</a> and <a class="ulink" href="https://en.wikipedia.org/wiki/Master_boot_record">MBR</a>, you need to erase first few blocks of disk contents directly (see <a class="xref" href="ch09.en.html#_clearing_file_contents" title="9.7.6. Clearing file contents">Section 9.7.6, “Clearing file contents”</a>) and use "<code class="literal">parted /dev/sdx mklabel gpt</code>" or "<code class="literal">parted /dev/sdx mklabel msdos</code>" to set it.  Please note "<code class="literal">msdos</code>" is use here for <a class="ulink" href="https://en.wikipedia.org/wiki/Master_boot_record">MBR</a>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_accessing_partition_using_uuid"/>9.5.3. Accessing partition using UUID</h3>
              </div>
            </div>
          </div>
          <p>Although reconfiguration of your partition or activation order of removable storage media may yield different names for partitions, you can access them consistently. This is also helpful if you have multiple disks and your BIOS doesn't give them consistent device names.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span> with "<code class="literal">-U</code>" option can mount a block device using <a class="ulink" href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUID</a>, instead of using its file name such as "<code class="literal">/dev/sda3</code>".
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">/etc/fstab</code>" (see <span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span>) can use <a class="ulink" href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUID</a>.
</p>
              </li>
              <li class="listitem">
                <p>
Boot loaders (<a class="xref" href="ch03.en.html#_stage_2_the_boot_loader" title="3.1.2. Stage 2: the boot loader">Section 3.1.2, “Stage 2: the boot loader”</a>) may use <a class="ulink" href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUID</a> too.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can probe <a class="ulink" href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUID</a> of a block special device with <span class="citerefentry"><span class="refentrytitle">blkid</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Device nodes of devices such as removable storage media can be made static by using <a class="ulink" href="http://www.reactivated.net/writing_udev_rules.html">udev rules</a>, if needed.  See <a class="xref" href="ch03.en.html#_the_udev_system" title="3.3. The udev system">Section 3.3, “The udev system”</a>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_lvm2"/>9.5.4. LVM2</h3>
              </div>
            </div>
          </div>
          <p>LVM2 is a <a class="ulink" href="https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)">logical volume manager</a> for the Linux kernel.  With LVM2, disk partitions can be created on logical volumes instead of the physical harddisks.</p>
          <p>LVM requires the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
device-mapper support in the Linux kernel (default for Debian kernels)
</p>
              </li>
              <li class="listitem">
                <p>
the userspace device-mapper support library (<code class="literal">libdevmapper*</code> package)
</p>
              </li>
              <li class="listitem">
                <p>
the userspace LVM2 tools (<code class="literal">lvm2</code> package)
</p>
              </li>
            </ul>
          </div>
          <p>Please start learning LVM2 from the following manpages.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">lvm</span>(8)</span>: Basics of LVM2 mechanism (list of all LVM2 commands)
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">lvm.conf</span>(5)</span>: Configuration file for LVM2
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">lvs</span>(8)</span>: Report information about logical volumes
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">vgs</span>(8)</span>: Report information about volume groups
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">pvs</span>(8)</span>: Report information about physical volumes
</p>
              </li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_filesystem_configuration"/>9.5.5. Filesystem configuration</h3>
              </div>
            </div>
          </div>
          <p>For <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem, the <code class="literal">e2fsprogs</code> package provides the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">mkfs.ext4</span>(8)</span> to create new <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">fsck.ext4</span>(8)</span> to check and to repair existing <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">tune2fs</span>(8)</span> to configure superblock of <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem
</p>
              </li>
              <li class="listitem">
                <p><span class="citerefentry"><span class="refentrytitle">debugfs</span>(8)</span> to debug <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem interactively. (It has <code class="literal">undel</code> command to recover deleted files.)
</p>
              </li>
            </ul>
          </div>
          <p>The <span class="citerefentry"><span class="refentrytitle">mkfs</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span> commands are provided by the <code class="literal">e2fsprogs</code> package as front-ends to various filesystem dependent programs (<code class="literal">mkfs.fstype</code> and <code class="literal">fsck.fstype</code>). For <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystem, they are <span class="citerefentry"><span class="refentrytitle">mkfs.ext4</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">fsck.ext4</span>(8)</span> (they are symlinked to <span class="citerefentry"><span class="refentrytitle">mke2fs</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">e2fsck</span>(8)</span>).</p>
          <p>Similar commands are available for each filesystem supported by Linux.</p>
          <div class="table">
            <a id="listoffilesystemnagementpackages"/>
            <p class="title">
              <strong>Table 9.19. List of filesystem management packages</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of filesystem management packages" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/e2fsprogs">
                  <code class="literal">e2fsprogs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=e2fsprogs">V:598, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/e/e2fsprogs.html">1419</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/Ext2">ext2</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystems
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/reiserfsprogs">
                  <code class="literal">reiserfsprogs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=reiserfsprogs">V:13, I:26</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/reiserfsprogs.html">923</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/Reiserfs">Reiserfs</a> filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dosfstools">
                  <code class="literal">dosfstools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dosfstools">V:114, I:556</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dosfstools.html">235</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/File_Allocation_Table">FAT</a> filesystem. (Microsoft: MS-DOS, Windows)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/xfsprogs">
                  <code class="literal">xfsprogs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xfsprogs">V:18, I:92</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/xfsprogs.html">3349</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/XFS">XFS</a> filesystem. (SGI: IRIX)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/ntfs-3g">
                  <code class="literal">ntfs-3g</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ntfs-3g">V:273, I:548</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/n/ntfs-3g.html">1471</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/NTFS">NTFS</a> filesystem. (Microsoft: Windows NT, …)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/jfsutils">
                  <code class="literal">jfsutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=jfsutils">V:1, I:13</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/j/jfsutils.html">1561</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/JFS_(file_system)">JFS</a> filesystem. (IBM: AIX, OS/2)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/reiser4progs">
                  <code class="literal">reiser4progs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=reiser4progs">V:0, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/r/reiser4progs.html">1325</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/Reiser4">Reiser4</a> filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/hfsprogs">
                  <code class="literal">hfsprogs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=hfsprogs">V:0, I:8</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/h/hfsprogs.html">303</a>
                    </td>
                    <td style="text-align: left">
    utilities for <a class="ulink" href="https://en.wikipedia.org/wiki/Hierarchical_File_System">HFS</a> and <a class="ulink" href="https://en.wikipedia.org/wiki/HFS_Plus">HFS Plus</a> filesystem. (Apple: Mac OS)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/btrfs-progs">
                  <code class="literal">btrfs-progs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=btrfs-progs">V:32, I:48</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/btrfs-progs.html">3314</a>
                    </td>
                    <td style="text-align: left">
    utilities for the <a class="ulink" href="https://en.wikipedia.org/wiki/Btrfs">Btrfs</a> filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/zerofree">
                  <code class="literal">zerofree</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=zerofree">V:2, I:74</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/z/zerofree.html">25</a>
                    </td>
                    <td style="text-align: left">
    program to zero free blocks from ext2/3/4 filesystems
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">Ext4</a> filesystem is the default filesystem for the Linux system and strongly recommended to use it unless you have some specific reasons not to.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="https://en.wikipedia.org/wiki/Btrfs">Btrfs</a> filesystem is available in Linux kernel 3.2 (Debian <code class="literal">wheezy</code>).  It is expected to be the next default filesystem after the ext4 filesystem.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You should not use the Btrfs filesystem for your critical data yet before it acquires the live kernel space <span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span> feature and the boot loader support.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Some tools allow access to filesystem without Linux kernel support (see <a class="xref" href="ch09.en.html#_manipulating_files_without_mounting_disk" title="9.7.2. Manipulating files without mounting disk">Section 9.7.2, “Manipulating files without mounting disk”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_filesystem_creation_and_integrity_check"/>9.5.6. Filesystem creation and integrity check</h3>
              </div>
            </div>
          </div>
          <p>The <span class="citerefentry"><span class="refentrytitle">mkfs</span>(8)</span> command creates the filesystem on a Linux system. The <span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span> command provides the filesystem integrity check and repair on a Linux system.</p>
          <p>Debian now defaults to no periodic <code class="literal">fsck</code> after filesystem creation.</p>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>It is generally not safe to run <code class="literal">fsck</code> on <span class="strong"><strong>mounted filesystems</strong></span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can run the <span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span> command safely on all filesystems including root filesystem on reboot by setting "<code class="literal">enable_periodic_fsck</code>" in "<code class="literal">/etc/mke2fs.conf</code>"  and the max mount count to 0 using "<code class="literal">tune2fs -c0 /dev/&lt;partition_name&gt;</code>".  See <span class="citerefentry"><span class="refentrytitle">mke2fs.conf</span>(5)</span> and <span class="citerefentry"><span class="refentrytitle">tune2fs</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Check files in "<code class="literal">/var/log/fsck/</code>" for the result of the <span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span> command run from the boot script.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_optimization_of_filesystem_by_mount_options"/>9.5.7. Optimization of filesystem by mount options</h3>
              </div>
            </div>
          </div>
          <p>The basic static filesystem configuration is given by "<code class="literal">/etc/fstab</code>".  For example,</p>
          <pre class="screen"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    defaults        0       0
UUID=709cbe4c-80c1-56db-8ab1-dbce3146d2f7 / ext4 noatime,errors=remount-ro 0 1
UUID=817bae6b-45d2-5aca-4d2a-1267ab46ac23 none swap sw  0       0
/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto 0       0</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p><a class="ulink" href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUID</a> (see <a class="xref" href="ch09.en.html#_accessing_partition_using_uuid" title="9.5.3. Accessing partition using UUID">Section 9.5.3, “Accessing partition using UUID”</a>) may be used to identify a block device instead of normal block device names such as "<code class="literal">/dev/sda1</code>", "<code class="literal">/dev/sda2</code>", …</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Performance and characteristics of a filesystem can be optimized by mount options used on it (see <span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span> and <span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span>).  Notable ones are the following.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">defaults</code>" option implies default options: "<code class="literal">rw,suid,dev,exec,auto,nouser,async</code>". (general)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">noatime</code>" or "<code class="literal">relatime</code>" option is very effective for speeding up the read access. (general)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">user</code>" option allows an ordinary user to mount the filesystem. This option implies "<code class="literal">noexec,nosuid,nodev</code>" option combination. (general, used for CDs or usb storage devices)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">noexec,nodev,nosuid</code>" option combination is used to enhance security. (general)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">noauto</code>" option limits mounting by explicit operation only. (general)
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">data=journal</code>" option for ext3fs can enhance data integrity against power failure with some loss of write speed.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You need to provide kernel boot parameter (see <a class="xref" href="ch03.en.html#_stage_2_the_boot_loader" title="3.1.2. Stage 2: the boot loader">Section 3.1.2, “Stage 2: the boot loader”</a>), e.g. "<code class="literal">rootflags=data=journal</code>" to deploy a non-default journaling mode for the root filesystem.  For <code class="literal">lenny</code>, the default jounaling mode is "<code class="literal">rootflags=data=ordered</code>".  For <code class="literal">squeeze</code>, it is "<code class="literal">rootflags=data=writeback</code>".</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_optimization_of_filesystem_via_superblock"/>9.5.8. Optimization of filesystem via superblock</h3>
              </div>
            </div>
          </div>
          <p>Characteristics of a filesystem can be optimized via its superblock using the <span class="citerefentry"><span class="refentrytitle">tune2fs</span>(8)</span> command.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Execution of "<code class="literal">sudo tune2fs -l /dev/hda1</code>" displays the contents of the filesystem superblock on "<code class="literal">/dev/hda1</code>".
</p>
              </li>
              <li class="listitem">
                <p>
Execution of "<code class="literal">sudo tune2fs -c 50 /dev/hda1</code>" changes frequency of filesystem checks (<code class="literal">fsck</code> execution during boot-up) to every 50 boots on "<code class="literal">/dev/hda1</code>".
</p>
              </li>
              <li class="listitem">
                <p>
Execution of "<code class="literal">sudo tune2fs -j /dev/hda1</code>" adds journaling capability to the filesystem, i.e. filesystem conversion from <a class="ulink" href="https://en.wikipedia.org/wiki/Ext2">ext2</a> to <a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3</a> on "<code class="literal">/dev/hda1</code>".  (Do this on the unmounted filesystem.)
</p>
              </li>
              <li class="listitem">
                <p>
Execution of "<code class="literal">sudo tune2fs -O extents,uninit_bg,dir_index /dev/hda1 &amp;&amp; fsck -pf /dev/hda1</code>" converts it from <a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3</a> to <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> on "<code class="literal">/dev/hda1</code>".  (Do this on the unmounted filesystem.)
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Despite its name, <span class="citerefentry"><span class="refentrytitle">tune2fs</span>(8)</span> works not only on the <a class="ulink" href="https://en.wikipedia.org/wiki/Ext2">ext2</a> filesystem but also on the <a class="ulink" href="https://en.wikipedia.org/wiki/Ext3">ext3</a> and <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> filesystems.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_optimization_of_hard_disk"/>9.5.9. Optimization of hard disk</h3>
              </div>
            </div>
          </div>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Please check your hardware and read manpage of <span class="citerefentry"><span class="refentrytitle">hdparam</span>(8)</span> before playing with hard disk configuration because this may be quite dangerous for the data integrity.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>You can test disk access speed of a hard disk, e.g. "<code class="literal">/dev/hda</code>", by "<code class="literal">hdparm -tT /dev/hda</code>". For some hard disk connected with (E)IDE, you can speed it up with "<code class="literal">hdparm -q -c3 -d1 -u1 -m16 /dev/hda</code>" by enabling the "(E)IDE 32-bit I/O support", enabling the "using_dma flag", setting "interrupt-unmask flag", and setting the "multiple 16 sector I/O" (dangerous!).</p>
          <p>You can test write cache feature of a hard disk, e.g. "<code class="literal">/dev/sda</code>", by "<code class="literal">hdparm -W /dev/sda</code>". You can disable its write cache feature with "<code class="literal">hdparm -W 0 /dev/sda</code>".</p>
          <p>You may be able to read badly pressed CDROMs on modern high speed CD-ROM drive by slowing it down with "<code class="literal">setcd -x 2</code>".</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_optimization_of_solid_state_drive"/>9.5.10. Optimization of solid state drive</h3>
              </div>
            </div>
          </div>
          <p>Performance and disk wear of the <a class="ulink" href="https://en.wikipedia.org/wiki/Solid-state_drive">solid state drive (SSD)</a> can be optimized as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Use the latest Linux kernel. (&gt;= 3.2)
</p>
              </li>
              <li class="listitem">
                <p>
Reduce disk writes for read disk accesses.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Set "<code class="literal">noatime</code>" or "<code class="literal">relatime</code>" mount option in <code class="literal">/etc/fstab</code>.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Enable the <a class="ulink" href="https://en.wikipedia.org/wiki/TRIM">TRIM</a> command.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Set "<code class="literal">discard</code>" mount option in <code class="literal">/etc/fstab</code> for the ext4 filesystem, swap partition, Btrfs, etc. See <span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span>.
</p>
                    </li>
                    <li class="listitem">
                      <p>
Set "<code class="literal">discard</code>" option in <code class="literal">/etc/lvm/lvm.conf</code> for <a class="ulink" href="https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)">LVM</a>. See <span class="citerefentry"><span class="refentrytitle">lvm.conf</span>(5)</span>.
</p>
                    </li>
                    <li class="listitem">
                      <p>
Set "<code class="literal">discard</code>" option in <code class="literal">/etc/crypttab</code> for <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a>. See <span class="citerefentry"><span class="refentrytitle">crypttab</span>(5)</span>.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Enable the SSD optimized disk space allocation scheme.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Set "<code class="literal">ssd</code>" mount option in <code class="literal">/etc/fstab</code> for the Btrfs.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Make system flush data to the disk every 10 minutes for laptop PCs.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Set "<code class="literal">commit=600</code>" mount option in <code class="literal">/etc/fstab</code>. See <span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span>.
</p>
                    </li>
                    <li class="listitem">
                      <p>
Set pm-utils to use laptop-mode even under AC operation. See <a class="ulink" href="http://bugs.debian.org/659260">Debian BTS #659260</a>.
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Changing flushing interval from normal 5 seconds to 10 minutes makes your data vulnerable to the power failure.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_using_smart_to_predict_hard_disk_failure"/>9.5.11. Using SMART to predict hard disk failure</h3>
              </div>
            </div>
          </div>
          <p>You can monitor and log your hard disk which is compliant to <a class="ulink" href="https://en.wikipedia.org/wiki/S.M.A.R.T.">SMART</a> with the <span class="citerefentry"><span class="refentrytitle">smartd</span>(8)</span> daemon.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
                <p>
Enable <a class="ulink" href="https://en.wikipedia.org/wiki/S.M.A.R.T.">SMART</a> feature in <a class="ulink" href="https://en.wikipedia.org/wiki/BIOS">BIOS</a>.
</p>
              </li>
              <li class="listitem">
                <p>
Install the <code class="literal">smartmontools</code> package.
</p>
              </li>
              <li class="listitem">
                <p>
Identify your hard disk drives by listing them with <span class="citerefentry"><span class="refentrytitle">df</span>(1)</span>.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Let's assume a hard disk drive to be monitored as "<code class="literal">/dev/hda</code>".
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Check the output of "<code class="literal">smartctl -a /dev/hda</code>" to see if <a class="ulink" href="https://en.wikipedia.org/wiki/S.M.A.R.T.">SMART</a> feature is actually enabled.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
If not, enable it by "<code class="literal">smartctl -s on -a /dev/hda</code>".
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Enable <span class="citerefentry"><span class="refentrytitle">smartd</span>(8)</span> daemon to run by the following.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
uncomment "<code class="literal">start_smartd=yes</code>" in the "<code class="literal">/etc/default/smartmontools</code>" file.
</p>
                    </li>
                    <li class="listitem">
                      <p>
restart the <span class="citerefentry"><span class="refentrytitle">smartd</span>(8)</span> daemon by "<code class="literal">sudo /etc/init.d/smartmontools restart</code>".
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ol>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The <span class="citerefentry"><span class="refentrytitle">smartd</span>(8)</span> daemon can be customized with the <code class="literal">/etc/smartd.conf</code> file including how to be notified of warnings.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_specify_temporary_storage_directory_via_tmpdir"/>9.5.12. Specify temporary storage directory via $TMPDIR</h3>
              </div>
            </div>
          </div>
          <p>Applications create temporary files normally under the temporary storage directory "<code class="literal">/tmp</code>".  If "<code class="literal">/tmp</code>" does not provide enough space, you can specify such temporary storage directory via the <code class="literal">$TMPDIR</code> variable for well-behaving programs.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_expansion_of_usable_storage_space_via_lvm"/>9.5.13. Expansion of usable storage space via LVM</h3>
              </div>
            </div>
          </div>
          <p>For partitions created on <a class="ulink" href="https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)">Logical Volume Manager (LVM)</a> (Linux feature) at install time, they can be resized easily by concatenating extents onto them or truncating extents from them over multiple storage devices without major system reconfiguration.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_expansion_of_usable_storage_space_by_mounting_another_partition"/>9.5.14. Expansion of usable storage space by mounting another partition</h3>
              </div>
            </div>
          </div>
          <p>If you have an empty partition (e.g., "<code class="literal">/dev/sdx</code>"), you can format it with <span class="citerefentry"><span class="refentrytitle">mkfs.ext4</span>(1)</span> and <span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span> it to a directory where you need more space. (You need to copy original data contents.)</p>
          <pre class="screen">$ sudo mv work-dir old-dir
$ sudo mkfs.ext4 /dev/sdx
$ sudo mount -t ext4 /dev/sdx work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You may alternatively mount an empty disk image file (see <a class="xref" href="ch09.en.html#_making_the_empty_disk_image_file" title="9.6.5. Making the empty disk image file">Section 9.6.5, “Making the empty disk image file”</a>) as a loop device (see <a class="xref" href="ch09.en.html#_mounting_the_disk_image_file" title="9.6.3. Mounting the disk image file">Section 9.6.3, “Mounting the disk image file”</a>).  The actual disk usage grows with the actual data stored.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_expansion_of_usable_storage_space_by_bind_mounting_another_directory"/>9.5.15. Expansion of usable storage space by bind-mounting another directory</h3>
              </div>
            </div>
          </div>
          <p>If you have an empty directory (e.g., "<code class="literal">/path/to/emp-dir</code>") on another partition with usable space, you can mount(8) it with "<code class="literal">--bind</code>" option to a directory (e.g., "<code class="literal">work-dir</code>") where you need more space.</p>
          <pre class="screen">$ sudo mount --bind /path/to/emp-dir work-dir</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_expansion_of_usable_storage_space_by_overlay_mounting_another_directory"/>9.5.16. Expansion of usable storage space by overlay-mounting another directory</h3>
              </div>
            </div>
          </div>
          <p>If you have usable space in another partition (e.g., "<code class="literal">/path/to/empty</code>" and "<code class="literal">/path/to/work</code>"), you can create a directory in it and stack that on to an old directory (e.g., "<code class="literal">/path/to/old</code>") where you need space using the <a class="ulink" href="https://en.wikipedia.org/wiki/OverlayFS">OverlayFS</a> for Linux kernel 3.18 or newer (Debian Stretch 9.0 or newer).</p>
          <pre class="screen">$ sudo mount -t overlay overlay \
  -olowerdir=/path/to/old-dir,upperdir=/path/to/empty,workdir=/path/to/work</pre>
          <p>Here, "<code class="literal">/path/to/empty</code>" and "<code class="literal">/path/to/work</code>" should be on the RW-enabled partition to write on "<code class="literal">/path/to/old</code>".</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_expansion_of_usable_storage_space_using_symlink"/>9.5.17. Expansion of usable storage space using symlink</h3>
              </div>
            </div>
          </div>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>This is a deprecated method.  Some software may not function well with "symlink to a directory".  Instead, use the "mounting" approaches described in the above.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>If you have an empty directory (e.g., "<code class="literal">/path/to/emp-dir</code>") in another partition with usable space, you can create a symlink to the directory with <span class="citerefentry"><span class="refentrytitle">ln</span>(8)</span>.</p>
          <pre class="screen">$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo ln -sf /path/to/emp-dir work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</pre>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Do not use "symlink to a directory" for directories managed by the system such as "<code class="literal">/opt</code>".  Such a symlink may be overwritten when the system is upgraded.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_the_disk_image"/>9.6. The disk image</h2>
            </div>
          </div>
        </div>
        <p>Here, we discuss manipulations of the disk image.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_making_the_disk_image_file"/>9.6.1. Making the disk image file</h3>
              </div>
            </div>
          </div>
          <p>The disk image file, "<code class="literal">disk.img</code>", of an unmounted device, e.g., the second SCSI or serial ATA drive "<code class="literal">/dev/sdb</code>", can be made using <span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span> or <span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span> by the following.</p>
          <pre class="screen"># cp /dev/sdb disk.img
# dd if=/dev/sdb of=disk.img</pre>
          <p>The disk image of the traditional PC's <a class="ulink" href="https://en.wikipedia.org/wiki/Master_boot_record">master boot record (MBR)</a> (see <a class="xref" href="ch09.en.html#_disk_partition_configuration" title="9.5.2. Disk partition configuration">Section 9.5.2, “Disk partition configuration”</a>) which reside on the first sector on the primary IDE disk can be made by using <span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span> by the following.</p>
          <pre class="screen"># dd if=/dev/hda of=mbr.img bs=512 count=1
# dd if=/dev/hda of=mbr-nopart.img bs=446 count=1
# dd if=/dev/hda of=mbr-part.img skip=446 bs=1 count=66</pre>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">mbr.img</code>": The MBR with the partition table
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">mbr-nopart.img</code>": The MBR without the partition table
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">mbr-part.img</code>": The partition table of the MBR only
</p>
              </li>
            </ul>
          </div>
          <p>If you have an SCSI or serial ATA device as the boot disk, substitute "<code class="literal">/dev/hda</code>" with "<code class="literal">/dev/sda</code>".</p>
          <p>If you are making an image of a disk partition of the original disk, substitute "<code class="literal">/dev/hda</code>" with "<code class="literal">/dev/hda1</code>" etc.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_writing_directly_to_the_disk"/>9.6.2. Writing directly to the disk</h3>
              </div>
            </div>
          </div>
          <p>The disk image file, "<code class="literal">disk.img</code>" can be written to an unmounted device, e.g., the second SCSI drive "<code class="literal">/dev/sdb</code>" with matching size, by the following.</p>
          <pre class="screen"># dd if=disk.img of=/dev/sdb</pre>
          <p>Similarly, the disk partition image file, "<code class="literal">partition.img</code>" can be written to an unmounted partition, e.g., the first partition of the second SCSI drive "<code class="literal">/dev/sdb1</code>" with matching size, by the following.</p>
          <pre class="screen"># dd if=partition.img of=/dev/sdb1</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_mounting_the_disk_image_file"/>9.6.3. Mounting the disk image file</h3>
              </div>
            </div>
          </div>
          <p>The disk image "<code class="literal">partition.img</code>" containing a single partition image can be mounted and unmounted by using the <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> as follows.</p>
          <pre class="screen"># losetup -v -f partition.img
Loop device is /dev/loop0
# mkdir -p /mnt/loop0
# mount -t auto /dev/loop0 /mnt/loop0
...hack...hack...hack
# umount /dev/loop0
# losetup -d /dev/loop0</pre>
          <p>This can be simplified as follows.</p>
          <pre class="screen"># mkdir -p /mnt/loop0
# mount -t auto -o loop partition.img /mnt/loop0
...hack...hack...hack
# umount partition.img</pre>
          <p>Each partition of the disk image "<code class="literal">disk.img</code>" containing multiple partitions can be mounted by using the <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a>.  Since the loop device does not manage partitions by default, we need to reset it as follows.</p>
          <pre class="screen"># modinfo -p loop # verify kernel capability
max_part:Maximum number of partitions per loop device
max_loop:Maximum number of loop devices
# losetup -a # verify nothing using the loop device
# rmmod loop
# modprobe loop max_part=16</pre>
          <p>Now, the loop device can manage up to 16 partitions.</p>
          <pre class="screen"># losetup -v -f disk.img
Loop device is /dev/loop0
# fdisk -l /dev/loop0

Disk /dev/loop0: 5368 MB, 5368709120 bytes
255 heads, 63 sectors/track, 652 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x452b6464

      Device Boot      Start         End      Blocks   Id  System
/dev/loop0p1               1         600     4819468+  83  Linux
/dev/loop0p2             601         652      417690   83  Linux
# mkdir -p /mnt/loop0p1
# mount -t ext4 /dev/loop0p1 /mnt/loop0p1
# mkdir -p /mnt/loop0p2
# mount -t ext4 /dev/loop0p2 /mnt/loop0p2
...hack...hack...hack
# umount /dev/loop0p1
# umount /dev/loop0p2
# losetup -d /dev/loop0</pre>
          <p>Alternatively, similar effects can be done by using the <a class="ulink" href="https://en.wikipedia.org/wiki/Device_mapper">device mapper</a> devices created by <span class="citerefentry"><span class="refentrytitle">kpartx</span>(8)</span> from the <code class="literal">kpartx</code> package as follows.</p>
          <pre class="screen"># kpartx -a -v disk.img
...
# mkdir -p /mnt/loop0p2
# mount -t ext4 /dev/mapper/loop0p2 /mnt/loop0p2
...
...hack...hack...hack
# umount /dev/mapper/loop0p2
...
# kpartx -d /mnt/loop0</pre>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can mount a single partition of such disk image with <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> using offset to skip <a class="ulink" href="https://en.wikipedia.org/wiki/Master_boot_record">MBR</a> etc., too.  But this is more error prone.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_cleaning_a_disk_image_file"/>9.6.4. Cleaning a disk image file</h3>
              </div>
            </div>
          </div>
          <p>A disk image file, "<code class="literal">disk.img</code>" can be cleaned of all removed files into clean sparse image "<code class="literal">new.img</code>" by the following.</p>
          <pre class="screen"># mkdir old; mkdir new
# mount -t auto -o loop disk.img old
# dd bs=1 count=0 if=/dev/zero of=new.img seek=5G
# mount -t auto -o loop new.img new
# cd old
# cp -a --sparse=always ./ ../new/
# cd ..
# umount new.img
# umount disk.img</pre>
          <p>If "<code class="literal">disk.img</code>" is in ext2, ext3 or ext4, you can also use <span class="citerefentry"><span class="refentrytitle">zerofree</span>(8)</span> from the <code class="literal">zerofree</code> package as follows.</p>
          <pre class="screen"># losetup -f -v disk.img
Loop device is /dev/loop3
# zerofree /dev/loop3
# cp --sparse=always disk.img new.img</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_making_the_empty_disk_image_file"/>9.6.5. Making the empty disk image file</h3>
              </div>
            </div>
          </div>
          <p>The empty disk image "<code class="literal">disk.img</code>" which can grow up to 5GiB can be made using <span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span> as follows.</p>
          <pre class="screen">$ dd bs=1 count=0 if=/dev/zero of=disk.img seek=5G</pre>
          <p>You can create an ext4 filesystem on this disk image "<code class="literal">disk.img</code>" using the <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> as follows.</p>
          <pre class="screen"># losetup -f -v disk.img
Loop device is /dev/loop1
# mkfs.ext4 /dev/loop1
...hack...hack...hack
# losetup -d /dev/loop1
$ du  --apparent-size -h disk.img
5.0G  disk.img
$ du -h disk.img
83M disk.img</pre>
          <p>For "<code class="literal">disk.img</code>", its file size is 5.0 GiB and its actual disk usage is mere 83MiB.  This discrepancy is possible since <a class="ulink" href="https://en.wikipedia.org/wiki/Ext4">ext4</a> can hold <a class="ulink" href="https://en.wikipedia.org/wiki/Sparse_file">sparse file</a>.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The actual disk usage of <a class="ulink" href="https://en.wikipedia.org/wiki/Sparse_file">sparse file</a> grows with data which are written to it.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Using similar operation on devices created by the <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> or the <a class="ulink" href="https://en.wikipedia.org/wiki/Device_mapper">device mapper</a> devices as  <a class="xref" href="ch09.en.html#_mounting_the_disk_image_file" title="9.6.3. Mounting the disk image file">Section 9.6.3, “Mounting the disk image file”</a>, you can partition this disk image "<code class="literal">disk.img</code>" using <span class="citerefentry"><span class="refentrytitle">parted</span>(8)</span> or <span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span>, and can create filesystem on it using <span class="citerefentry"><span class="refentrytitle">mkfs.ext4</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">mkswap</span>(8)</span>, etc.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_making_the_iso9660_image_file"/>9.6.6. Making the ISO9660 image file</h3>
              </div>
            </div>
          </div>
          <p>The <a class="ulink" href="https://en.wikipedia.org/wiki/ISO_9660">ISO9660</a> image file, "<code class="literal">cd.iso</code>", from the source directory tree at "<code class="literal">source_directory</code>" can be made using <span class="citerefentry"><span class="refentrytitle">genisoimage</span>(1)</span> provided by <a class="ulink" href="https://en.wikipedia.org/wiki/Cdrkit">cdrkit</a> by the following.</p>
          <pre class="screen">#  genisoimage -r -J -T -V volume_id -o cd.iso source_directory</pre>
          <p>Similarly, the bootable ISO9660 image file, "<code class="literal">cdboot.iso</code>", can be made from <code class="literal">debian-installer</code> like directory tree at "<code class="literal">source_directory</code>" by the following.</p>
          <pre class="screen">#  genisoimage -r -o cdboot.iso -V volume_id \
   -b isolinux/isolinux.bin -c isolinux/boot.cat \
   -no-emul-boot -boot-load-size 4 -boot-info-table source_directory</pre>
          <p>Here <a class="ulink" href="https://en.wikipedia.org/wiki/SYSLINUX">Isolinux boot loader</a> (see <a class="xref" href="ch03.en.html#_stage_2_the_boot_loader" title="3.1.2. Stage 2: the boot loader">Section 3.1.2, “Stage 2: the boot loader”</a>) is used for booting.</p>
          <p>You can calculate the md5sum value and make the ISO9660 image directly from the CD-ROM device as follows.</p>
          <pre class="screen">$ isoinfo -d -i /dev/cdrom
CD-ROM is in ISO 9660 format
...
Logical block size is: 2048
Volume size is: 23150592
...
# dd if=/dev/cdrom bs=2048 count=23150592 conv=notrunc,noerror | md5sum
# dd if=/dev/cdrom bs=2048 count=23150592 conv=notrunc,noerror &gt; cd.iso</pre>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You must carefully avoid ISO9660 filesystem read ahead bug of Linux as above to get the right result.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_writing_directly_to_the_cd_dvd_r_rw"/>9.6.7. Writing directly to the CD/DVD-R/RW</h3>
              </div>
            </div>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>DVD is only a large CD to <span class="citerefentry"><span class="refentrytitle">wodim</span>(1)</span> provided by <a class="ulink" href="https://en.wikipedia.org/wiki/Cdrkit">cdrkit</a>.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>You can find a usable device by the following.</p>
          <pre class="screen"># wodim --devices</pre>
          <p>Then the blank CD-R is inserted to the CD drive, and the ISO9660 image file, "<code class="literal">cd.iso</code>" is written to this device, e.g., "<code class="literal">/dev/hda</code>", using <span class="citerefentry"><span class="refentrytitle">wodim</span>(1)</span> by the following.</p>
          <pre class="screen"># wodim -v -eject dev=/dev/hda cd.iso</pre>
          <p>If CD-RW is used instead of CD-R, do this instead by the following.</p>
          <pre class="screen"># wodim -v -eject blank=fast dev=/dev/hda cd.iso</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If your desktop system mounts CDs automatically, unmount it by "<code class="literal">sudo umount /dev/hda</code>" from console before using <span class="citerefentry"><span class="refentrytitle">wodim</span>(1)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_mounting_the_iso9660_image_file"/>9.6.8. Mounting the ISO9660 image file</h3>
              </div>
            </div>
          </div>
          <p>If "<code class="literal">cd.iso</code>" contains an ISO9660 image, then the following manually mounts it to "<code class="literal">/cdrom</code>".</p>
          <pre class="screen"># mount -t iso9660 -o ro,loop cd.iso /cdrom</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Modern desktop system may mount removable media such as ISO9660 formatted CD automatically (see <a class="xref" href="ch10.en.html#_removable_storage_device" title="10.1.7. Removable storage device">Section 10.1.7, “Removable storage device”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_the_binary_data"/>9.7. The binary data</h2>
            </div>
          </div>
        </div>
        <p>Here, we discuss direct manipulations of the binary data on storage media.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_viewing_and_editing_binary_data"/>9.7.1. Viewing and editing binary data</h3>
              </div>
            </div>
          </div>
          <p>The most basic viewing method of binary data is to use "<code class="literal">od -t x1</code>" command.</p>
          <div class="table">
            <a id="listofpackageswhndeditbinarydata"/>
            <p class="title">
              <strong>Table 9.20. List of packages which view and edit binary data</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of packages which view and edit binary data" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/coreutils">
                  <code class="literal">coreutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=coreutils">V:888, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html">15719</a>
                    </td>
                    <td style="text-align: left">
    basic package which has <span class="citerefentry"><span class="refentrytitle">od</span>(1)</span> to dump files (HEX, ASCII, OCTAL, …)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bsdmainutils">
                  <code class="literal">bsdmainutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bsdmainutils">V:861, I:999</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bsdmainutils.html">587</a>
                    </td>
                    <td style="text-align: left">
    utility package which has <span class="citerefentry"><span class="refentrytitle">hd</span>(1)</span> to dump files (HEX, ASCII, OCTAL, …)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/hexedit">
                  <code class="literal">hexedit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=hexedit">V:1, I:12</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/h/hexedit.html">71</a>
                    </td>
                    <td style="text-align: left">
    binary editor and viewer (HEX, ASCII)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bless">
                  <code class="literal">bless</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bless">V:0, I:5</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bless.html">1028</a>
                    </td>
                    <td style="text-align: left">
    full featured hexadecimal editor (GNOME)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/okteta">
                  <code class="literal">okteta</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=okteta">V:1, I:18</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/o/okteta.html">1446</a>
                    </td>
                    <td style="text-align: left">
    full featured hexadecimal editor (KDE4)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/ncurses-hexedit">
                  <code class="literal">ncurses-hexedit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ncurses-hexedit">V:0, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/n/ncurses-hexedit.html">132</a>
                    </td>
                    <td style="text-align: left">
    binary editor and viewer (HEX, ASCII, EBCDIC)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/beav">
                  <code class="literal">beav</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=beav">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/beav.html">133</a>
                    </td>
                    <td style="text-align: left">
    binary editor and viewer (HEX, ASCII, EBCDIC, OCTAL, …)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>HEX is used as an acronym for <a class="ulink" href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a> format with <a class="ulink" href="https://en.wikipedia.org/wiki/Radix">radix</a> 16.  OCTAL is for <a class="ulink" href="https://en.wikipedia.org/wiki/Octal">octal</a> format with <a class="ulink" href="https://en.wikipedia.org/wiki/Radix">radix</a> 8.  ASCII is for <a class="ulink" href="https://en.wikipedia.org/wiki/ASCII">American Standard Code for Information Interchange</a>, i.e., normal English text code.  EBCDIC is for <a class="ulink" href="https://en.wikipedia.org/wiki/Extended_Binary_Coded_Decimal_Interchange_Code">Extended Binary Coded Decimal Interchange Code</a> used on <a class="ulink" href="https://en.wikipedia.org/wiki/IBM_mainframe">IBM mainframe</a> operating systems.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_manipulating_files_without_mounting_disk"/>9.7.2. Manipulating files without mounting disk</h3>
              </div>
            </div>
          </div>
          <p>There are tools to read and write files without mounting disk.</p>
          <div class="table">
            <a id="listofpackagestohoutmountingdisk"/>
            <p class="title">
              <strong>Table 9.21. List of packages to manipulate files without mounting disk</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of packages to manipulate files without mounting disk" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/mtools">
                  <code class="literal">mtools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=mtools">V:10, I:93</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/m/mtools.html">384</a>
                    </td>
                    <td style="text-align: left">
    utilities for MSDOS files without mounting them
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/hfsutils">
                  <code class="literal">hfsutils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=hfsutils">V:0, I:7</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/h/hfsutils.html">1771</a>
                    </td>
                    <td style="text-align: left">
    utilities for HFS and HFS+ files without mounting them
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_data_redundancy"/>9.7.3. Data redundancy</h3>
              </div>
            </div>
          </div>
          <p>Software <a class="ulink" href="https://en.wikipedia.org/wiki/RAID">RAID</a> systems offered by the Linux kernel provide data redundancy in the kernel filesystem level to achieve high levels of storage reliability.</p>
          <p>There are tools to add data redundancy to files in application program level to achieve high levels of storage reliability, too.</p>
          <div class="table">
            <a id="listoftoolstoaddedundancytofiles"/>
            <p class="title">
              <strong>Table 9.22. List of tools to add data redundancy to files</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of tools to add data redundancy to files" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/par2">
                  <code class="literal">par2</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=par2">V:1, I:9</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/par2.html">246</a>
                    </td>
                    <td style="text-align: left">
    Parity Archive Volume Set, for checking and repair of files
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dvdisaster">
                  <code class="literal">dvdisaster</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dvdisaster">V:0, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dvdisaster.html">1737</a>
                    </td>
                    <td style="text-align: left">
    data loss/scratch/aging protection for CD/DVD media
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dvbackup">
                  <code class="literal">dvbackup</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dvbackup">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dvbackup.html">412</a>
                    </td>
                    <td style="text-align: left">
    backup tool using MiniDV camcorders (providing <span class="citerefentry"><span class="refentrytitle">rsbep</span>(1)</span>)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/vdmfec">
                  <code class="literal">vdmfec</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=vdmfec">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/v/vdmfec.html">97</a>
                    </td>
                    <td style="text-align: left">
    recover lost blocks using Forward Error Correction
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_data_file_recovery_and_forensic_analysis"/>9.7.4. Data file recovery and forensic analysis</h3>
              </div>
            </div>
          </div>
          <p>There are tools for data file recovery and forensic analysis.</p>
          <div class="table">
            <a id="listofpackagesfoforensicanalysis"/>
            <p class="title">
              <strong>Table 9.23. List of packages for data file recovery and forensic analysis</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of packages for data file recovery and forensic analysis" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/testdisk">
                  <code class="literal">testdisk</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=testdisk">V:3, I:39</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/t/testdisk.html">1339</a>
                    </td>
                    <td style="text-align: left">
    utilities for partition scan and disk recovery
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/magicrescue">
                  <code class="literal">magicrescue</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=magicrescue">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/m/magicrescue.html">254</a>
                    </td>
                    <td style="text-align: left">
    utility to recover files by looking for magic bytes
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/scalpel">
                  <code class="literal">scalpel</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=scalpel">V:0, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/scalpel.html">87</a>
                    </td>
                    <td style="text-align: left">
    frugal, high performance file carver
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/myrescue">
                  <code class="literal">myrescue</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=myrescue">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/m/myrescue.html">82</a>
                    </td>
                    <td style="text-align: left">
    rescue data from damaged harddisks
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/extundelete">
                  <code class="literal">extundelete</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=extundelete">V:1, I:11</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/e/extundelete.html">148</a>
                    </td>
                    <td style="text-align: left">
    utility to undelete files on the ext3/4 filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/ext4magic">
                  <code class="literal">ext4magic</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ext4magic">V:0, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/e/ext4magic.html">233</a>
                    </td>
                    <td style="text-align: left">
    utility to undelete files on the ext3/4 filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/ext3grep">
                  <code class="literal">ext3grep</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ext3grep">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/e/ext3grep.html">281</a>
                    </td>
                    <td style="text-align: left">
    tool to help recover deleted files on the ext3 filesystem
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/scrounge-ntfs">
                  <code class="literal">scrounge-ntfs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=scrounge-ntfs">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/scrounge-ntfs.html">49</a>
                    </td>
                    <td style="text-align: left">
    data recovery program for NTFS filesystems
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/gzrt">
                  <code class="literal">gzrt</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=gzrt">V:0, I:0</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/gzrt.html">57</a>
                    </td>
                    <td style="text-align: left">
    gzip recovery toolkit
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/sleuthkit">
                  <code class="literal">sleuthkit</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=sleuthkit">V:2, I:18</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/sleuthkit.html">1212</a>
                    </td>
                    <td style="text-align: left">
    tools for forensics analysis. (Sleuthkit)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/autopsy">
                  <code class="literal">autopsy</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=autopsy">V:0, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/a/autopsy.html">1021</a>
                    </td>
                    <td style="text-align: left">
    graphical interface to SleuthKit
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/foremost">
                  <code class="literal">foremost</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=foremost">V:0, I:7</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/foremost.html">100</a>
                    </td>
                    <td style="text-align: left">
    forensics application to recover data
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/guymager">
                  <code class="literal">guymager</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=guymager">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/guymager.html">1067</a>
                    </td>
                    <td style="text-align: left">
    forensic imaging tool based on Qt
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dcfldd">
                  <code class="literal">dcfldd</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dcfldd">V:0, I:5</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dcfldd.html">95</a>
                    </td>
                    <td style="text-align: left">
    enhanced version of <code class="literal">dd</code> for forensics and security
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You can undelete files on the ext2 filesystem using <code class="literal">list_deleted_inodes</code> and <code class="literal">undel</code> commands of <span class="citerefentry"><span class="refentrytitle">debugfs</span>(8)</span> in the <code class="literal">e2fsprogs</code> package.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_splitting_a_large_file_into_small_files"/>9.7.5. Splitting a large file into small files</h3>
              </div>
            </div>
          </div>
          <p>When a data is too big to backup as a single file, you can backup its content after splitting it into, e.g. 2000MiB chunks and merge those chunks back into the original file later.</p>
          <pre class="screen">$ split -b 2000m large_file
$ cat x* &gt;large_file</pre>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Please make sure you do not have any files starting with "<code class="literal">x</code>" to avoid name crashes.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_clearing_file_contents"/>9.7.6. Clearing file contents</h3>
              </div>
            </div>
          </div>
          <p>In order to clear the contents of a file such as a log file, do not use <span class="citerefentry"><span class="refentrytitle">rm</span>(1)</span> to delete the file and then create a new empty file, because the file may still be accessed in the interval between commands.  The following is the safe way to clear the contents of the file.</p>
          <pre class="screen">$ :&gt;file_to_be_cleared</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_dummy_files"/>9.7.7. Dummy files</h3>
              </div>
            </div>
          </div>
          <p>The following commands create dummy or empty files.</p>
          <pre class="screen">$ dd if=/dev/zero    of=5kb.file bs=1k count=5
$ dd if=/dev/urandom of=7mb.file bs=1M count=7
$ touch zero.file
$ : &gt; alwayszero.file</pre>
          <p>You should find following files.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
"<code class="literal">5kb.file</code>" is 5KB of zeros.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">7mb.file</code>" is 7MB of random data.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">zero.file</code>" may be a 0 byte file.  If it existed, its <code class="literal">mtime</code> is updated while its content and its length are kept.
</p>
              </li>
              <li class="listitem">
                <p>
"<code class="literal">alwayszero.file</code>" is always a 0 byte file.  If it existed, its <code class="literal">mtime</code> is updated and its content is reset.
</p>
              </li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_erasing_an_entire_hard_disk"/>9.7.8. Erasing an entire hard disk</h3>
              </div>
            </div>
          </div>
          <p>There are several ways to completely erase data from an entire hard disk like device, e.g., USB memory stick at "<code class="literal">/dev/sda</code>".</p>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Check your USB memory stick location with <span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span> first before executing commands here.  The device pointed by "<code class="literal">/dev/sda</code>" may be SCSI hard disk or serial-ATA hard disk where your entire system resides.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Erase all the disk content by resetting data to 0 with the following.</p>
          <pre class="screen"># dd if=/dev/zero of=/dev/sda</pre>
          <p>Erase everything by overwriting with random data as follows.</p>
          <pre class="screen"># dd if=/dev/urandom of=/dev/sda</pre>
          <p>Erase everything by overwriting with random data very efficiently as follows.</p>
          <pre class="screen"># shred -v -n 1 /dev/sda</pre>
          <p>Since <span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span> is available from the shell of many bootable Linux CDs such as Debian installer CD, you can erase your installed system completely by running an erase command from such media on the system hard disk, e.g., "<code class="literal">/dev/hda</code>", "<code class="literal">/dev/sda</code>", etc.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_erasing_unused_area_of_an_hard_disk"/>9.7.9. Erasing unused area of an hard disk</h3>
              </div>
            </div>
          </div>
          <p>Unused area on an hard disk (or USB memory stick), e.g. "<code class="literal">/dev/sdb1</code>" may still contain erased data themselves since they are only unlinked from the filesystem.  These can be cleaned by overwriting them.</p>
          <pre class="screen"># mount -t auto /dev/sdb1 /mnt/foo
# cd /mnt/foo
# dd if=/dev/zero of=junk
dd: writing to `junk': No space left on device
...
# sync
# umount /dev/sdb1</pre>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>This is usually good enough for your USB memory stick.  But this is not perfect.  Most parts of erased filenames and their attributes may be hidden and remain in the filesystem.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_undeleting_deleted_but_still_open_files"/>9.7.10. Undeleting deleted but still open files</h3>
              </div>
            </div>
          </div>
          <p>Even if you have accidentally deleted a file, as long as that file is still being used by some application (read or write mode), it is possible to recover such a file.</p>
          <p>For example, try the following</p>
          <pre class="screen">$ echo foo &gt; bar
$ less bar
$ ps aux | grep ' less[ ]'
bozo    4775  0.0  0.0  92200   884 pts/8    S+   00:18   0:00 less bar
$ rm bar
$ ls -l /proc/4775/fd | grep bar
lr-x------ 1 bozo bozo 64 2008-05-09 00:19 4 -&gt; /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -l
-rw-r--r-- 1 bozo bozo 4 2008-05-09 00:25 bar
$ cat bar
foo</pre>
          <p>Execute on another terminal (when you have the <code class="literal">lsof</code> package installed) as follows.</p>
          <pre class="screen">$ ls -li bar
2228329 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:02 bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar
$ rm bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -li bar
2228302 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:05 bar
$ cat bar
foo</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_searching_all_hardlinks"/>9.7.11. Searching all hardlinks</h3>
              </div>
            </div>
          </div>
          <p>Files with hardlinks can be identified by "<code class="literal">ls -li</code>".</p>
          <pre class="screen">$ ls -li
total 0
2738405 -rw-r--r-- 1 root root 0 2008-09-15 20:21 bar
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 baz
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 foo</pre>
          <p>Both "<code class="literal">baz</code>" and "<code class="literal">foo</code>" have link counts of "2" (&gt;1) showing them to have hardlinks.  Their <a class="ulink" href="https://en.wikipedia.org/wiki/Inode">inode</a> numbers are common "2738404".  This means they are the same hardlinked file.  If you do not happen to find all hardlinked files by chance, you can search it by the <a class="ulink" href="https://en.wikipedia.org/wiki/Inode">inode</a>, e.g., "2738404" as the following.</p>
          <pre class="screen"># find /path/to/mount/point -xdev -inum 2738404</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_invisible_disk_space_consumption"/>9.7.12. Invisible disk space consumption</h3>
              </div>
            </div>
          </div>
          <p>All deleted but open files consume disk space although they are not visible from normal <span class="citerefentry"><span class="refentrytitle">du</span>(1)</span>.  They can be listed with their size by the following.</p>
          <pre class="screen"># lsof -s -X / |grep deleted</pre>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_data_encryption_tips"/>9.8. Data encryption tips</h2>
            </div>
          </div>
        </div>
        <p>With physical access to your PC, anyone can easily gain root privilege and access all the files on your PC (see <a class="xref" href="ch04.en.html#_securing_the_root_password" title="4.7.4. Securing the root password">Section 4.7.4, “Securing the root password”</a>).  This means that login password system can not secure your private and sensitive data against possible theft of your PC.  You must deploy data encryption technology to do it.  Although <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU privacy guard</a> (see <a class="xref" href="ch10.en.html#_data_security_infrastructure" title="10.3. Data security infrastructure">Section 10.3, “Data security infrastructure”</a>) can encrypt files, it takes some user efforts.</p>
        <p><a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a> and <a class="ulink" href="http://ecryptfs.sourceforge.net/">eCryptfs</a> facilitates automatic data encryption natively via Linux kernel modules with minimal user efforts.</p>
        <div class="table">
          <a id="listofdataencryptionutilities"/>
          <p class="title">
            <strong>Table 9.24. List of data encryption utilities</strong>
          </p>
          <div class="table-contents">
            <table class="table" summary="List of data encryption utilities" border="1">
              <colgroup>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
                <col style="text-align: left"/>
              </colgroup>
              <thead>
                <tr>
                  <th style="text-align: left">
    package
    </th>
                  <th style="text-align: left">
    popcon
    </th>
                  <th style="text-align: left">
    size
    </th>
                  <th style="text-align: left">
    description
    </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cryptsetup">
                <code class="literal">cryptsetup</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cryptsetup">V:32, I:80</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cryptsetup.html">67</a>
                  </td>
                  <td style="text-align: left">
    utilities for encrypted block device (<a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a> / <a class="ulink" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a>)
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/cryptmount">
                <code class="literal">cryptmount</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cryptmount">V:3, I:5</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/c/cryptmount.html">228</a>
                  </td>
                  <td style="text-align: left">
    utilities for encrypted block device (<a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a> / <a class="ulink" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a>) with focus on mount/unmount by normal users
    </td>
                </tr>
                <tr>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.debian.org/sid/ecryptfs-utils">
                <code class="literal">ecryptfs-utils</code>
              </a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=ecryptfs-utils">V:5, I:8</a>
                  </td>
                  <td style="text-align: left">
                    <a class="ulink" href="http://packages.qa.debian.org/e/ecryptfs-utils.html">396</a>
                  </td>
                  <td style="text-align: left">
    utilities for encrypted stacked filesystem (<a class="ulink" href="http://ecryptfs.sourceforge.net/">eCryptfs</a>)
    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break"/>
        <p><a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">Dm-crypt</a> is a cryptographic filesystem using <a class="ulink" href="https://en.wikipedia.org/wiki/Device_mapper">device-mapper</a>. <a class="ulink" href="https://en.wikipedia.org/wiki/Device_mapper">Device-mapper</a> maps one block device to another.</p>
        <p><a class="ulink" href="http://ecryptfs.sourceforge.net/">eCryptfs</a> is another cryptographic filesystem using stacked filesystem.  Stacked filesystem stacks itself on top of an existing directory of a mounted filesystem.</p>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Caution">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Caution]" src="images/caution.png"/>
              </td>
              <th align="left">Caution</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Data encryption costs CPU time etc.  Please weigh its benefits and costs.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Note]" src="images/note.png"/>
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Entire Debian system can be installed on a encrypted disk by the <a class="ulink" href="https://en.wikipedia.org/wiki/Debian-Installer">debian-installer</a> (lenny or newer) using <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a> and initramfs.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Tip]" src="images/tip.png"/>
              </td>
              <th align="left">Tip</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>See <a class="xref" href="ch10.en.html#_data_security_infrastructure" title="10.3. Data security infrastructure">Section 10.3, “Data security infrastructure”</a> for user space encryption utility: <a class="ulink" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GNU Privacy Guard</a>.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_removable_disk_encryption_with_dm_crypt_luks"/>9.8.1. Removable disk encryption with dm-crypt/LUKS</h3>
              </div>
            </div>
          </div>
          <p>You can encrypt contents of removable mass devices, e.g. USB memory stick on "<code class="literal">/dev/sdx</code>", using <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a>/<a class="ulink" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a>.  You simply format it as the following.</p>
          <pre class="screen"># badblocks -c 1024 -s -w -t random -v /dev/sdx
# fdisk /dev/sdx
... "n" "p" "1" "return" "return" "w"
# cryptsetup luksFormat /dev/sdx1
...
# cryptsetup open --type luks /dev/sdx1 sdx1
...
# ls -l /dev/mapper/
total 0
crw-rw---- 1 root root  10, 60 2008-10-04 18:44 control
brw-rw---- 1 root disk 254,  0 2008-10-04 23:55 sdx1
# mkfs.vfat /dev/mapper/sdx1
...
# cryptsetup luksClose sdx1</pre>
          <p>Then, it can be mounted just like normal one on to "<code class="literal">/media/&lt;disk_label&gt;</code>", except for asking password (see <a class="xref" href="ch10.en.html#_removable_storage_device" title="10.1.7. Removable storage device">Section 10.1.7, “Removable storage device”</a>) under modern desktop environment, such as GNOME using <span class="citerefentry"><span class="refentrytitle">gnome-mount</span>(1)</span>.  The difference is that every data written to it is encrypted.  You may alternatively format media in different filesystem, e.g., ext4 with "<code class="literal">mkfs.ext4 /dev/mapper/sdx1</code>".</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If you are really paranoid for the security of data, you may need to overwrite multiple times (the "<code class="literal">badblocks</code>" command in the above example).  This operation is very time consuming though.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_encrypted_swap_partition_with_dm_crypt"/>9.8.2. Encrypted swap partition with dm-crypt</h3>
              </div>
            </div>
          </div>
          <p>Let's assume that your original "<code class="literal">/etc/fstab</code>" contains the following.</p>
          <pre class="screen">/dev/sda7 swap sw 0 0</pre>
          <p>You can enable encrypted swap partition using <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a> by as the following.</p>
          <pre class="screen"># aptitude install cryptsetup
# swapoff -a
# echo "cswap /dev/sda7 /dev/urandom swap" &gt;&gt; /etc/crypttab
# perl -i -p -e "s/\/dev\/sda7/\/dev\/mapper\/cswap/" /etc/fstab
# /etc/init.d/cryptdisks restart
 ...
# swapon -a</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_mounting_encrypted_disk_with_dm_crypt_luks"/>9.8.3. Mounting encrypted disk with dm-crypt/LUKS</h3>
              </div>
            </div>
          </div>
          <p>An encrypted disk partition created with dm-crypt/LUKS on "<code class="literal">/dev/sdc5</code>" can be mounted onto "<code class="literal">/mnt</code>" as follows:</p>
          <pre class="screen">$ sudo cryptsetup open /dev/sdc5 ninja --type luks
Enter passphrase for /dev/sdc5: ****
$ sudo lvm
lvm&gt; lvscan
  inactive          '/dev/ninja-vg/root' [13.52 GiB] inherit
  inactive          '/dev/ninja-vg/swap_1' [640.00 MiB] inherit
  ACTIVE            '/dev/goofy/root' [180.00 GiB] inherit
  ACTIVE            '/dev/goofy/swap' [9.70 GiB] inherit
lvm&gt; lvchange -a y /dev/ninja-vg/root
lvm&gt; exit
  Exiting.
$ sudo mount /dev/ninja-vg/root /mnt</pre>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_automatically_encrypting_files_with_ecryptfs"/>9.8.4. Automatically encrypting files with eCryptfs</h3>
              </div>
            </div>
          </div>
          <p>You can encrypt files written under "<code class="literal">~/Private/</code>" automatically using <a class="ulink" href="http://ecryptfs.sourceforge.net/">eCryptfs</a> and the <code class="literal">ecryptfs-utils</code> package.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Run <span class="citerefentry"><span class="refentrytitle">ecryptfs-setup-private</span>(1)</span> and set up "<code class="literal">~/Private/</code>" by following prompts.
</p>
              </li>
              <li class="listitem">
                <p>
Activate "<code class="literal">~/Private/</code>" by running <span class="citerefentry"><span class="refentrytitle">ecryptfs-mount-private</span>(1)</span>.
</p>
              </li>
              <li class="listitem">
                <p>
Move sensitive data files to "<code class="literal">~/Private/</code>" and make symlinks as needed.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Candidates: "<code class="literal">~/.fetchmailrc</code>", "<code class="literal">~/.ssh/identity</code>", "<code class="literal">~/.ssh/id_rsa</code>", "<code class="literal">~/.ssh/id_dsa</code>" and other files with "<code class="literal">go-rwx</code>"
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Move sensitive data directories to a subdirectory in "<code class="literal">~/Private/</code>" and make symlinks as needed.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Candidates: "<code class="literal">~/.gnupg</code>" and other directories with "<code class="literal">go-rwx</code>"
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Create symlink from "<code class="literal">~/Desktop/Private/</code>" to "<code class="literal">~/Private/</code>" for easier desktop operations.
</p>
              </li>
              <li class="listitem">
                <p>
Deactivate "<code class="literal">~/Private/</code>" by running <span class="citerefentry"><span class="refentrytitle">ecryptfs-umount-private</span>(1)</span>.
</p>
              </li>
              <li class="listitem">
                <p>
Activate "<code class="literal">~/Private/</code>" by issuing "<code class="literal">ecryptfs-mount-private</code>" as you need encrypted data.
</p>
              </li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Since <a class="ulink" href="http://ecryptfs.sourceforge.net/">eCryptfs</a> selectively encrypt only the sensitive files, its system cost is much less than using <a class="ulink" href="https://en.wikipedia.org/wiki/Dm-crypt">dm-crypt</a> on the entire root or "<code class="literal">/home</code>" device.  It does not require any special on-disk storage allocation effort but cannot keep all filesystem metadata confidential.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_automatically_mounting_ecryptfs"/>9.8.5. Automatically mounting eCryptfs</h3>
              </div>
            </div>
          </div>
          <p>If you use your login password for wrapping encryption keys, you can automate mounting eCryptfs via
<a class="ulink" href="https://en.wikipedia.org/wiki/Pluggable_Authentication_Modules">PAM (Pluggable Authentication Modules)</a>.</p>
          <p>Insert the following line just before "<code class="literal">pam_permit.so</code>" in "<code class="literal">/etc/pam.d/common-auth</code>".</p>
          <pre class="screen">auth required pam_ecryptfs.so unwrap</pre>
          <p>Insert the following line just at the last line in "<code class="literal">/etc/pam.d/common-session</code>".</p>
          <pre class="screen">session optional pam_ecryptfs.so unwrap</pre>
          <p>Insert the following line at first active line in "<code class="literal">/etc/pam.d/common-password</code>".</p>
          <pre class="screen">password required pam_ecryptfs.so</pre>
          <p>This is quite convenient.</p>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Configuration errors of <a class="ulink" href="https://en.wikipedia.org/wiki/Pluggable_Authentication_Modules">PAM</a> may lock you out of your own system. See <a class="xref" href="ch04.en.html" title="Chapter 4. Authentication">Chapter 4, <em>Authentication</em></a>.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If you use your login password for wrapping encryption keys, your encrypted data are as secure as your user login password (see <a class="xref" href="ch04.en.html#_good_password" title="4.3. Good password">Section 4.3, “Good password”</a>).  Unless you are careful to set up a <a class="ulink" href="https://en.wikipedia.org/wiki/Password_strength">strong password</a>, your data is at risk when someone runs <a class="ulink" href="https://en.wikipedia.org/wiki/Password_cracking">password cracking</a> software after stealing your laptop (see <a class="xref" href="ch04.en.html#_securing_the_root_password" title="4.7.4. Securing the root password">Section 4.7.4, “Securing the root password”</a>).</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_the_kernel"/>9.9. The kernel</h2>
            </div>
          </div>
        </div>
        <p>Debian distributes modularized <a class="ulink" href="https://en.wikipedia.org/wiki/Linux_kernel">Linux kernel</a> as packages for supported architectures.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_linux_kernel_2_6_3_x"/>9.9.1. Linux kernel 2.6/3.x</h3>
              </div>
            </div>
          </div>
          <p>There are few notable features on Linux kernel 2.6/3.x compared to 2.4.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Devices are created by the udev system (see <a class="xref" href="ch03.en.html#_the_udev_system" title="3.3. The udev system">Section 3.3, “The udev system”</a>).
</p>
              </li>
              <li class="listitem">
                <p>
Read/write accesses to IDE CD/DVD devices do not use the <code class="literal">ide-scsi</code> module.
</p>
              </li>
              <li class="listitem">
                <p>
Network packet filtering functions use <code class="literal">iptables</code> kernel modules.
</p>
              </li>
            </ul>
          </div>
          <p>The version bump from Linux 2.6.39 to Linux 3.0 is not about major technological changes but about the 20th anniversary.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_kernel_parameters"/>9.9.2. Kernel parameters</h3>
              </div>
            </div>
          </div>
          <p>Many Linux features are configurable via kernel parameters as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Kernel parameters initialized by the bootloader (see <a class="xref" href="ch03.en.html#_stage_2_the_boot_loader" title="3.1.2. Stage 2: the boot loader">Section 3.1.2, “Stage 2: the boot loader”</a>)
</p>
              </li>
              <li class="listitem">
                <p>
Kernel parameters changed by <span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span> at runtime for ones accessible via sysfs (see <a class="xref" href="ch01.en.html#_procfs_and_sysfs" title="1.2.12. procfs and sysfs">Section 1.2.12, “procfs and sysfs”</a>)
</p>
              </li>
              <li class="listitem">
                <p>
Module parameters set by arguments of <span class="citerefentry"><span class="refentrytitle">modprobe</span>(8)</span> when a module is activated (see <a class="xref" href="ch09.en.html#_mounting_the_disk_image_file" title="9.6.3. Mounting the disk image file">Section 9.6.3, “Mounting the disk image file”</a>)
</p>
              </li>
            </ul>
          </div>
          <p>See "<code class="literal">kernel-parameters.txt(.gz)</code>" and other related documents in the Linux kernel documentation ("<code class="literal">/usr/share/doc/linux-doc-3.*/Documentation/filesystems/*</code>") provided by the <code class="literal">linux-doc-3.*</code> package.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_kernel_headers"/>9.9.3. Kernel headers</h3>
              </div>
            </div>
          </div>
          <p>Most <span class="strong"><strong>normal programs</strong></span> don't need kernel headers and in fact may break if you use them directly for compiling. They should be compiled against the headers in "<code class="literal">/usr/include/linux</code>" and "<code class="literal">/usr/include/asm</code>" provided by the <code class="literal">libc6-dev</code> package (created from the <code class="literal">glibc</code> source package) on the Debian system.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For compiling some kernel-specific programs such as the kernel modules from the external source and the automounter daemon (<code class="literal">amd</code>), you must include path to the corresponding kernel headers, e.g. "<code class="literal">-I/usr/src/linux-particular-version/include/</code>", to your command line. <span class="citerefentry"><span class="refentrytitle">module-assistant</span>(8)</span> (or its short form <code class="literal">m-a</code>) helps users to build and install module package(s) easily for one or more custom kernels.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_compiling_the_kernel_and_related_modules"/>9.9.4. Compiling the kernel and related modules</h3>
              </div>
            </div>
          </div>
          <p>Debian has its own method of compiling the kernel and related modules.</p>
          <div class="table">
            <a id="listofkeypackagenthedebiansystem"/>
            <p class="title">
              <strong>Table 9.25. List of key packages to be installed for the kernel recompilation on the Debian system</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of key packages to be installed for the kernel recompilation on the Debian system" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/build-essential">
                  <code class="literal">build-essential</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=build-essential">I:454</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/build-essential.html">20</a>
                    </td>
                    <td style="text-align: left">
    essential packages for building Debian packages: <code class="literal">make</code>, <code class="literal">gcc</code>, …
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bzip2">
                  <code class="literal">bzip2</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bzip2">V:178, I:953</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bzip2.html">196</a>
                    </td>
                    <td style="text-align: left">
    compress and decompress utilities for bz2 files
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libncurses5-dev">
                  <code class="literal">libncurses5-dev</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libncurses5-dev">V:13, I:139</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libn/libncurses5-dev.html">6</a>
                    </td>
                    <td style="text-align: left">
    developer's libraries and docs for ncurses
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/git">
                  <code class="literal">git</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=git">V:301, I:458</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/g/git.html">35266</a>
                    </td>
                    <td style="text-align: left">
    git: distributed revision control system used by the Linux kernel
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/fakeroot">
                  <code class="literal">fakeroot</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=fakeroot">V:31, I:501</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/f/fakeroot.html">215</a>
                    </td>
                    <td style="text-align: left">
    provide fakeroot environment for building package as non-root
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/initramfs-tools">
                  <code class="literal">initramfs-tools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=initramfs-tools">V:367, I:990</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/i/initramfs-tools.html">111</a>
                    </td>
                    <td style="text-align: left">
    tool to build an initramfs (Debian specific)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dkms">
                  <code class="literal">dkms</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dkms">V:89, I:214</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dkms.html">278</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Dynamic_Kernel_Module_Support">dynamic kernel module support (DKMS)</a> (generic)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/devscripts">
                  <code class="literal">devscripts</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=devscripts">V:8, I:62</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/devscripts.html">2485</a>
                    </td>
                    <td style="text-align: left">
    helper scripts for a Debian Package maintainer (Debian specific)
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>If you use <code class="literal">initrd</code> in <a class="xref" href="ch03.en.html#_stage_2_the_boot_loader" title="3.1.2. Stage 2: the boot loader">Section 3.1.2, “Stage 2: the boot loader”</a>, make sure to read the related information in <span class="citerefentry"><span class="refentrytitle">initramfs-tools</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">update-initramfs</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">mkinitramfs</span>(8)</span> and <span class="citerefentry"><span class="refentrytitle">initramfs.conf</span>(5)</span>.</p>
          <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Warning">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Warning]" src="images/warning.png"/>
                </td>
                <th align="left">Warning</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Do not put symlinks to the directories in the source tree (e.g. "<code class="literal">/usr/src/linux*</code>") from "<code class="literal">/usr/include/linux</code>" and "<code class="literal">/usr/include/asm</code>" when compiling the Linux kernel source. (Some outdated documents suggest this.)</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>When compiling the latest Linux kernel on the Debian <code class="literal">stable</code> system, the use of backported latest tools from the Debian <code class="literal">unstable</code> may be needed.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The <a class="ulink" href="https://en.wikipedia.org/wiki/Dynamic_Kernel_Module_Support">dynamic kernel module support (DKMS)</a> is a new distribution independent framework designed to allow individual kernel modules to be upgraded without changing the whole kernel. This is used for the maintenance of out-of-tree modules.  This also makes it very easy to rebuild modules as you upgrade kernels.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_compiling_the_kernel_source_debian_kernel_team_recommendation"/>9.9.5. Compiling the kernel source: Debian Kernel Team recommendation</h3>
              </div>
            </div>
          </div>
          <p>For building custom kernel binary packages from the upstream kernel source, you should use the "<code class="literal">deb-pkg</code>" target provided by it.</p>
          <pre class="screen">$ sudo apt-get build-dep linux
$ cd /usr/src
$ wget http://www.kernel.org/pub/linux/kernel/v3.11/linux-&lt;version&gt;.tar.bz2
$ tar -xjvf linux-&lt;version&gt;.tar.bz2
$ cd linux-&lt;version&gt;
$ cp /boot/config-&lt;version&gt; .config
$ make menuconfig
 ...
$ make deb-pkg</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The linux-source-&lt;version&gt; package provides the Linux kernel source with Debian patches as "<code class="literal">/usr/src/linux-&lt;version&gt;.tar.bz2</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <p>For building specific binary packages from the Debian kernel source package, you should use the "<code class="literal">binary-arch_&lt;architecture&gt;_&lt;featureset&gt;_&lt;flavour&gt;</code>" targets in "<code class="literal">debian/rules.gen</code>".</p>
          <pre class="screen">$ sudo apt-get build-dep linux
$ apt-get source linux
$ cd linux-3.*
$ fakeroot make -f debian/rules.gen binary-arch_i386_none_686</pre>
          <p>See further information:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Debian Wiki: <a class="ulink" href="http://wiki.debian.org/KernelFAQ">KernelFAQ</a>
</p>
              </li>
              <li class="listitem">
                <p>
Debian Wiki: <a class="ulink" href="http://wiki.debian.org/DebianKernel">DebianKernel</a>
</p>
              </li>
              <li class="listitem">
                <p>
Debian Linux Kernel Handbook: <a class="ulink" href="https://kernel-handbook.debian.net">https://kernel-handbook.debian.net</a>
</p>
              </li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_hardware_drivers_and_firmware"/>9.9.6. Hardware drivers and firmware</h3>
              </div>
            </div>
          </div>
          <p>The hardware driver is the code running on the target system. Most hardware drivers are available as free software now and are included in the normal Debian kernel packages in the <code class="literal">main</code> area.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/Graphics_processing_unit">GPU</a> driver
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
Intel GPU driver (<code class="literal">main</code>)
</p>
                    </li>
                    <li class="listitem">
                      <p>
AMD/ATI GPU driver (<code class="literal">main</code>)
</p>
                    </li>
                    <li class="listitem">
                      <p>
NVIDIA GPU driver (<code class="literal">main</code> for <a class="ulink" href="https://en.wikipedia.org/wiki/Nouveau_(software)">nouveau</a> driver, and <code class="literal">non-free</code> for binary-only drivers supported by the vendor.)
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p><a class="ulink" href="https://en.wikipedia.org/wiki/Softmodem">Softmodem</a> driver
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
martian-modem and sl-modem-dkms packages (<code class="literal">non-free</code>)
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <p>The firmware is the code or data loaded on the device (e.g., CPU <a class="ulink" href="https://en.wikipedia.org/wiki/Microcode">microcode</a>, rendering code running on GPU, or <a class="ulink" href="https://en.wikipedia.org/wiki/FPGA">FPGA</a> / <a class="ulink" href="https://en.wikipedia.org/wiki/Complex_programmable_logic_device">CPLD</a> data, …).  Some firmware packages are available as free software but many firmware packages are not available as free software since they contain sourceless binary data.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
firmware-linux-free (<code class="literal">main</code>)
</p>
              </li>
              <li class="listitem">
                <p>
firmware-linux-nonfree (<code class="literal">non-free</code>)
</p>
              </li>
              <li class="listitem">
                <p>
firmware-linux-* (<code class="literal">non-free</code>)
</p>
              </li>
              <li class="listitem">
                <p>
*-firmware (<code class="literal">non-free</code>)
</p>
              </li>
              <li class="listitem">
                <p>
intel-microcode (<code class="literal">non-free</code>)
</p>
              </li>
              <li class="listitem">
                <p>
amd64-microcode (<code class="literal">non-free</code>)
</p>
              </li>
            </ul>
          </div>
          <p>Please note that <code class="literal">non-free</code> and <code class="literal">contrib</code> packages are not part of the Debian system.  The access configuration to enable and to disable the <code class="literal">non-free</code> and <code class="literal">contrib</code> areas is described in <a class="xref" href="ch02.en.html#_debian_archive_basics" title="2.1.4. Debian archive basics">Section 2.1.4, “Debian archive basics”</a>.  You should be aware of negatives associated with the use of the <code class="literal">non-free</code> and <code class="literal">contrib</code> packages as described in <a class="xref" href="ch02.en.html#_debian_is_100_free_software" title="2.1.5. Debian is 100% free software">Section 2.1.5, “Debian is 100% free software”</a>.</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="_virtualized_system"/>9.10. Virtualized system</h2>
            </div>
          </div>
        </div>
        <p>Use of virtualized system enables us to run multiple instances of system simultaneously on a single hardware.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Tip]" src="images/tip.png"/>
              </td>
              <th align="left">Tip</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>See <a class="ulink" href="http://wiki.debian.org/SystemVirtualization">http://wiki.debian.org/SystemVirtualization</a>.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_virtualization_tools"/>9.10.1. Virtualization tools</h3>
              </div>
            </div>
          </div>
          <p>There are several system <a class="ulink" href="https://en.wikipedia.org/wiki/Virtualization">virtualization</a> and <a class="ulink" href="https://en.wikipedia.org/wiki/Emulator">emulation</a> related packages in Debian beyond simple <a class="ulink" href="https://en.wikipedia.org/wiki/Chroot">chroot</a>.  Some packages also help you to setup such system.</p>
          <div class="table">
            <a id="listofvirtualizationtools"/>
            <p class="title">
              <strong>Table 9.26. List of virtualization tools</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="List of virtualization tools" border="1">
                <colgroup>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                  <col style="text-align: left"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left">
    package
    </th>
                    <th style="text-align: left">
    popcon
    </th>
                    <th style="text-align: left">
    size
    </th>
                    <th style="text-align: left">
    description
    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/schroot">
                  <code class="literal">schroot</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=schroot">V:7, I:10</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/schroot.html">2728</a>
                    </td>
                    <td style="text-align: left">
    specialized tool for executing Debian binary packages in chroot
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/sbuild">
                  <code class="literal">sbuild</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=sbuild">V:1, I:4</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/s/sbuild.html">298</a>
                    </td>
                    <td style="text-align: left">
    tool for building Debian binary packages from Debian sources
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/pbuilder">
                  <code class="literal">pbuilder</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=pbuilder">V:1, I:16</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/p/pbuilder.html">966</a>
                    </td>
                    <td style="text-align: left">
    personal package builder for Debian packages
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/debootstrap">
                  <code class="literal">debootstrap</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=debootstrap">V:6, I:63</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/debootstrap.html">283</a>
                    </td>
                    <td style="text-align: left">
    bootstrap a basic Debian system (written in sh)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/cdebootstrap">
                  <code class="literal">cdebootstrap</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=cdebootstrap">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/c/cdebootstrap.html">116</a>
                    </td>
                    <td style="text-align: left">
    bootstrap a Debian system (written in C)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/virt-manager">
                  <code class="literal">virt-manager</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=virt-manager">V:9, I:34</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/v/virt-manager.html">6770</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Virtual_Machine_Manager">Virtual Machine Manager</a>: desktop application for managing virtual machines
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/libvirt-clients">
                  <code class="literal">libvirt-clients</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=libvirt-clients">V:30, I:51</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/libv/libvirt-clients.html">2139</a>
                    </td>
                    <td style="text-align: left">
    programs for the <a class="ulink" href="https://en.wikipedia.org/wiki/Libvirt">libvirt</a> library
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/bochs">
                  <code class="literal">bochs</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=bochs">V:0, I:1</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/b/bochs.html">6706</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Bochs">Bochs</a>: IA-32 PC emulator
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/qemu">
                  <code class="literal">qemu</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=qemu">I:35</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/q/qemu.html">95</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>: fast generic processor emulator
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/qemu-system">
                  <code class="literal">qemu-system</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=qemu-system">I:32</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/q/qemu-system.html">96</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>: full system emulation binaries
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/qemu-user">
                  <code class="literal">qemu-user</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=qemu-user">V:2, I:30</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/q/qemu-user.html">84481</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>: user mode emulation binaries
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/qemu-utils">
                  <code class="literal">qemu-utils</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=qemu-utils">V:9, I:97</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/q/qemu-utils.html">5536</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>: utilities
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/qemu-kvm">
                  <code class="literal">qemu-kvm</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=qemu-kvm">V:16, I:70</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/q/qemu-kvm.html">105</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine">KVM</a>: full virtualization on x86 hardware with the <a class="ulink" href="https://en.wikipedia.org/wiki/Hardware-assisted_virtualization">hardware-assisted virtualization</a></td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/virtualbox">
                  <code class="literal">virtualbox</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=virtualbox">V:33, I:41</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/v/virtualbox.html">127956</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/VirtualBox">VirtualBox</a>: x86 virtualization solution on i386 and amd64
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/xen-tools">
                  <code class="literal">xen-tools</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=xen-tools">V:0, I:5</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/x/xen-tools.html">704</a>
                    </td>
                    <td style="text-align: left">
    tools to manage debian <a class="ulink" href="https://en.wikipedia.org/wiki/Xen">XEN</a> virtual server
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/wine">
                  <code class="literal">wine</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=wine">V:21, I:95</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/w/wine.html">189</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/Wine_(software)">Wine</a>: Windows API Implementation (standard suite)
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dosbox">
                  <code class="literal">dosbox</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dosbox">V:2, I:19</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dosbox.html">2778</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/DOSBox">DOSBox</a>: x86 emulator with Tandy/Herc/CGA/EGA/VGA/SVGA graphics, sound and DOS
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/dosemu">
                  <code class="literal">dosemu</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=dosemu">V:0, I:3</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/d/dosemu.html">4891</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/DOSEMU">DOSEMU</a>: The Linux DOS Emulator
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/vzctl">
                  <code class="literal">vzctl</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=vzctl">V:1, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/v/vzctl.html">1112</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/OpenVZ">OpenVZ</a> server virtualization solution - control tools
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/vzquota">
                  <code class="literal">vzquota</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=vzquota">V:1, I:2</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/v/vzquota.html">236</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="https://en.wikipedia.org/wiki/OpenVZ">OpenVZ</a> server virtualization solution - quota tools
    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.debian.org/sid/lxc">
                  <code class="literal">lxc</code>
                </a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://qa.debian.org/popcon-graph.php?packages=lxc">V:9, I:14</a>
                    </td>
                    <td style="text-align: left">
                      <a class="ulink" href="http://packages.qa.debian.org/l/lxc.html">2412</a>
                    </td>
                    <td style="text-align: left"><a class="ulink" href="http://lxc.sourceforge.net/">Linux containers</a> user space tools
    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>See Wikipedia article <a class="ulink" href="https://en.wikipedia.org/wiki/Comparison_of_platform_virtual_machines">Comparison of platform virtual machines</a> for detail comparison of different platform virtualization solutions.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_virtualization_work_flow"/>9.10.2. Virtualization work flow</h3>
              </div>
            </div>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Some functionalities described here are only available in <code class="literal">squeeze</code> or later.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Default Debian kernels support <a class="ulink" href="https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine">KVM</a> since <code class="literal">lenny</code>.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Typical work flow for <a class="ulink" href="https://en.wikipedia.org/wiki/Virtualization">virtualization</a> involves several steps.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p>
Create an empty filesystem (a file tree or a disk image).
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
The file tree can be created by "<code class="literal">mkdir -p /path/to/chroot</code>".
</p>
                    </li>
                    <li class="listitem">
                      <p>
The raw disk image file can be created with <span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span> (see <a class="xref" href="ch09.en.html#_making_the_disk_image_file" title="9.6.1. Making the disk image file">Section 9.6.1, “Making the disk image file”</a> and <a class="xref" href="ch09.en.html#_making_the_empty_disk_image_file" title="9.6.5. Making the empty disk image file">Section 9.6.5, “Making the empty disk image file”</a>).
</p>
                    </li>
                    <li class="listitem">
                      <p><span class="citerefentry"><span class="refentrytitle">qemu-img</span>(1)</span> can be used to create and convert disk image files supported by <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>.
</p>
                    </li>
                    <li class="listitem">
                      <p>
The raw and <a class="ulink" href="https://en.wikipedia.org/wiki/VMDK">VMDK</a> file format can be used as common format among virtualization tools.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Mount the disk image with <span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span> to the filesystem (optional).
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
For the raw disk image file, mount it as <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> or <a class="ulink" href="https://en.wikipedia.org/wiki/Device_mapper">device mapper</a> devices (see <a class="xref" href="ch09.en.html#_mounting_the_disk_image_file" title="9.6.3. Mounting the disk image file">Section 9.6.3, “Mounting the disk image file”</a>).
</p>
                    </li>
                    <li class="listitem">
                      <p>
For disk images supported by <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>, mount them as <a class="ulink" href="https://en.wikipedia.org/wiki/Network_block_device">network block device</a> (see <a class="xref" href="ch09.en.html#_mounting_the_virtual_disk_image_file" title="9.10.3. Mounting the virtual disk image file">Section 9.10.3, “Mounting the virtual disk image file”</a>).
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Populate the target filesystem with required system data.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p>
The use of programs such as <code class="literal">debootstrap</code> and <code class="literal">cdebootstrap</code> helps with this process (see <a class="xref" href="ch09.en.html#_chroot_system" title="9.10.4. Chroot system">Section 9.10.4, “Chroot system”</a>).
</p>
                    </li>
                    <li class="listitem">
                      <p>
Use installers of OSs under the full system emulation.
</p>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p>
Run a program under a virtualized environment.
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p><a class="ulink" href="https://en.wikipedia.org/wiki/Chroot">chroot</a> provides basic virtualized environment enough to compile programs, run console applications, and run daemons in it.
</p>
                    </li>
                    <li class="listitem">
                      <p><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> provides cross-platform CPU emulation.
</p>
                    </li>
                    <li class="listitem">
                      <p><a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> with <a class="ulink" href="https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine">KVM</a> provides full system emulation by the <a class="ulink" href="https://en.wikipedia.org/wiki/Hardware-assisted_virtualization">hardware-assisted virtualization</a>.
</p>
                    </li>
                    <li class="listitem">
                      <p><a class="ulink" href="https://en.wikipedia.org/wiki/VirtualBox">VirtualBox</a> provides full system emulation on i386 and amd64 with or without the <a class="ulink" href="https://en.wikipedia.org/wiki/Hardware-assisted_virtualization">hardware-assisted virtualization</a>.
</p>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_mounting_the_virtual_disk_image_file"/>9.10.3. Mounting the virtual disk image file</h3>
              </div>
            </div>
          </div>
          <p>For the raw disk image file, see <a class="xref" href="ch09.en.html#_the_disk_image" title="9.6. The disk image">Section 9.6, “The disk image”</a>.</p>
          <p>For other virtual disk image files, you can use <span class="citerefentry"><span class="refentrytitle">qemu-nbd</span>(8)</span> to export them using <a class="ulink" href="https://en.wikipedia.org/wiki/Network_block_device">network block device</a> protocol and mount them using the <code class="literal">nbd</code> kernel module.</p>
          <p><span class="citerefentry"><span class="refentrytitle">qemu-nbd</span>(8)</span> supports disk formats supported by <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a>: <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> supports following disk formats: raw, <a class="ulink" href="https://en.wikipedia.org/wiki/Qcow">qcow2, qcow</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/VMDK">vmdk</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/VirtualBox#Virtual_Desktop_Image">vdi</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/Bochs">bochs</a>, cow (user-mode Linux copy-on-write), <a class="ulink" href="https://en.wikipedia.org/wiki/Parallels_Workstation">parallels</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/Apple_Disk_Image">dmg</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/Cloop">cloop</a>, <a class="ulink" href="https://en.wikipedia.org/wiki/VHD_(file_format)">vpc</a>, vvfat (virtual VFAT), and host_device.</p>
          <p>The <a class="ulink" href="https://en.wikipedia.org/wiki/Network_block_device">network block device</a> can support partitions in the same way as the <a class="ulink" href="https://en.wikipedia.org/wiki/Loop_device">loop device</a> (see <a class="xref" href="ch09.en.html#_mounting_the_disk_image_file" title="9.6.3. Mounting the disk image file">Section 9.6.3, “Mounting the disk image file”</a>).  You can mount the first partition of "<code class="literal">disk.img</code>" as follows.</p>
          <pre class="screen"># modprobe nbd max_part=16
# qemu-nbd -v -c /dev/nbd0 disk.img
...
# mkdir /mnt/part1
# mount /dev/nbd0p1 /mnt/part1</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>You may export only the first partition of "<code class="literal">disk.img</code>" using "<code class="literal">-P 1</code>" option to <span class="citerefentry"><span class="refentrytitle">qemu-nbd</span>(8)</span>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_chroot_system"/>9.10.4. Chroot system</h3>
              </div>
            </div>
          </div>
          <p><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span> offers most basic way to run different instances of the GNU/Linux environment on a single system simultaneously without rebooting.</p>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Caution]" src="images/caution.png"/>
                </td>
                <th align="left">Caution</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Examples below assumes both parent system and chroot system share the same CPU architecture.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>You can learn how to setup and use <span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span> by running <span class="citerefentry"><span class="refentrytitle">pbuilder</span>(8)</span> program under <span class="citerefentry"><span class="refentrytitle">script</span>(1)</span> as follows.</p>
          <pre class="screen">$ sudo mkdir /sid-root
$ sudo pbuilder --create --no-targz --debug --buildplace /sid-root</pre>
          <p>You see how <span class="citerefentry"><span class="refentrytitle">debootstrap</span>(8)</span> or <span class="citerefentry"><span class="refentrytitle">cdebootstrap</span>(1)</span> populate system data for <code class="literal">sid</code> environment under "<code class="literal">/sid-root</code>".</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>These <span class="citerefentry"><span class="refentrytitle">debootstrap</span>(8)</span> or <span class="citerefentry"><span class="refentrytitle">cdebootstrap</span>(1)</span> are used to <a class="ulink" href="https://www.debian.org/releases/stable/installmanual">install Debian</a> by the Debian Installer.  These can also be used to install Debian to a system without using a Debian install disk, but instead from another GNU/Linux distribution.</p>
                </td>
              </tr>
            </table>
          </div>
          <pre class="screen">$ sudo pbuilder --login --no-targz  --debug --buildplace /sid-root</pre>
          <p>You see how a system shell running under <code class="literal">sid</code> environment is created as the following.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
                <p>
Copy local configuration (<code class="literal">"/etc/hosts</code>", <code class="literal">"/etc/hostname</code>", <code class="literal">"/etc/resolv.conf</code>")
</p>
              </li>
              <li class="listitem">
                <p>
Mount "<code class="literal">/proc</code>" filesystem
</p>
              </li>
              <li class="listitem">
                <p>
Mount "<code class="literal">/dev/pts</code>" filesystem
</p>
              </li>
              <li class="listitem">
                <p>
Create "<code class="literal">/usr/sbin/policy-rc.d</code>" which always exits with 101
</p>
              </li>
              <li class="listitem">
                <p>
Run "<code class="literal">chroot /sid-root bin/bash -c 'exec -a -bash bin/bash'</code>"
</p>
              </li>
            </ol>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Some programs under chroot may require access to more files from the parent system to function than <code class="literal">pbuilder</code> provides.  For example, "<code class="literal">/sys</code>", "<code class="literal">/etc/passwd</code>", "<code class="literal">/etc/group</code>", "<code class="literal">/var/run/utmp</code>", "<code class="literal">/var/log/wtmp</code>", etc. may need to be bind-mounted or copied.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Note]" src="images/note.png"/>
                </td>
                <th align="left">Note</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The "<code class="literal">/usr/sbin/policy-rc.d</code>" file prevents daemon programs to be started automatically on the Debian system.  See "<code class="literal">/usr/share/doc/sysv-rc/README.policy-rc.d.gz</code>".</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The original purpose of the specialized chroot package, <code class="literal">pbuilder</code> is to construct a chroot system and builds a package inside the chroot.  It is an ideal system to use to check that a package's build-dependencies are correct, and to be sure that unnecessary and wrong build dependencies do not exist in the resulting package.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Similar <code class="literal">schroot</code> package may give you an idea to run <code class="literal">i386</code> chroot system under <code class="literal">amd64</code> parent system.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_multiple_desktop_systems"/>9.10.5. Multiple desktop systems</h3>
              </div>
            </div>
          </div>
          <p>I recommend you to use <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> or <a class="ulink" href="https://en.wikipedia.org/wiki/VirtualBox">VirtualBox</a> on a Debian <code class="literal">stable</code> system to run multiple desktop systems safely using <a class="ulink" href="https://en.wikipedia.org/wiki/Virtualization">virtualization</a>.  These enable you to run desktop applications of Debian <code class="literal">unstable</code> and <code class="literal">testing</code> without usual risks associated with them.</p>
          <p>Since pure <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> is very slow, it is recommended to accelerate it with <a class="ulink" href="https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine">KVM</a> when the host system support it.</p>
          <p>The virtual disk image "<code class="literal">virtdisk.qcow2</code>" containing a Debian system for <a class="ulink" href="https://en.wikipedia.org/wiki/QEMU">QEMU</a> can be created using <a class="ulink" href="https://www.debian.org/distrib/netinst">debian-installer: Small CDs</a> as follows.</p>
          <pre class="screen">$ wget http://cdimage.debian.org/debian-cd/5.0.3/amd64/iso-cd/debian-503-amd64-netinst.iso
$ qemu-img create -f qcow2 virtdisk.qcow2 5G
$ qemu -hda virtdisk.qcow2 -cdrom debian-503-amd64-netinst.iso -boot d -m 256
...</pre>
          <p>See more tips at <a class="ulink" href="http://wiki.debian.org/QEMU">Debian wiki: QEMU</a>.</p>
          <p><a class="ulink" href="https://en.wikipedia.org/wiki/VirtualBox">VirtualBox</a> comes with <a class="ulink" href="https://en.wikipedia.org/wiki/Qt_(toolkit)">Qt</a> GUI tools and quite intuitive.  Its GUI and command line tools are explained in <a class="ulink" href="http://www.virtualbox.org/manual/UserManual.html">VirtualBox User Manual</a> and <a class="ulink" href="http://download.virtualbox.org/virtualbox/UserManual.pdf">VirtualBox User Manual (PDF)</a>.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Tip]" src="images/tip.png"/>
                </td>
                <th align="left">Tip</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Running other GNU/Linux distributions such as <a class="ulink" href="http://www.ubuntu.com/">Ubuntu</a> and <a class="ulink" href="http://fedoraproject.org/">Fedora</a> under <a class="ulink" href="https://en.wikipedia.org/wiki/Virtualization">virtualization</a> is a great way to learn configuration tips.  Other proprietary OSs may be run nicely under this GNU/Linux <a class="ulink" href="https://en.wikipedia.org/wiki/Virtualization">virtualization</a>, too.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr/>
      <table width="100%" summary="Navigation footer">
        <tr>
          <td align="left"><a accesskey="p" href="ch08.en.html"><img src="images/prev.png" alt="Prev"/></a> </td>
          <td align="center"> </td>
          <td align="right"> <a accesskey="n" href="ch10.en.html"><img src="images/next.png" alt="Next"/></a></td>
        </tr>
        <tr>
          <td align="left" valign="top">Chapter 8. I18N and L10N </td>
          <td align="center">
            <a accesskey="h" href="index.en.html">
              <img src="images/home.png" alt="Home"/>
            </a>
          </td>
          <td align="right" valign="top"> Chapter 10. Data management</td>
        </tr>
      </table>
    </div>
  </body>
</html>
